(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return reactify}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function reactify(renderFn,callbacks){class ReactifiedComponent extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component{constructor(props){super(props),this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,(null==callbacks?void 0:callbacks.componentWillUnmount)&&callbacks.componentWillUnmount.bind(this)()}setContainerRef(ref){this.container=ref}execute(){this.container&&renderFn(this.container,this.props)}render(){const{id:id,className:className}=this.props;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:this.setContainerRef,id:id,className:className})}}const ReactifiedClass=ReactifiedComponent;return renderFn.displayName&&(ReactifiedClass.displayName=renderFn.displayName),renderFn.propTypes&&(ReactifiedClass.propTypes=Object.assign(Object.assign({},ReactifiedClass.propTypes),renderFn.propTypes)),renderFn.defaultProps&&(ReactifiedClass.defaultProps=renderFn.defaultProps),ReactifiedComponent}},1644:function(module,exports,__webpack_require__){var api=__webpack_require__(270),content=__webpack_require__(1645);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1645:function(module,exports,__webpack_require__){(exports=__webpack_require__(271)(!1)).push([module.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.superset-legacy-chart-sankey-loop .node rect {\n  cursor: move;\n  fill-opacity: 0.9;\n  shape-rendering: crispEdges;\n}\n\n.superset-legacy-chart-sankey-loop .node text {\n  pointer-events: none;\n  text-shadow: 0 1px 0 #fff;\n}\n\n.superset-legacy-chart-sankey-loop .link {\n  fill: none;\n  stroke: #000;\n  stroke-opacity: 0.2;\n}\n\n.superset-legacy-chart-sankey-loop .link:hover {\n  stroke-opacity: 0.5;\n}\n\n.superset-legacy-chart-sankey-loop .link path {\n  opacity: 0.2;\n  stroke-opacity: 0;\n}\n\n.superset-legacy-chart-sankey-loop .link:hover path {\n  opacity: 0.5;\n}\n\n.superset-legacy-chart-sankey-loop .link text {\n  fill: #666;\n  font-size: 10px;\n}\n\n.superset-legacy-chart-sankey-loop .link:hover text {\n  opacity: 1;\n}\n',""]),module.exports=exports},2143:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var reactify=__webpack_require__(1175),prop_types=(__webpack_require__(40),__webpack_require__(4)),prop_types_default=__webpack_require__.n(prop_types),src_select=__webpack_require__(377),d3_sankey_diagram_umd=__webpack_require__(1643),src=__webpack_require__(159),NumberFormatterRegistrySingleton=__webpack_require__(91),NumberFormats=__webpack_require__(82);__webpack_require__(1644);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const defaultMargin={top:0,right:80,bottom:0,left:80},propTypes={data:prop_types_default.a.arrayOf(prop_types_default.a.shape({source:prop_types_default.a.string,target:prop_types_default.a.string,value:prop_types_default.a.number})),width:prop_types_default.a.number,height:prop_types_default.a.number,colorScheme:prop_types_default.a.string,margin:prop_types_default.a.shape({top:prop_types_default.a.number,right:prop_types_default.a.number,bottom:prop_types_default.a.number,left:prop_types_default.a.number})},percentFormat=Object(NumberFormatterRegistrySingleton.c)(NumberFormats.a.PERCENT_1_POINT),countFormat=Object(NumberFormatterRegistrySingleton.c)();function SankeyLoop_SankeyLoop(element,props){const{data:data,width:width,height:height,colorScheme:colorScheme}=props,color=src.CategoricalColorNamespace.getScale(colorScheme),margin=_objectSpread({},defaultMargin,{},props.margin),innerWidth=width-margin.left-margin.right,innerHeight=height-margin.top-margin.bottom,layout=Object(d3_sankey_diagram_umd.sankey)().nodeId(d=>d.id).extent([[margin.left,margin.top],[innerWidth,innerHeight]]),diagram=Object(d3_sankey_diagram_umd.sankeyDiagram)().nodeTitle(d=>d.name).linkTitle(({source:{name:sName,value:sValue},target:{name:tName},value:value})=>"".concat(sName," â†’ ").concat(tName,": ").concat(countFormat(value)," (").concat(percentFormat(value/sValue),")")).linkColor(d=>color(d.source.name));Object(src_select.a)(element).append("svg").classed("superset-legacy-chart-sankey-loop",!0).style("width",width).style("height",height).datum(layout(function computeGraph(links){return{nodes:Array.from(links.reduce((set,{source:source,target:target})=>set.add(source).add(target),new Set)).map(id=>({id:id,name:id})),links:links.map(d=>_objectSpread({},d))}}(data))).call(diagram).selectAll("g.link").classed("link",!0).append("text").attr("x",d=>d.points[0].x).attr("y",d=>d.points[0].y).attr("dy",3).attr("dx",2).text(d=>"".concat(countFormat(d.value)," (").concat(percentFormat(d.value/d.source.value),")"))}SankeyLoop_SankeyLoop.displayName="SankeyLoop",SankeyLoop_SankeyLoop.propTypes=propTypes;var src_SankeyLoop=SankeyLoop_SankeyLoop;__webpack_exports__.default=Object(reactify.a)(src_SankeyLoop)}}]);
//# sourceMappingURL=33.bc6f8eef590607f5244d.bundle.js.map