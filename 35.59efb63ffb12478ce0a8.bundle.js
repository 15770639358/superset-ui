(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{2121:function(module,exports,__webpack_require__){eval("var api = __webpack_require__(351);\n            var content = __webpack_require__(2122);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEyMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL01hcEJveC5jc3M/YTMwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9wYWNrYWdlcy9zdXBlcnNldC11aS1kZW1vL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vcGFja2FnZXMvc3VwZXJzZXQtdWktZGVtby9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS02LTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cG9zdGNzcyEuL01hcEJveC5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2121\n")},2122:function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(352);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\"License\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.mapbox .slice_container div {\\n  padding-top: 0px;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEyMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL01hcEJveC5jc3M/NzhjZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uL3BhY2thZ2VzL3N1cGVyc2V0LXVpLWRlbW8vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKipcXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXFxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXFxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXFxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxcbiAqIFxcXCJMaWNlbnNlXFxcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XFxuICpcXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxcbiAqXFxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXFxuICogXFxcIkFTIElTXFxcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXFxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXFxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxcbiAqL1xcbi5tYXBib3ggLnNsaWNlX2NvbnRhaW5lciBkaXYge1xcbiAgcGFkZGluZy10b3A6IDBweDtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2122\n')},2225:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "DEFAULT_MAX_ZOOM", function() { return /* binding */ DEFAULT_MAX_ZOOM; });\n__webpack_require__.d(__webpack_exports__, "DEFAULT_POINT_RADIUS", function() { return /* binding */ DEFAULT_POINT_RADIUS; });\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(57);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/react-map-gl/dist/esm/index.js + 72 modules\nvar esm = __webpack_require__(2108);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/immutable/dist/immutable.js\nvar immutable = __webpack_require__(1957);\nvar immutable_default = /*#__PURE__*/__webpack_require__.n(immutable);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/viewport-mercator-project/dist/esm/web-mercator-viewport.js + 10 modules\nvar web_mercator_viewport = __webpack_require__(2445);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(53);\n\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-map-box/src/utils/roundDecimal.js\nfunction roundDecimal(number,precision){let roundedNumber,p=precision;if(precision){roundedNumber=Math.round(number*(p=10**p))/p}else{roundedNumber=Math.round(number)}return roundedNumber}\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-map-box/src/utils/geo.js\nconst EARTH_CIRCUMFERENCE_KM=40075.16;const MILES_PER_KM=1.60934;function kmToPixels(kilometers,latitude,zoomLevel){// Algorithm from: http://wiki.openstreetmap.org/wiki/Zoom_levels\nconst latitudeRad=latitude*(Math.PI/180),kmPerPixel=EARTH_CIRCUMFERENCE_KM*Math.cos(latitudeRad)/2**(zoomLevel+9);// Seems like the zoomLevel is off by one\nreturn roundDecimal(kilometers/kmPerPixel,2)}\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-map-box/src/utils/luminanceFromRGB.js\nconst LUMINANCE_RED_WEIGHT=.2126;const LUMINANCE_GREEN_WEIGHT=.7152;const LUMINANCE_BLUE_WEIGHT=.0722;function luminanceFromRGB(r,g,b){// Formula: https://en.wikipedia.org/wiki/Relative_luminance\nreturn LUMINANCE_RED_WEIGHT*r+LUMINANCE_GREEN_WEIGHT*g+LUMINANCE_BLUE_WEIGHT*b}\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/mapbox-gl/dist/mapbox-gl.css\nvar mapbox_gl = __webpack_require__(2172);\n\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-map-box/src/ScatterPlotGlowOverlay.jsx\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ /* eslint-disable react/require-default-props */const propTypes={aggregation:prop_types_default.a.string,compositeOperation:prop_types_default.a.string,dotRadius:prop_types_default.a.number,lngLatAccessor:prop_types_default.a.func,locations:prop_types_default.a.instanceOf(immutable_default.a.List).isRequired,pointRadiusUnit:prop_types_default.a.string,renderWhileDragging:prop_types_default.a.bool,rgb:prop_types_default.a.arrayOf(prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number])),zoom:prop_types_default.a.number},defaultProps={// Same as browser default.\ncompositeOperation:"source-over",dotRadius:4,lngLatAccessor:location=>[location.get(0),location.get(1)],renderWhileDragging:!0},computeClusterLabel=(properties,aggregation)=>{const count=properties.get("point_count");if(!aggregation){return count}if("sum"===aggregation||"min"===aggregation||"max"===aggregation){return properties.get(aggregation)}const sum=properties.get("sum");if("mean"===aggregation){return Math.round(100*(sum/count))/100}const squaredSum=properties.get("squaredSum"),variance=squaredSum/count-(sum/count)**2;if("var"===aggregation){return Math.round(100*variance)/100}if("stdev"===aggregation){return Math.round(100*Math.sqrt(variance))/100}// fallback to point_count, this really shouldn\'t happen\nreturn count};class ScatterPlotGlowOverlay_ScatterPlotGlowOverlay extends react_default.a.PureComponent{constructor(props){super(props);this.redraw=this.redraw.bind(this)}drawText(ctx,pixel,options={}){const{fontHeight=0,label="",radius=0,rgb=[0,0,0],shadow=!1}=options,maxWidth=1.8*radius,luminance=luminanceFromRGB(rgb[1],rgb[2],rgb[3]);ctx.globalCompositeOperation="source-over";ctx.fillStyle=luminance<=110?"white":"black";ctx.font=`${fontHeight}px sans-serif`;ctx.textAlign="center";ctx.textBaseline="middle";if(shadow){ctx.shadowBlur=15;ctx.shadowColor=luminance<=110?"black":""}const textWidth=ctx.measureText(label).width;if(textWidth>maxWidth){ctx.font=`${fontHeight/textWidth*maxWidth}px sans-serif`}const{compositeOperation}=this.props;ctx.fillText(label,pixel[0],pixel[1]);ctx.globalCompositeOperation=compositeOperation;ctx.shadowBlur=0;ctx.shadowColor=""}// Modified: https://github.com/uber/react-map-gl/blob/master/overlays/scatterplot.react.js\nredraw({width,height,ctx,isDragging,project}){const{aggregation,compositeOperation,dotRadius,lngLatAccessor,locations,pointRadiusUnit,renderWhileDragging,rgb,zoom}=this.props,radius=dotRadius,clusterLabelMap=[];locations.forEach((location,i)=>{if(location.get("properties").get("cluster")){clusterLabelMap[i]=computeClusterLabel(location.get("properties"),aggregation)}},this);const maxLabel=Math.max(...clusterLabelMap.filter(v=>!Number.isNaN(v)));ctx.clearRect(0,0,width,height);ctx.globalCompositeOperation=compositeOperation;if((renderWhileDragging||!isDragging)&&locations){locations.forEach(function(location,i){const pixel=project(lngLatAccessor(location)),pixelRounded=[roundDecimal(pixel[0],1),roundDecimal(pixel[1],1)];if(0<=pixelRounded[0]+radius&&pixelRounded[0]-radius<width&&0<=pixelRounded[1]+radius&&pixelRounded[1]-radius<height){ctx.beginPath();if(location.get("properties").get("cluster")){let clusterLabel=clusterLabelMap[i];const scaledRadius=roundDecimal((clusterLabel/maxLabel)**.5*radius,1),fontHeight=roundDecimal(.5*scaledRadius,1),[x,y]=pixelRounded,gradient=ctx.createRadialGradient(x,y,scaledRadius,x,y,0);gradient.addColorStop(1,`rgba(${rgb[1]}, ${rgb[2]}, ${rgb[3]}, 0.8)`);gradient.addColorStop(0,`rgba(${rgb[1]}, ${rgb[2]}, ${rgb[3]}, 0)`);ctx.arc(pixelRounded[0],pixelRounded[1],scaledRadius,0,2*Math.PI);ctx.fillStyle=gradient;ctx.fill();if(Number.isFinite(parseFloat(clusterLabel))){if(1e4<=clusterLabel){clusterLabel=`${Math.round(clusterLabel/1e3)}k`}else if(1e3<=clusterLabel){clusterLabel=`${Math.round(clusterLabel/100)/10}k`}this.drawText(ctx,pixelRounded,{fontHeight,label:clusterLabel,radius:scaledRadius,rgb,shadow:!0})}}else{const defaultRadius=radius/6,radiusProperty=location.get("properties").get("radius"),pointMetric=location.get("properties").get("metric");let pointRadius=null===radiusProperty?defaultRadius:radiusProperty,pointLabel;if(null!==radiusProperty){const pointLatitude=lngLatAccessor(location)[1];if("Kilometers"===pointRadiusUnit){pointLabel=`${roundDecimal(pointRadius,2)}km`;pointRadius=kmToPixels(pointRadius,pointLatitude,zoom)}else if("Miles"===pointRadiusUnit){pointLabel=`${roundDecimal(pointRadius,2)}mi`;pointRadius=kmToPixels(pointRadius*MILES_PER_KM,pointLatitude,zoom)}}if(null!==pointMetric){pointLabel=Number.isFinite(parseFloat(pointMetric))?roundDecimal(pointMetric,2):pointMetric}// Fall back to default points if pointRadius wasn\'t a numerical column\nif(!pointRadius){pointRadius=defaultRadius}ctx.arc(pixelRounded[0],pixelRounded[1],roundDecimal(pointRadius,1),0,2*Math.PI);ctx.fillStyle=`rgb(${rgb[1]}, ${rgb[2]}, ${rgb[3]})`;ctx.fill();if(pointLabel!==void 0){this.drawText(ctx,pixelRounded,{fontHeight:roundDecimal(pointRadius,1),label:pointLabel,radius:pointRadius,rgb,shadow:!1})}}}},this)}}render(){return/*#__PURE__*/react_default.a.createElement(esm["a" /* CanvasOverlay */],{redraw:this.redraw})}}ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.displayName="ScatterPlotGlowOverlay";ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.propTypes=propTypes;ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.defaultProps=defaultProps;ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.__docgenInfo={description:"",methods:[{name:"drawText",docblock:null,modifiers:[],params:[{name:"ctx",type:null},{name:"pixel",type:null},{name:"options",type:null}],returns:null},{name:"redraw",docblock:null,modifiers:[],params:[{name:"{ width, height, ctx, isDragging, project }",type:null}],returns:null}],displayName:"ScatterPlotGlowOverlay",props:{compositeOperation:{defaultValue:{value:"\'source-over\'",computed:!1},type:{name:"string"},required:!1,description:""},dotRadius:{defaultValue:{value:"4",computed:!1},type:{name:"number"},required:!1,description:""},lngLatAccessor:{defaultValue:{value:"location => [location.get(0), location.get(1)]",computed:!1},type:{name:"func"},required:!1,description:""},renderWhileDragging:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},aggregation:{type:{name:"string"},required:!1,description:""},locations:{type:{name:"instanceOf",value:"Immutable.List"},required:!0,description:""},pointRadiusUnit:{type:{name:"string"},required:!1,description:""},rgb:{type:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"number"}]}},required:!1,description:""},zoom:{type:{name:"number"},required:!1,description:""}}};/* harmony default export */ var src_ScatterPlotGlowOverlay = (ScatterPlotGlowOverlay_ScatterPlotGlowOverlay);if("undefined"!=typeof STORYBOOK_REACT_CLASSES){STORYBOOK_REACT_CLASSES["../../plugins/legacy-plugin-chart-map-box/src/ScatterPlotGlowOverlay.jsx"]={name:"ScatterPlotGlowOverlay",docgenInfo:ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.__docgenInfo,path:"../../plugins/legacy-plugin-chart-map-box/src/ScatterPlotGlowOverlay.jsx"}}\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-map-box/src/MapBox.css\nvar src_MapBox = __webpack_require__(2121);\n\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-map-box/src/MapBox.jsx\nfunction _extends(){_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ /* eslint-disable react/jsx-sort-default-props, react/sort-prop-types */ /* eslint-disable react/forbid-prop-types, react/require-default-props */const NOOP=()=>{};const DEFAULT_MAX_ZOOM=16;const DEFAULT_POINT_RADIUS=60;const MapBox_propTypes={width:prop_types_default.a.number,height:prop_types_default.a.number,aggregatorName:prop_types_default.a.string,clusterer:prop_types_default.a.object,globalOpacity:prop_types_default.a.number,hasCustomMetric:prop_types_default.a.bool,mapStyle:prop_types_default.a.string,mapboxApiKey:prop_types_default.a.string.isRequired,onViewportChange:prop_types_default.a.func,pointRadius:prop_types_default.a.number,pointRadiusUnit:prop_types_default.a.string,renderWhileDragging:prop_types_default.a.bool,rgb:prop_types_default.a.array,bounds:prop_types_default.a.array},MapBox_defaultProps={width:400,height:400,globalOpacity:1,onViewportChange:NOOP,pointRadius:60,pointRadiusUnit:"Pixels"};class MapBox_MapBox extends react_default.a.Component{constructor(props){super(props);const{width,height,bounds}=this.props,mercator=new web_mercator_viewport["a" /* default */]({width,height}).fitBounds(bounds),{latitude,longitude,zoom}=mercator;// Get a viewport that fits the given bounds, which all marks to be clustered.\n// Derive lat, lon and zoom from this viewport. This is only done on initial\n// render as the bounds don\'t update as we pan/zoom in the current design.\nthis.state={viewport:{longitude,latitude,zoom}};this.handleViewportChange=this.handleViewportChange.bind(this)}handleViewportChange(viewport){this.setState({viewport});const{onViewportChange}=this.props;onViewportChange(viewport)}render(){const{width,height,aggregatorName,clusterer,globalOpacity,mapStyle,mapboxApiKey,pointRadius,pointRadiusUnit,renderWhileDragging,rgb,hasCustomMetric,bounds}=this.props,{viewport}=this.state,isDragging=viewport.isDragging===void 0?!1:viewport.isDragging,offsetHorizontal=.5*width/100,offsetVertical=.5*height/100,bbox=[bounds[0][0]-offsetHorizontal,bounds[0][1]-offsetVertical,bounds[1][0]+offsetHorizontal,bounds[1][1]+offsetVertical],clusters=clusterer.getClusters(bbox,Math.round(viewport.zoom));return/*#__PURE__*/react_default.a.createElement(esm["b" /* default */],_extends({},viewport,{mapStyle:mapStyle,width:width,height:height,mapboxApiAccessToken:mapboxApiKey,onViewportChange:this.handleViewportChange,preserveDrawingBuffer:!0}),/*#__PURE__*/react_default.a.createElement(src_ScatterPlotGlowOverlay,_extends({},viewport,{isDragging:isDragging,locations:immutable_default.a.fromJS(clusters),dotRadius:pointRadius,pointRadiusUnit:pointRadiusUnit,rgb:rgb,globalOpacity:globalOpacity,compositeOperation:"screen",renderWhileDragging:renderWhileDragging,aggregation:hasCustomMetric?aggregatorName:null,lngLatAccessor:location=>{const coordinates=location.get("geometry").get("coordinates");return[coordinates.get(0),coordinates.get(1)]}})))}}MapBox_MapBox.displayName="MapBox";MapBox_MapBox.propTypes=MapBox_propTypes;MapBox_MapBox.defaultProps=MapBox_defaultProps;MapBox_MapBox.__docgenInfo={description:"",methods:[{name:"handleViewportChange",docblock:null,modifiers:[],params:[{name:"viewport",type:null}],returns:null}],displayName:"MapBox",props:{width:{defaultValue:{value:"400",computed:!1},type:{name:"number"},required:!1,description:""},height:{defaultValue:{value:"400",computed:!1},type:{name:"number"},required:!1,description:""},globalOpacity:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},onViewportChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},pointRadius:{defaultValue:{value:"60",computed:!1},type:{name:"number"},required:!1,description:""},pointRadiusUnit:{defaultValue:{value:"\'Pixels\'",computed:!1},type:{name:"string"},required:!1,description:""},aggregatorName:{type:{name:"string"},required:!1,description:""},clusterer:{type:{name:"object"},required:!1,description:""},hasCustomMetric:{type:{name:"bool"},required:!1,description:""},mapStyle:{type:{name:"string"},required:!1,description:""},mapboxApiKey:{type:{name:"string"},required:!0,description:""},renderWhileDragging:{type:{name:"bool"},required:!1,description:""},rgb:{type:{name:"array"},required:!1,description:""},bounds:{type:{name:"array"},required:!1,description:""}}};/* harmony default export */ var legacy_plugin_chart_map_box_src_MapBox = __webpack_exports__["default"] = (MapBox_MapBox);if("undefined"!=typeof STORYBOOK_REACT_CLASSES){STORYBOOK_REACT_CLASSES["../../plugins/legacy-plugin-chart-map-box/src/MapBox.jsx"]={name:"MapBox",docgenInfo:MapBox_MapBox.__docgenInfo,path:"../../plugins/legacy-plugin-chart-map-box/src/MapBox.jsx"}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIyNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL3V0aWxzL3JvdW5kRGVjaW1hbC5qcz81NThkIiwid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL3V0aWxzL2dlby5qcz9kYWY5Iiwid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL3V0aWxzL2x1bWluYW5jZUZyb21SR0IuanM/ZGI0YiIsIndlYnBhY2s6Ly8vL1VzZXJzL2VyaWtfcml0dGVyL3JlcG9zL2dpdGh1Yi5jb20vYXBhY2hlLXN1cGVyc2V0L3N1cGVyc2V0LXVpL3BsdWdpbnMvbGVnYWN5LXBsdWdpbi1jaGFydC1tYXAtYm94L3NyYy9TY2F0dGVyUGxvdEdsb3dPdmVybGF5LmpzeD85MWExIiwid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL01hcEJveC5qc3g/NTJjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByb3VuZERlY2ltYWwobnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgbGV0IHJvdW5kZWROdW1iZXI7XG4gIGxldCBwID0gcHJlY2lzaW9uO1xuICBpZiAocHJlY2lzaW9uKSB7XG4gICAgcm91bmRlZE51bWJlciA9IE1hdGgucm91bmQobnVtYmVyICogKHAgPSAxMCAqKiBwKSkgLyBwO1xuICB9IGVsc2Uge1xuICAgIHJvdW5kZWROdW1iZXIgPSBNYXRoLnJvdW5kKG51bWJlcik7XG4gIH1cblxuICByZXR1cm4gcm91bmRlZE51bWJlcjtcbn1cbiIsImltcG9ydCByb3VuZERlY2ltYWwgZnJvbSAnLi9yb3VuZERlY2ltYWwnO1xuXG5leHBvcnQgY29uc3QgRUFSVEhfQ0lSQ1VNRkVSRU5DRV9LTSA9IDQwMDc1LjE2O1xuZXhwb3J0IGNvbnN0IE1JTEVTX1BFUl9LTSA9IDEuNjA5MzQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBrbVRvUGl4ZWxzKGtpbG9tZXRlcnMsIGxhdGl0dWRlLCB6b29tTGV2ZWwpIHtcbiAgLy8gQWxnb3JpdGhtIGZyb206IGh0dHA6Ly93aWtpLm9wZW5zdHJlZXRtYXAub3JnL3dpa2kvWm9vbV9sZXZlbHNcbiAgY29uc3QgbGF0aXR1ZGVSYWQgPSBsYXRpdHVkZSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgLy8gU2VlbXMgbGlrZSB0aGUgem9vbUxldmVsIGlzIG9mZiBieSBvbmVcbiAgY29uc3Qga21QZXJQaXhlbCA9IChFQVJUSF9DSVJDVU1GRVJFTkNFX0tNICogTWF0aC5jb3MobGF0aXR1ZGVSYWQpKSAvIDIgKiogKHpvb21MZXZlbCArIDkpO1xuXG4gIHJldHVybiByb3VuZERlY2ltYWwoa2lsb21ldGVycyAvIGttUGVyUGl4ZWwsIDIpO1xufVxuIiwiZXhwb3J0IGNvbnN0IExVTUlOQU5DRV9SRURfV0VJR0hUID0gMC4yMTI2O1xuZXhwb3J0IGNvbnN0IExVTUlOQU5DRV9HUkVFTl9XRUlHSFQgPSAwLjcxNTI7XG5leHBvcnQgY29uc3QgTFVNSU5BTkNFX0JMVUVfV0VJR0hUID0gMC4wNzIyO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsdW1pbmFuY2VGcm9tUkdCKHIsIGcsIGIpIHtcbiAgLy8gRm9ybXVsYTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmVsYXRpdmVfbHVtaW5hbmNlXG4gIHJldHVybiBMVU1JTkFOQ0VfUkVEX1dFSUdIVCAqIHIgKyBMVU1JTkFOQ0VfR1JFRU5fV0VJR0hUICogZyArIExVTUlOQU5DRV9CTFVFX1dFSUdIVCAqIGI7XG59XG4iLCIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9yZXF1aXJlLWRlZmF1bHQtcHJvcHMgKi9cbmltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ2FudmFzT3ZlcmxheSB9IGZyb20gJ3JlYWN0LW1hcC1nbCc7XG5pbXBvcnQgeyBrbVRvUGl4ZWxzLCBNSUxFU19QRVJfS00gfSBmcm9tICcuL3V0aWxzL2dlbyc7XG5pbXBvcnQgcm91bmREZWNpbWFsIGZyb20gJy4vdXRpbHMvcm91bmREZWNpbWFsJztcbmltcG9ydCBsdW1pbmFuY2VGcm9tUkdCIGZyb20gJy4vdXRpbHMvbHVtaW5hbmNlRnJvbVJHQic7XG5pbXBvcnQgJ21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3MnO1xuXG5jb25zdCBwcm9wVHlwZXMgPSB7XG4gIGFnZ3JlZ2F0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb21wb3NpdGVPcGVyYXRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRvdFJhZGl1czogUHJvcFR5cGVzLm51bWJlcixcbiAgbG5nTGF0QWNjZXNzb3I6IFByb3BUeXBlcy5mdW5jLFxuICBsb2NhdGlvbnM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEltbXV0YWJsZS5MaXN0KS5pc1JlcXVpcmVkLFxuICBwb2ludFJhZGl1c1VuaXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHJlbmRlcldoaWxlRHJhZ2dpbmc6IFByb3BUeXBlcy5ib29sLFxuICByZ2I6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSksXG4gIHpvb206IFByb3BUeXBlcy5udW1iZXIsXG59O1xuXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIC8vIFNhbWUgYXMgYnJvd3NlciBkZWZhdWx0LlxuICBjb21wb3NpdGVPcGVyYXRpb246ICdzb3VyY2Utb3ZlcicsXG4gIGRvdFJhZGl1czogNCxcbiAgbG5nTGF0QWNjZXNzb3I6IGxvY2F0aW9uID0+IFtsb2NhdGlvbi5nZXQoMCksIGxvY2F0aW9uLmdldCgxKV0sXG4gIHJlbmRlcldoaWxlRHJhZ2dpbmc6IHRydWUsXG59O1xuXG5jb25zdCBjb21wdXRlQ2x1c3RlckxhYmVsID0gKHByb3BlcnRpZXMsIGFnZ3JlZ2F0aW9uKSA9PiB7XG4gIGNvbnN0IGNvdW50ID0gcHJvcGVydGllcy5nZXQoJ3BvaW50X2NvdW50Jyk7XG4gIGlmICghYWdncmVnYXRpb24pIHtcbiAgICByZXR1cm4gY291bnQ7XG4gIH1cbiAgaWYgKGFnZ3JlZ2F0aW9uID09PSAnc3VtJyB8fCBhZ2dyZWdhdGlvbiA9PT0gJ21pbicgfHwgYWdncmVnYXRpb24gPT09ICdtYXgnKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXMuZ2V0KGFnZ3JlZ2F0aW9uKTtcbiAgfVxuICBjb25zdCBzdW0gPSBwcm9wZXJ0aWVzLmdldCgnc3VtJyk7XG4gIGNvbnN0IG1lYW4gPSBzdW0gLyBjb3VudDtcbiAgaWYgKGFnZ3JlZ2F0aW9uID09PSAnbWVhbicpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAgKiBtZWFuKSAvIDEwMDtcbiAgfVxuICBjb25zdCBzcXVhcmVkU3VtID0gcHJvcGVydGllcy5nZXQoJ3NxdWFyZWRTdW0nKTtcbiAgY29uc3QgdmFyaWFuY2UgPSBzcXVhcmVkU3VtIC8gY291bnQgLSAoc3VtIC8gY291bnQpICoqIDI7XG4gIGlmIChhZ2dyZWdhdGlvbiA9PT0gJ3ZhcicpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAgKiB2YXJpYW5jZSkgLyAxMDA7XG4gIH1cbiAgaWYgKGFnZ3JlZ2F0aW9uID09PSAnc3RkZXYnKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoMTAwICogTWF0aC5zcXJ0KHZhcmlhbmNlKSkgLyAxMDA7XG4gIH1cblxuICAvLyBmYWxsYmFjayB0byBwb2ludF9jb3VudCwgdGhpcyByZWFsbHkgc2hvdWxkbid0IGhhcHBlblxuICByZXR1cm4gY291bnQ7XG59O1xuXG5jbGFzcyBTY2F0dGVyUGxvdEdsb3dPdmVybGF5IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMucmVkcmF3ID0gdGhpcy5yZWRyYXcuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGRyYXdUZXh0KGN0eCwgcGl4ZWwsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IElTX0RBUktfVEhSRVNIT0xEID0gMTEwO1xuICAgIGNvbnN0IHsgZm9udEhlaWdodCA9IDAsIGxhYmVsID0gJycsIHJhZGl1cyA9IDAsIHJnYiA9IFswLCAwLCAwXSwgc2hhZG93ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgbWF4V2lkdGggPSByYWRpdXMgKiAxLjg7XG4gICAgY29uc3QgbHVtaW5hbmNlID0gbHVtaW5hbmNlRnJvbVJHQihyZ2JbMV0sIHJnYlsyXSwgcmdiWzNdKTtcblxuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xuICAgIGN0eC5maWxsU3R5bGUgPSBsdW1pbmFuY2UgPD0gSVNfREFSS19USFJFU0hPTEQgPyAnd2hpdGUnIDogJ2JsYWNrJztcbiAgICBjdHguZm9udCA9IGAke2ZvbnRIZWlnaHR9cHggc2Fucy1zZXJpZmA7XG4gICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBpZiAoc2hhZG93KSB7XG4gICAgICBjdHguc2hhZG93Qmx1ciA9IDE1O1xuICAgICAgY3R4LnNoYWRvd0NvbG9yID0gbHVtaW5hbmNlIDw9IElTX0RBUktfVEhSRVNIT0xEID8gJ2JsYWNrJyA6ICcnO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHRXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChsYWJlbCkud2lkdGg7XG4gICAgaWYgKHRleHRXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICBjb25zdCBzY2FsZSA9IGZvbnRIZWlnaHQgLyB0ZXh0V2lkdGg7XG4gICAgICBjdHguZm9udCA9IGAke3NjYWxlICogbWF4V2lkdGh9cHggc2Fucy1zZXJpZmA7XG4gICAgfVxuXG4gICAgY29uc3QgeyBjb21wb3NpdGVPcGVyYXRpb24gfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjdHguZmlsbFRleHQobGFiZWwsIHBpeGVsWzBdLCBwaXhlbFsxXSk7XG4gICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICBjdHguc2hhZG93Qmx1ciA9IDA7XG4gICAgY3R4LnNoYWRvd0NvbG9yID0gJyc7XG4gIH1cblxuICAvLyBNb2RpZmllZDogaHR0cHM6Ly9naXRodWIuY29tL3ViZXIvcmVhY3QtbWFwLWdsL2Jsb2IvbWFzdGVyL292ZXJsYXlzL3NjYXR0ZXJwbG90LnJlYWN0LmpzXG4gIHJlZHJhdyh7IHdpZHRoLCBoZWlnaHQsIGN0eCwgaXNEcmFnZ2luZywgcHJvamVjdCB9KSB7XG4gICAgY29uc3Qge1xuICAgICAgYWdncmVnYXRpb24sXG4gICAgICBjb21wb3NpdGVPcGVyYXRpb24sXG4gICAgICBkb3RSYWRpdXMsXG4gICAgICBsbmdMYXRBY2Nlc3NvcixcbiAgICAgIGxvY2F0aW9ucyxcbiAgICAgIHBvaW50UmFkaXVzVW5pdCxcbiAgICAgIHJlbmRlcldoaWxlRHJhZ2dpbmcsXG4gICAgICByZ2IsXG4gICAgICB6b29tLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgcmFkaXVzID0gZG90UmFkaXVzO1xuICAgIGNvbnN0IGNsdXN0ZXJMYWJlbE1hcCA9IFtdO1xuXG4gICAgbG9jYXRpb25zLmZvckVhY2goKGxvY2F0aW9uLCBpKSA9PiB7XG4gICAgICBpZiAobG9jYXRpb24uZ2V0KCdwcm9wZXJ0aWVzJykuZ2V0KCdjbHVzdGVyJykpIHtcbiAgICAgICAgY2x1c3RlckxhYmVsTWFwW2ldID0gY29tcHV0ZUNsdXN0ZXJMYWJlbChsb2NhdGlvbi5nZXQoJ3Byb3BlcnRpZXMnKSwgYWdncmVnYXRpb24pO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgY29uc3QgbWF4TGFiZWwgPSBNYXRoLm1heCguLi5jbHVzdGVyTGFiZWxNYXAuZmlsdGVyKHYgPT4gIU51bWJlci5pc05hTih2KSkpO1xuXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gY29tcG9zaXRlT3BlcmF0aW9uO1xuXG4gICAgaWYgKChyZW5kZXJXaGlsZURyYWdnaW5nIHx8ICFpc0RyYWdnaW5nKSAmJiBsb2NhdGlvbnMpIHtcbiAgICAgIGxvY2F0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIF9mb3JFYWNoKGxvY2F0aW9uLCBpKSB7XG4gICAgICAgIGNvbnN0IHBpeGVsID0gcHJvamVjdChsbmdMYXRBY2Nlc3Nvcihsb2NhdGlvbikpO1xuICAgICAgICBjb25zdCBwaXhlbFJvdW5kZWQgPSBbcm91bmREZWNpbWFsKHBpeGVsWzBdLCAxKSwgcm91bmREZWNpbWFsKHBpeGVsWzFdLCAxKV07XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBpeGVsUm91bmRlZFswXSArIHJhZGl1cyA+PSAwICYmXG4gICAgICAgICAgcGl4ZWxSb3VuZGVkWzBdIC0gcmFkaXVzIDwgd2lkdGggJiZcbiAgICAgICAgICBwaXhlbFJvdW5kZWRbMV0gKyByYWRpdXMgPj0gMCAmJlxuICAgICAgICAgIHBpeGVsUm91bmRlZFsxXSAtIHJhZGl1cyA8IGhlaWdodFxuICAgICAgICApIHtcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgaWYgKGxvY2F0aW9uLmdldCgncHJvcGVydGllcycpLmdldCgnY2x1c3RlcicpKSB7XG4gICAgICAgICAgICBsZXQgY2x1c3RlckxhYmVsID0gY2x1c3RlckxhYmVsTWFwW2ldO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVkUmFkaXVzID0gcm91bmREZWNpbWFsKChjbHVzdGVyTGFiZWwgLyBtYXhMYWJlbCkgKiogMC41ICogcmFkaXVzLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGZvbnRIZWlnaHQgPSByb3VuZERlY2ltYWwoc2NhbGVkUmFkaXVzICogMC41LCAxKTtcbiAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IHBpeGVsUm91bmRlZDtcbiAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHgsIHksIHNjYWxlZFJhZGl1cywgeCwgeSwgMCk7XG5cbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBgcmdiYSgke3JnYlsxXX0sICR7cmdiWzJdfSwgJHtyZ2JbM119LCAwLjgpYCk7XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgYHJnYmEoJHtyZ2JbMV19LCAke3JnYlsyXX0sICR7cmdiWzNdfSwgMClgKTtcbiAgICAgICAgICAgIGN0eC5hcmMocGl4ZWxSb3VuZGVkWzBdLCBwaXhlbFJvdW5kZWRbMV0sIHNjYWxlZFJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcblxuICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShwYXJzZUZsb2F0KGNsdXN0ZXJMYWJlbCkpKSB7XG4gICAgICAgICAgICAgIGlmIChjbHVzdGVyTGFiZWwgPj0gMTAwMDApIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyTGFiZWwgPSBgJHtNYXRoLnJvdW5kKGNsdXN0ZXJMYWJlbCAvIDEwMDApfWtgO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNsdXN0ZXJMYWJlbCA+PSAxMDAwKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlckxhYmVsID0gYCR7TWF0aC5yb3VuZChjbHVzdGVyTGFiZWwgLyAxMDApIC8gMTB9a2A7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5kcmF3VGV4dChjdHgsIHBpeGVsUm91bmRlZCwge1xuICAgICAgICAgICAgICAgIGZvbnRIZWlnaHQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGNsdXN0ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICByYWRpdXM6IHNjYWxlZFJhZGl1cyxcbiAgICAgICAgICAgICAgICByZ2IsXG4gICAgICAgICAgICAgICAgc2hhZG93OiB0cnVlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFJhZGl1cyA9IHJhZGl1cyAvIDY7XG4gICAgICAgICAgICBjb25zdCByYWRpdXNQcm9wZXJ0eSA9IGxvY2F0aW9uLmdldCgncHJvcGVydGllcycpLmdldCgncmFkaXVzJyk7XG4gICAgICAgICAgICBjb25zdCBwb2ludE1ldHJpYyA9IGxvY2F0aW9uLmdldCgncHJvcGVydGllcycpLmdldCgnbWV0cmljJyk7XG4gICAgICAgICAgICBsZXQgcG9pbnRSYWRpdXMgPSByYWRpdXNQcm9wZXJ0eSA9PT0gbnVsbCA/IGRlZmF1bHRSYWRpdXMgOiByYWRpdXNQcm9wZXJ0eTtcbiAgICAgICAgICAgIGxldCBwb2ludExhYmVsO1xuXG4gICAgICAgICAgICBpZiAocmFkaXVzUHJvcGVydHkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgcG9pbnRMYXRpdHVkZSA9IGxuZ0xhdEFjY2Vzc29yKGxvY2F0aW9uKVsxXTtcbiAgICAgICAgICAgICAgaWYgKHBvaW50UmFkaXVzVW5pdCA9PT0gJ0tpbG9tZXRlcnMnKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRMYWJlbCA9IGAke3JvdW5kRGVjaW1hbChwb2ludFJhZGl1cywgMil9a21gO1xuICAgICAgICAgICAgICAgIHBvaW50UmFkaXVzID0ga21Ub1BpeGVscyhwb2ludFJhZGl1cywgcG9pbnRMYXRpdHVkZSwgem9vbSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9pbnRSYWRpdXNVbml0ID09PSAnTWlsZXMnKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRMYWJlbCA9IGAke3JvdW5kRGVjaW1hbChwb2ludFJhZGl1cywgMil9bWlgO1xuICAgICAgICAgICAgICAgIHBvaW50UmFkaXVzID0ga21Ub1BpeGVscyhwb2ludFJhZGl1cyAqIE1JTEVTX1BFUl9LTSwgcG9pbnRMYXRpdHVkZSwgem9vbSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvaW50TWV0cmljICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHBvaW50TGFiZWwgPSBOdW1iZXIuaXNGaW5pdGUocGFyc2VGbG9hdChwb2ludE1ldHJpYykpXG4gICAgICAgICAgICAgICAgPyByb3VuZERlY2ltYWwocG9pbnRNZXRyaWMsIDIpXG4gICAgICAgICAgICAgICAgOiBwb2ludE1ldHJpYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGRlZmF1bHQgcG9pbnRzIGlmIHBvaW50UmFkaXVzIHdhc24ndCBhIG51bWVyaWNhbCBjb2x1bW5cbiAgICAgICAgICAgIGlmICghcG9pbnRSYWRpdXMpIHtcbiAgICAgICAgICAgICAgcG9pbnRSYWRpdXMgPSBkZWZhdWx0UmFkaXVzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguYXJjKHBpeGVsUm91bmRlZFswXSwgcGl4ZWxSb3VuZGVkWzFdLCByb3VuZERlY2ltYWwocG9pbnRSYWRpdXMsIDEpLCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYigke3JnYlsxXX0sICR7cmdiWzJdfSwgJHtyZ2JbM119KWA7XG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnRMYWJlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHRoaXMuZHJhd1RleHQoY3R4LCBwaXhlbFJvdW5kZWQsIHtcbiAgICAgICAgICAgICAgICBmb250SGVpZ2h0OiByb3VuZERlY2ltYWwocG9pbnRSYWRpdXMsIDEpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBwb2ludExhYmVsLFxuICAgICAgICAgICAgICAgIHJhZGl1czogcG9pbnRSYWRpdXMsXG4gICAgICAgICAgICAgICAgcmdiLFxuICAgICAgICAgICAgICAgIHNoYWRvdzogZmFsc2UsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8Q2FudmFzT3ZlcmxheSByZWRyYXc9e3RoaXMucmVkcmF3fSAvPjtcbiAgfVxufVxuXG5TY2F0dGVyUGxvdEdsb3dPdmVybGF5LnByb3BUeXBlcyA9IHByb3BUeXBlcztcblNjYXR0ZXJQbG90R2xvd092ZXJsYXkuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnQgZGVmYXVsdCBTY2F0dGVyUGxvdEdsb3dPdmVybGF5O1xuIiwiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvanN4LXNvcnQtZGVmYXVsdC1wcm9wcywgcmVhY3Qvc29ydC1wcm9wLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9mb3JiaWQtcHJvcC10eXBlcywgcmVhY3QvcmVxdWlyZS1kZWZhdWx0LXByb3BzICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBNYXBHTCBmcm9tICdyZWFjdC1tYXAtZ2wnO1xuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IFZpZXdwb3J0TWVyY2F0b3IgZnJvbSAndmlld3BvcnQtbWVyY2F0b3ItcHJvamVjdCc7XG5pbXBvcnQgU2NhdHRlclBsb3RHbG93T3ZlcmxheSBmcm9tICcuL1NjYXR0ZXJQbG90R2xvd092ZXJsYXknO1xuaW1wb3J0ICcuL01hcEJveC5jc3MnO1xuXG5jb25zdCBOT09QID0gKCkgPT4ge307XG5leHBvcnQgY29uc3QgREVGQVVMVF9NQVhfWk9PTSA9IDE2O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9JTlRfUkFESVVTID0gNjA7XG5cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgYWdncmVnYXRvck5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNsdXN0ZXJlcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgZ2xvYmFsT3BhY2l0eTogUHJvcFR5cGVzLm51bWJlcixcbiAgaGFzQ3VzdG9tTWV0cmljOiBQcm9wVHlwZXMuYm9vbCxcbiAgbWFwU3R5bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG1hcGJveEFwaUtleTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBvblZpZXdwb3J0Q2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgcG9pbnRSYWRpdXM6IFByb3BUeXBlcy5udW1iZXIsXG4gIHBvaW50UmFkaXVzVW5pdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgcmVuZGVyV2hpbGVEcmFnZ2luZzogUHJvcFR5cGVzLmJvb2wsXG4gIHJnYjogUHJvcFR5cGVzLmFycmF5LFxuICBib3VuZHM6IFByb3BUeXBlcy5hcnJheSxcbn07XG5cbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgd2lkdGg6IDQwMCxcbiAgaGVpZ2h0OiA0MDAsXG4gIGdsb2JhbE9wYWNpdHk6IDEsXG4gIG9uVmlld3BvcnRDaGFuZ2U6IE5PT1AsXG4gIHBvaW50UmFkaXVzOiBERUZBVUxUX1BPSU5UX1JBRElVUyxcbiAgcG9pbnRSYWRpdXNVbml0OiAnUGl4ZWxzJyxcbn07XG5cbmNsYXNzIE1hcEJveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBib3VuZHMgfSA9IHRoaXMucHJvcHM7XG4gICAgLy8gR2V0IGEgdmlld3BvcnQgdGhhdCBmaXRzIHRoZSBnaXZlbiBib3VuZHMsIHdoaWNoIGFsbCBtYXJrcyB0byBiZSBjbHVzdGVyZWQuXG4gICAgLy8gRGVyaXZlIGxhdCwgbG9uIGFuZCB6b29tIGZyb20gdGhpcyB2aWV3cG9ydC4gVGhpcyBpcyBvbmx5IGRvbmUgb24gaW5pdGlhbFxuICAgIC8vIHJlbmRlciBhcyB0aGUgYm91bmRzIGRvbid0IHVwZGF0ZSBhcyB3ZSBwYW4vem9vbSBpbiB0aGUgY3VycmVudCBkZXNpZ24uXG4gICAgY29uc3QgbWVyY2F0b3IgPSBuZXcgVmlld3BvcnRNZXJjYXRvcih7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICB9KS5maXRCb3VuZHMoYm91bmRzKTtcbiAgICBjb25zdCB7IGxhdGl0dWRlLCBsb25naXR1ZGUsIHpvb20gfSA9IG1lcmNhdG9yO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgbGF0aXR1ZGUsXG4gICAgICAgIHpvb20sXG4gICAgICB9LFxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVWaWV3cG9ydENoYW5nZSA9IHRoaXMuaGFuZGxlVmlld3BvcnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZVZpZXdwb3J0Q2hhbmdlKHZpZXdwb3J0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZpZXdwb3J0IH0pO1xuICAgIGNvbnN0IHsgb25WaWV3cG9ydENoYW5nZSB9ID0gdGhpcy5wcm9wcztcbiAgICBvblZpZXdwb3J0Q2hhbmdlKHZpZXdwb3J0KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGFnZ3JlZ2F0b3JOYW1lLFxuICAgICAgY2x1c3RlcmVyLFxuICAgICAgZ2xvYmFsT3BhY2l0eSxcbiAgICAgIG1hcFN0eWxlLFxuICAgICAgbWFwYm94QXBpS2V5LFxuICAgICAgcG9pbnRSYWRpdXMsXG4gICAgICBwb2ludFJhZGl1c1VuaXQsXG4gICAgICByZW5kZXJXaGlsZURyYWdnaW5nLFxuICAgICAgcmdiLFxuICAgICAgaGFzQ3VzdG9tTWV0cmljLFxuICAgICAgYm91bmRzLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgdmlld3BvcnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgaXNEcmFnZ2luZyA9IHZpZXdwb3J0LmlzRHJhZ2dpbmcgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdmlld3BvcnQuaXNEcmFnZ2luZztcblxuICAgIC8vIENvbXB1dGUgdGhlIGNsdXN0ZXJzIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBib3VuZHMgYW5kIGN1cnJlbnQgem9vbSBsZXZlbC4gTm90ZSB3aGVuIHpvb20vcGFuXG4gICAgLy8gdG8gYW4gYXJlYSBvdXRzaWRlIG9mIHRoZSBvcmlnaW5hbCBib3VuZHMsIG5vIGFkZGl0aW9uYWwgcXVlcmllcyBhcmUgbWFkZSB0byB0aGUgYmFja2VuZCB0b1xuICAgIC8vIHJldHJpZXZlIGFkZGl0aW9uYWwgZGF0YS5cbiAgICAvLyBhZGQgdGhpcyB2YXJpYWJsZSB0byB3aWRlbiB0aGUgdmlzaWJsZSBhcmVhXG4gICAgY29uc3Qgb2Zmc2V0SG9yaXpvbnRhbCA9ICh3aWR0aCAqIDAuNSkgLyAxMDA7XG4gICAgY29uc3Qgb2Zmc2V0VmVydGljYWwgPSAoaGVpZ2h0ICogMC41KSAvIDEwMDtcbiAgICBjb25zdCBiYm94ID0gW1xuICAgICAgYm91bmRzWzBdWzBdIC0gb2Zmc2V0SG9yaXpvbnRhbCxcbiAgICAgIGJvdW5kc1swXVsxXSAtIG9mZnNldFZlcnRpY2FsLFxuICAgICAgYm91bmRzWzFdWzBdICsgb2Zmc2V0SG9yaXpvbnRhbCxcbiAgICAgIGJvdW5kc1sxXVsxXSArIG9mZnNldFZlcnRpY2FsLFxuICAgIF07XG4gICAgY29uc3QgY2x1c3RlcnMgPSBjbHVzdGVyZXIuZ2V0Q2x1c3RlcnMoYmJveCwgTWF0aC5yb3VuZCh2aWV3cG9ydC56b29tKSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPE1hcEdMXG4gICAgICAgIHsuLi52aWV3cG9ydH1cbiAgICAgICAgbWFwU3R5bGU9e21hcFN0eWxlfVxuICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgIGhlaWdodD17aGVpZ2h0fVxuICAgICAgICBtYXBib3hBcGlBY2Nlc3NUb2tlbj17bWFwYm94QXBpS2V5fVxuICAgICAgICBvblZpZXdwb3J0Q2hhbmdlPXt0aGlzLmhhbmRsZVZpZXdwb3J0Q2hhbmdlfVxuICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXJcbiAgICAgID5cbiAgICAgICAgPFNjYXR0ZXJQbG90R2xvd092ZXJsYXlcbiAgICAgICAgICB7Li4udmlld3BvcnR9XG4gICAgICAgICAgaXNEcmFnZ2luZz17aXNEcmFnZ2luZ31cbiAgICAgICAgICBsb2NhdGlvbnM9e0ltbXV0YWJsZS5mcm9tSlMoY2x1c3RlcnMpfVxuICAgICAgICAgIGRvdFJhZGl1cz17cG9pbnRSYWRpdXN9XG4gICAgICAgICAgcG9pbnRSYWRpdXNVbml0PXtwb2ludFJhZGl1c1VuaXR9XG4gICAgICAgICAgcmdiPXtyZ2J9XG4gICAgICAgICAgZ2xvYmFsT3BhY2l0eT17Z2xvYmFsT3BhY2l0eX1cbiAgICAgICAgICBjb21wb3NpdGVPcGVyYXRpb249XCJzY3JlZW5cIlxuICAgICAgICAgIHJlbmRlcldoaWxlRHJhZ2dpbmc9e3JlbmRlcldoaWxlRHJhZ2dpbmd9XG4gICAgICAgICAgYWdncmVnYXRpb249e2hhc0N1c3RvbU1ldHJpYyA/IGFnZ3JlZ2F0b3JOYW1lIDogbnVsbH1cbiAgICAgICAgICBsbmdMYXRBY2Nlc3Nvcj17bG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSBsb2NhdGlvbi5nZXQoJ2dlb21ldHJ5JykuZ2V0KCdjb29yZGluYXRlcycpO1xuXG4gICAgICAgICAgICByZXR1cm4gW2Nvb3JkaW5hdGVzLmdldCgwKSwgY29vcmRpbmF0ZXMuZ2V0KDEpXTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9NYXBHTD5cbiAgICApO1xuICB9XG59XG5cbk1hcEJveC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5NYXBCb3guZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnQgZGVmYXVsdCBNYXBCb3g7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FDQUE7QUFLQTtBQU1BOztBQ1hBO0FBTUE7Ozs7O0FDTkE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0FBd0JBO0FBNkJBO0FBd0NBO0FBMkZBOzs7OztBQzFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUE4Q0E7QUFDQTtBQU9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2225\n')}}]);