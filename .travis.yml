language: node_js

node_js:
  - '10.7'

cache:
  directories:
    - node_modules

matrix:
  fast_finish: true

install:
  - npm install

env:
  - PACKAGE=superset-ui-core

script:
  - 'cd ./packages/$PACKAGE && yarn install && yarn run lint && yarn run test'

after_script:
  - 'cat ./packages/$PACKAGE/coverage/lcov.info | ./node_modules/.bin/codecov'
