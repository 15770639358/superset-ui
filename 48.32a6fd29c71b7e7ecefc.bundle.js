(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{2521:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/chart/components/reactify.tsx\nvar reactify = __webpack_require__(1014);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/datatables.net-bs/js/dataTables.bootstrap.js\nvar dataTables_bootstrap = __webpack_require__(2330);\nvar dataTables_bootstrap_default = /*#__PURE__*/__webpack_require__.n(dataTables_bootstrap);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(56);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/time-format/formatters/smartDate.ts\nvar smartDate = __webpack_require__(576);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/time-format/TimeFormatterRegistrySingleton.ts + 5 modules\nvar TimeFormatterRegistrySingleton = __webpack_require__(132);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/number-format/NumberFormatterRegistrySingleton.ts\nvar NumberFormatterRegistrySingleton = __webpack_require__(148);\n\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-pivot-table/src/utils/formatCells.ts\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nfunction formatCellValue(i, cols, tdText, columnFormats, numberFormat, dateRegex, dateFormatter) {\n    const metric = cols[i];\n    const format = columnFormats[metric] || numberFormat || \'.3s\';\n    let textContent = tdText;\n    let sortAttributeValue = tdText;\n    if (parseFloat(tdText)) {\n        const parsedValue = parseFloat(tdText);\n        textContent = Object(NumberFormatterRegistrySingleton["b" /* formatNumber */])(format, parsedValue);\n        sortAttributeValue = parsedValue;\n    }\n    else {\n        const regexMatch = dateRegex.exec(tdText);\n        if (regexMatch) {\n            const date = new Date(parseFloat(regexMatch[1]));\n            textContent = dateFormatter(date);\n            sortAttributeValue = date;\n        }\n        else if (tdText === \'null\') {\n            textContent = \'\';\n            sortAttributeValue = Number.NEGATIVE_INFINITY;\n        }\n    }\n    return { textContent, sortAttributeValue };\n}\nfunction formatDateCellValue(text, verboseMap, dateRegex, dateFormatter) {\n    const regexMatch = dateRegex.exec(text);\n    let cellValue;\n    if (regexMatch) {\n        const date = new Date(parseFloat(regexMatch[1]));\n        cellValue = dateFormatter(date);\n    }\n    else {\n        cellValue = verboseMap[text] || text;\n    }\n    return cellValue;\n}\n\n\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-pivot-table/src/utils/fixTableHeight.js\n/**\n * Fix the height of the table body of a DataTable with scrollY set\n */function fixTableHeight($tableDom,height){const headHeight=$tableDom.find(".dataTables_scrollHead").height(),filterHeight=$tableDom.find(".dataTables_filter").height()||0,pageLengthHeight=$tableDom.find(".dataTables_length").height()||0,paginationHeight=$tableDom.find(".dataTables_paginate").height()||0,controlsHeight=pageLengthHeight>filterHeight?pageLengthHeight:filterHeight;$tableDom.find(".dataTables_scrollBody").css("max-height",height-headHeight-controlsHeight-paginationHeight)}\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/datatables.net-bs/css/dataTables.bootstrap.css\nvar css_dataTables_bootstrap = __webpack_require__(2332);\n\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-pivot-table/src/PivotTable.js\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ /* eslint-disable react/sort-prop-types */if(window.$){dataTables_bootstrap_default()(window,window.$)}const $=window.$||dataTables_bootstrap_default.a.$,propTypes={data:prop_types_default.a.shape({// TODO: replace this with raw data in SIP-6\nhtml:prop_types_default.a.string,columns:prop_types_default.a.arrayOf(prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.arrayOf(prop_types_default.a.string)]))}),height:prop_types_default.a.number,columnFormats:prop_types_default.a.objectOf(prop_types_default.a.string),numberFormat:prop_types_default.a.string,numGroups:prop_types_default.a.number,verboseMap:prop_types_default.a.objectOf(prop_types_default.a.string)},hasOnlyTextChild=node=>1===node.childNodes.length&&node.childNodes[0].nodeType===Node.TEXT_NODE;function PivotTable(element,props){const{columnFormats,data,dateFormat,granularity,height,numberFormat,numGroups,verboseMap}=props,{html,columns}=data,container=element,$container=$(element);let dateFormatter;if(dateFormat===smartDate["a" /* default */].id&&granularity){dateFormatter=Object(TimeFormatterRegistrySingleton["e" /* getTimeFormatterForGranularity */])(granularity)}else if(dateFormat){dateFormatter=Object(TimeFormatterRegistrySingleton["d" /* getTimeFormatter */])(dateFormat)}else{dateFormatter=String}// queryData data is a string of html with a single table element\ncontainer.innerHTML=html;const cols=Array.isArray(columns[0])?columns.map(col=>col[0]):columns,dateRegex=/^__timestamp:(-?\\d*\\.?\\d*)$/;$container.find("th").each(function(){if(hasOnlyTextChild(this)){const cellValue=formatDateCellValue($(this).text(),verboseMap,dateRegex,dateFormatter);$(this).text(cellValue)}});$container.find("tbody tr").each(function(){$(this).find("td").each(function(index){if(hasOnlyTextChild(this)){const tdText=$(this).text(),{textContent,sortAttributeValue}=formatCellValue(index,cols,tdText,columnFormats,numberFormat,dateRegex,dateFormatter);$(this).text(textContent);$(this).attr("data-sort",sortAttributeValue)}})});if(1===numGroups){// When there is only 1 group by column,\n// we use the DataTable plugin to make the header fixed.\n// The plugin takes care of the scrolling so we don\'t need\n// overflow: \'auto\' on the table.\ncontainer.style.overflow="hidden";const table=$container.find("table").DataTable({paging:!1,searching:!1,bInfo:!1,scrollY:`${height}px`,scrollCollapse:!0,scrollX:!0});table.column("-1").order("desc").draw();fixTableHeight($container.find(".dataTables_wrapper"),height)}else{// When there is more than 1 group by column we just render the table, without using\n// the DataTable plugin, so we need to handle the scrolling ourselves.\n// In this case the header is not fixed.\ncontainer.style.overflow="auto";container.style.height=`${height+10}px`}}PivotTable.displayName="PivotTable";PivotTable.propTypes=propTypes;/* harmony default export */ var src_PivotTable = (PivotTable);\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-plugin-chart-pivot-table/src/ReactPivotTable.js\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n *//* harmony default export */ var ReactPivotTable = __webpack_exports__["default"] = (Object(reactify["a" /* default */])(src_PivotTable));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUyMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LXBpdm90LXRhYmxlL3NyYy91dGlscy9mb3JtYXRDZWxscy50cz82ZGM4Iiwid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LXBpdm90LXRhYmxlL3NyYy91dGlscy9maXhUYWJsZUhlaWdodC5qcz85ZjFhIiwid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LXBpdm90LXRhYmxlL3NyYy9QaXZvdFRhYmxlLmpzPzM4ZTkiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9lcmlrX3JpdHRlci9yZXBvcy9naXRodWIuY29tL2FwYWNoZS1zdXBlcnNldC9zdXBlcnNldC11aS9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtcGl2b3QtdGFibGUvc3JjL1JlYWN0UGl2b3RUYWJsZS5qcz80OGEzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcblxuZnVuY3Rpb24gZm9ybWF0Q2VsbFZhbHVlKFxuICBpOiBudW1iZXIsXG4gIGNvbHM6IHN0cmluZ1tdLFxuICB0ZFRleHQ6IHN0cmluZyxcbiAgY29sdW1uRm9ybWF0czogYW55LFxuICBudW1iZXJGb3JtYXQ6IHN0cmluZyxcbiAgZGF0ZVJlZ2V4OiBSZWdFeHAsXG4gIGRhdGVGb3JtYXR0ZXI6IGFueSxcbikge1xuICBjb25zdCBtZXRyaWM6IHN0cmluZyA9IGNvbHNbaV07XG4gIGNvbnN0IGZvcm1hdDogc3RyaW5nID0gY29sdW1uRm9ybWF0c1ttZXRyaWNdIHx8IG51bWJlckZvcm1hdCB8fCAnLjNzJztcbiAgbGV0IHRleHRDb250ZW50OiBzdHJpbmcgPSB0ZFRleHQ7XG4gIGxldCBzb3J0QXR0cmlidXRlVmFsdWU6IGFueSA9IHRkVGV4dDtcblxuICBpZiAocGFyc2VGbG9hdCh0ZFRleHQpKSB7XG4gICAgY29uc3QgcGFyc2VkVmFsdWUgPSBwYXJzZUZsb2F0KHRkVGV4dCk7XG4gICAgdGV4dENvbnRlbnQgPSBmb3JtYXROdW1iZXIoZm9ybWF0LCBwYXJzZWRWYWx1ZSk7XG4gICAgc29ydEF0dHJpYnV0ZVZhbHVlID0gcGFyc2VkVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmVnZXhNYXRjaCA9IGRhdGVSZWdleC5leGVjKHRkVGV4dCk7XG4gICAgaWYgKHJlZ2V4TWF0Y2gpIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KHJlZ2V4TWF0Y2hbMV0pKTtcbiAgICAgIHRleHRDb250ZW50ID0gZGF0ZUZvcm1hdHRlcihkYXRlKTtcbiAgICAgIHNvcnRBdHRyaWJ1dGVWYWx1ZSA9IGRhdGU7XG4gICAgfSBlbHNlIGlmICh0ZFRleHQgPT09ICdudWxsJykge1xuICAgICAgdGV4dENvbnRlbnQgPSAnJztcbiAgICAgIHNvcnRBdHRyaWJ1dGVWYWx1ZSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyB0ZXh0Q29udGVudCwgc29ydEF0dHJpYnV0ZVZhbHVlIH07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGVDZWxsVmFsdWUodGV4dDogc3RyaW5nLCB2ZXJib3NlTWFwOiBhbnksIGRhdGVSZWdleDogUmVnRXhwLCBkYXRlRm9ybWF0dGVyOiBhbnkpIHtcbiAgY29uc3QgcmVnZXhNYXRjaCA9IGRhdGVSZWdleC5leGVjKHRleHQpO1xuICBsZXQgY2VsbFZhbHVlO1xuICBpZiAocmVnZXhNYXRjaCkge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KHJlZ2V4TWF0Y2hbMV0pKTtcbiAgICBjZWxsVmFsdWUgPSBkYXRlRm9ybWF0dGVyKGRhdGUpO1xuICB9IGVsc2Uge1xuICAgIGNlbGxWYWx1ZSA9IHZlcmJvc2VNYXBbdGV4dF0gfHwgdGV4dDtcbiAgfVxuICByZXR1cm4gY2VsbFZhbHVlO1xufVxuXG5leHBvcnQgeyBmb3JtYXRDZWxsVmFsdWUsIGZvcm1hdERhdGVDZWxsVmFsdWUgfTtcbiIsIi8qKlxuICogRml4IHRoZSBoZWlnaHQgb2YgdGhlIHRhYmxlIGJvZHkgb2YgYSBEYXRhVGFibGUgd2l0aCBzY3JvbGxZIHNldFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaXhUYWJsZUhlaWdodCgkdGFibGVEb20sIGhlaWdodCkge1xuICBjb25zdCBoZWFkSGVpZ2h0ID0gJHRhYmxlRG9tLmZpbmQoJy5kYXRhVGFibGVzX3Njcm9sbEhlYWQnKS5oZWlnaHQoKTtcbiAgY29uc3QgZmlsdGVySGVpZ2h0ID0gJHRhYmxlRG9tLmZpbmQoJy5kYXRhVGFibGVzX2ZpbHRlcicpLmhlaWdodCgpIHx8IDA7XG4gIGNvbnN0IHBhZ2VMZW5ndGhIZWlnaHQgPSAkdGFibGVEb20uZmluZCgnLmRhdGFUYWJsZXNfbGVuZ3RoJykuaGVpZ2h0KCkgfHwgMDtcbiAgY29uc3QgcGFnaW5hdGlvbkhlaWdodCA9ICR0YWJsZURvbS5maW5kKCcuZGF0YVRhYmxlc19wYWdpbmF0ZScpLmhlaWdodCgpIHx8IDA7XG4gIGNvbnN0IGNvbnRyb2xzSGVpZ2h0ID0gcGFnZUxlbmd0aEhlaWdodCA+IGZpbHRlckhlaWdodCA/IHBhZ2VMZW5ndGhIZWlnaHQgOiBmaWx0ZXJIZWlnaHQ7XG4gICR0YWJsZURvbVxuICAgIC5maW5kKCcuZGF0YVRhYmxlc19zY3JvbGxCb2R5JylcbiAgICAuY3NzKCdtYXgtaGVpZ2h0JywgaGVpZ2h0IC0gaGVhZEhlaWdodCAtIGNvbnRyb2xzSGVpZ2h0IC0gcGFnaW5hdGlvbkhlaWdodCk7XG59XG4iLCIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9zb3J0LXByb3AtdHlwZXMgKi9cbmltcG9ydCBkdCBmcm9tICdkYXRhdGFibGVzLm5ldC1icyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtcbiAgZ2V0VGltZUZvcm1hdHRlcixcbiAgZ2V0VGltZUZvcm1hdHRlckZvckdyYW51bGFyaXR5LFxuICBzbWFydERhdGVGb3JtYXR0ZXIsXG59IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IGZvcm1hdENlbGxWYWx1ZSwgZm9ybWF0RGF0ZUNlbGxWYWx1ZSB9IGZyb20gJy4vdXRpbHMvZm9ybWF0Q2VsbHMnO1xuaW1wb3J0IGZpeFRhYmxlSGVpZ2h0IGZyb20gJy4vdXRpbHMvZml4VGFibGVIZWlnaHQnO1xuaW1wb3J0ICdkYXRhdGFibGVzLm5ldC1icy9jc3MvZGF0YVRhYmxlcy5ib290c3RyYXAuY3NzJztcblxuaWYgKHdpbmRvdy4kKSB7XG4gIGR0KHdpbmRvdywgd2luZG93LiQpO1xufVxuY29uc3QgJCA9IHdpbmRvdy4kIHx8IGR0LiQ7XG5cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgZGF0YTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAvLyBUT0RPOiByZXBsYWNlIHRoaXMgd2l0aCByYXcgZGF0YSBpbiBTSVAtNlxuICAgIGh0bWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29sdW1uczogUHJvcFR5cGVzLmFycmF5T2YoXG4gICAgICBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKV0pLFxuICAgICksXG4gIH0pLFxuICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIGNvbHVtbkZvcm1hdHM6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgbnVtYmVyRm9ybWF0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBudW1Hcm91cHM6IFByb3BUeXBlcy5udW1iZXIsXG4gIHZlcmJvc2VNYXA6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMuc3RyaW5nKSxcbn07XG5cbmNvbnN0IGhhc09ubHlUZXh0Q2hpbGQgPSBub2RlID0+XG4gIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgJiYgbm9kZS5jaGlsZE5vZGVzWzBdLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERTtcblxuZnVuY3Rpb24gUGl2b3RUYWJsZShlbGVtZW50LCBwcm9wcykge1xuICBjb25zdCB7XG4gICAgY29sdW1uRm9ybWF0cyxcbiAgICBkYXRhLFxuICAgIGRhdGVGb3JtYXQsXG4gICAgZ3JhbnVsYXJpdHksXG4gICAgaGVpZ2h0LFxuICAgIG51bWJlckZvcm1hdCxcbiAgICBudW1Hcm91cHMsXG4gICAgdmVyYm9zZU1hcCxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IHsgaHRtbCwgY29sdW1ucyB9ID0gZGF0YTtcbiAgY29uc3QgY29udGFpbmVyID0gZWxlbWVudDtcbiAgY29uc3QgJGNvbnRhaW5lciA9ICQoZWxlbWVudCk7XG4gIGxldCBkYXRlRm9ybWF0dGVyO1xuXG4gIGlmIChkYXRlRm9ybWF0ID09PSBzbWFydERhdGVGb3JtYXR0ZXIuaWQgJiYgZ3JhbnVsYXJpdHkpIHtcbiAgICBkYXRlRm9ybWF0dGVyID0gZ2V0VGltZUZvcm1hdHRlckZvckdyYW51bGFyaXR5KGdyYW51bGFyaXR5KTtcbiAgfSBlbHNlIGlmIChkYXRlRm9ybWF0KSB7XG4gICAgZGF0ZUZvcm1hdHRlciA9IGdldFRpbWVGb3JtYXR0ZXIoZGF0ZUZvcm1hdCk7XG4gIH0gZWxzZSB7XG4gICAgZGF0ZUZvcm1hdHRlciA9IFN0cmluZztcbiAgfVxuXG4gIC8vIHF1ZXJ5RGF0YSBkYXRhIGlzIGEgc3RyaW5nIG9mIGh0bWwgd2l0aCBhIHNpbmdsZSB0YWJsZSBlbGVtZW50XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sO1xuXG4gIGNvbnN0IGNvbHMgPSBBcnJheS5pc0FycmF5KGNvbHVtbnNbMF0pID8gY29sdW1ucy5tYXAoY29sID0+IGNvbFswXSkgOiBjb2x1bW5zO1xuICBjb25zdCBkYXRlUmVnZXggPSAvXl9fdGltZXN0YW1wOigtP1xcZCpcXC4/XFxkKikkLztcblxuICAkY29udGFpbmVyLmZpbmQoJ3RoJykuZWFjaChmdW5jdGlvbiBmb3JtYXRUaCgpIHtcbiAgICBpZiAoaGFzT25seVRleHRDaGlsZCh0aGlzKSkge1xuICAgICAgY29uc3QgY2VsbFZhbHVlID0gZm9ybWF0RGF0ZUNlbGxWYWx1ZSgkKHRoaXMpLnRleHQoKSwgdmVyYm9zZU1hcCwgZGF0ZVJlZ2V4LCBkYXRlRm9ybWF0dGVyKTtcbiAgICAgICQodGhpcykudGV4dChjZWxsVmFsdWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgJGNvbnRhaW5lci5maW5kKCd0Ym9keSB0cicpLmVhY2goZnVuY3Rpb24gZWFjaFJvdygpIHtcbiAgICAkKHRoaXMpXG4gICAgICAuZmluZCgndGQnKVxuICAgICAgLmVhY2goZnVuY3Rpb24gZWFjaFRkKGluZGV4KSB7XG4gICAgICAgIGlmIChoYXNPbmx5VGV4dENoaWxkKHRoaXMpKSB7XG4gICAgICAgICAgY29uc3QgdGRUZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgY29uc3QgeyB0ZXh0Q29udGVudCwgc29ydEF0dHJpYnV0ZVZhbHVlIH0gPSBmb3JtYXRDZWxsVmFsdWUoXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGNvbHMsXG4gICAgICAgICAgICB0ZFRleHQsXG4gICAgICAgICAgICBjb2x1bW5Gb3JtYXRzLFxuICAgICAgICAgICAgbnVtYmVyRm9ybWF0LFxuICAgICAgICAgICAgZGF0ZVJlZ2V4LFxuICAgICAgICAgICAgZGF0ZUZvcm1hdHRlcixcbiAgICAgICAgICApO1xuICAgICAgICAgICQodGhpcykudGV4dCh0ZXh0Q29udGVudCk7XG4gICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLXNvcnQnLCBzb3J0QXR0cmlidXRlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKG51bUdyb3VwcyA9PT0gMSkge1xuICAgIC8vIFdoZW4gdGhlcmUgaXMgb25seSAxIGdyb3VwIGJ5IGNvbHVtbixcbiAgICAvLyB3ZSB1c2UgdGhlIERhdGFUYWJsZSBwbHVnaW4gdG8gbWFrZSB0aGUgaGVhZGVyIGZpeGVkLlxuICAgIC8vIFRoZSBwbHVnaW4gdGFrZXMgY2FyZSBvZiB0aGUgc2Nyb2xsaW5nIHNvIHdlIGRvbid0IG5lZWRcbiAgICAvLyBvdmVyZmxvdzogJ2F1dG8nIG9uIHRoZSB0YWJsZS5cbiAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBjb25zdCB0YWJsZSA9ICRjb250YWluZXIuZmluZCgndGFibGUnKS5EYXRhVGFibGUoe1xuICAgICAgcGFnaW5nOiBmYWxzZSxcbiAgICAgIHNlYXJjaGluZzogZmFsc2UsXG4gICAgICBiSW5mbzogZmFsc2UsXG4gICAgICBzY3JvbGxZOiBgJHtoZWlnaHR9cHhgLFxuICAgICAgc2Nyb2xsQ29sbGFwc2U6IHRydWUsXG4gICAgICBzY3JvbGxYOiB0cnVlLFxuICAgIH0pO1xuICAgIHRhYmxlLmNvbHVtbignLTEnKS5vcmRlcignZGVzYycpLmRyYXcoKTtcbiAgICBmaXhUYWJsZUhlaWdodCgkY29udGFpbmVyLmZpbmQoJy5kYXRhVGFibGVzX3dyYXBwZXInKSwgaGVpZ2h0KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBXaGVuIHRoZXJlIGlzIG1vcmUgdGhhbiAxIGdyb3VwIGJ5IGNvbHVtbiB3ZSBqdXN0IHJlbmRlciB0aGUgdGFibGUsIHdpdGhvdXQgdXNpbmdcbiAgICAvLyB0aGUgRGF0YVRhYmxlIHBsdWdpbiwgc28gd2UgbmVlZCB0byBoYW5kbGUgdGhlIHNjcm9sbGluZyBvdXJzZWx2ZXMuXG4gICAgLy8gSW4gdGhpcyBjYXNlIHRoZSBoZWFkZXIgaXMgbm90IGZpeGVkLlxuICAgIGNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0ICsgMTB9cHhgO1xuICB9XG59XG5cblBpdm90VGFibGUuZGlzcGxheU5hbWUgPSAnUGl2b3RUYWJsZSc7XG5QaXZvdFRhYmxlLnByb3BUeXBlcyA9IHByb3BUeXBlcztcblxuZXhwb3J0IGRlZmF1bHQgUGl2b3RUYWJsZTtcbiIsIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IHJlYWN0aWZ5IH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL1Bpdm90VGFibGUnO1xuXG5leHBvcnQgZGVmYXVsdCByZWFjdGlmeShDb21wb25lbnQpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtBQUVBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUNqRUE7O0FBR0E7Ozs7O0FDSEE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0FBb0JBO0FBeUNBO0FBbUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQUNBOztBQ3BJQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2521\n')}}]);