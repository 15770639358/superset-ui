(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1094:function(module,exports,__webpack_require__){var api=__webpack_require__(172),content=__webpack_require__(1095);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1095:function(module,exports,__webpack_require__){(exports=__webpack_require__(173)(!1)).push([module.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.superset-legacy-chart-histogram {\n  overflow: hidden;\n}\n',""]),module.exports=exports},1259:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(25);var prop_types=__webpack_require__(22),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__(0),react_default=__webpack_require__.n(react),XAxis=__webpack_require__(1236),YAxis=__webpack_require__(1237),Histogram=__webpack_require__(1241),BarSeries=__webpack_require__(1245),chartTheme=__webpack_require__(1248),Ordinal=__webpack_require__(1246),ordinal=__webpack_require__(1243),src=__webpack_require__(840),ParentSize=__webpack_require__(860);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const propTypes={className:prop_types_default.a.string,width:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),height:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),renderChart:prop_types_default.a.func.isRequired,renderLegend:prop_types_default.a.func.isRequired,position:prop_types_default.a.oneOf(["top","left","bottom","right"]),legendJustifyContent:prop_types_default.a.oneOf(["center","flex-start","flex-end"])},LEGEND_STYLE_BASE={display:"flex",flexGrow:0,flexShrink:0,order:-1,paddingTop:"5px",fontSize:"0.9em"},CHART_STYLE_BASE={flexGrow:1,flexShrink:1,flexBasis:"auto",position:"relative"};class WithLegend_WithLegend extends react_default.a.Component{getContainerDirection(){const{position:position}=this.props;switch(position){case"left":return"row";case"right":return"row-reverse";case"bottom":return"column-reverse";default:case"top":return"column"}}getLegendJustifyContent(){const{legendJustifyContent:legendJustifyContent,position:position}=this.props;if(legendJustifyContent)return legendJustifyContent;switch(position){case"left":case"right":return"flex-start";case"bottom":return"flex-end";default:case"top":return"flex-end"}}render(){const{className:className,width:width,height:height,position:position,renderChart:renderChart,renderLegend:renderLegend}=this.props,isHorizontal="left"===position||"right"===position,style={display:"flex",flexDirection:this.getContainerDirection()};width&&(style.width=width),height&&(style.height=height);const chartStyle=_objectSpread({},CHART_STYLE_BASE);isHorizontal?chartStyle.width=0:chartStyle.height=0;const legendDirection=isHorizontal?"column":"row",legendStyle=_objectSpread({},LEGEND_STYLE_BASE,{flexDirection:legendDirection,justifyContent:this.getLegendJustifyContent()});return react_default.a.createElement("div",{className:"with-legend ".concat(className),style:style},react_default.a.createElement("div",{className:"legend-container",style:legendStyle},renderLegend({direction:legendDirection})),react_default.a.createElement("div",{className:"main-container",style:chartStyle},react_default.a.createElement(ParentSize.a,null,parent=>0<parent.width&&0<parent.height?renderChart(parent):null)))}}WithLegend_WithLegend.displayName="WithLegend",WithLegend_WithLegend.propTypes=propTypes,WithLegend_WithLegend.defaultProps={className:"",width:"auto",height:"auto",position:"top",legendJustifyContent:void 0},WithLegend_WithLegend.__docgenInfo={description:"",methods:[{name:"getContainerDirection",docblock:null,modifiers:[],params:[],returns:null},{name:"getLegendJustifyContent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"WithLegend",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},width:{defaultValue:{value:"'auto'",computed:!1},type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},height:{defaultValue:{value:"'auto'",computed:!1},type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},position:{defaultValue:{value:"'top'",computed:!1},type:{name:"enum",value:[{value:"'top'",computed:!1},{value:"'left'",computed:!1},{value:"'bottom'",computed:!1},{value:"'right'",computed:!1}]},required:!1,description:""},legendJustifyContent:{defaultValue:{value:"undefined",computed:!0},type:{name:"enum",value:[{value:"'center'",computed:!1},{value:"'flex-start'",computed:!1},{value:"'flex-end'",computed:!1}]},required:!1,description:""},renderChart:{type:{name:"func"},required:!0,description:""},renderLegend:{type:{name:"func"},required:!0,description:""}}};var src_WithLegend=WithLegend_WithLegend;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../plugins/legacy-plugin-chart-histogram/src/WithLegend.jsx"]={name:"WithLegend",docgenInfo:WithLegend_WithLegend.__docgenInfo,path:"../../plugins/legacy-plugin-chart-histogram/src/WithLegend.jsx"});__webpack_require__(1094);const Histogram_propTypes={className:prop_types_default.a.string,data:prop_types_default.a.arrayOf(prop_types_default.a.shape({key:prop_types_default.a.string,values:prop_types_default.a.arrayOf(prop_types_default.a.number)})).isRequired,width:prop_types_default.a.number.isRequired,height:prop_types_default.a.number.isRequired,colorScheme:prop_types_default.a.string,normalized:prop_types_default.a.bool,binCount:prop_types_default.a.number,opacity:prop_types_default.a.number,xAxisLabel:prop_types_default.a.string,yAxisLabel:prop_types_default.a.string};var _ref=react_default.a.createElement("strong",null,"count "),_ref2=react_default.a.createElement("strong",null,"cumulative ");class Histogram_CustomHistogram extends react_default.a.PureComponent{render(){const{className:className,data:data,width:width,height:height,binCount:binCount,colorScheme:colorScheme,normalized:normalized,opacity:opacity,xAxisLabel:xAxisLabel,yAxisLabel:yAxisLabel}=this.props,colorFn=src.CategoricalColorNamespace.getScale(colorScheme),keys=data.map(d=>d.key),colorScale=Object(ordinal.a)({domain:keys,range:keys.map(x=>colorFn(x))});var _ref3=react_default.a.createElement(XAxis.a,{label:xAxisLabel}),_ref4=react_default.a.createElement(YAxis.a,{label:yAxisLabel});return react_default.a.createElement(src_WithLegend,{className:"superset-legacy-chart-histogram ".concat(className),width:width,height:height,position:"top",renderLegend:({direction:direction})=>react_default.a.createElement(Ordinal.a,{scale:colorScale,direction:direction,shape:"rect",labelMargin:"0 15px 0 0"}),renderChart:parent=>react_default.a.createElement(Histogram.a,{width:parent.width,height:parent.height,ariaLabel:"Histogram",normalized:normalized,binCount:binCount,binType:"numeric",margin:{top:20,right:20},renderTooltip:({datum:datum,color:color})=>react_default.a.createElement("div",null,react_default.a.createElement("strong",{style:{color:color}},datum.bin0," to ",datum.bin1),react_default.a.createElement("div",null,_ref,datum.count),react_default.a.createElement("div",null,_ref2,datum.cumulative)),valueAccessor:datum=>datum,theme:chartTheme.a},data.map(series=>react_default.a.createElement(BarSeries.a,{key:series.key,animated:!0,rawData:series.values,fill:colorScale(series.key),fillOpacity:opacity})),_ref3,_ref4)})}}Histogram_CustomHistogram.displayName="CustomHistogram",Histogram_CustomHistogram.propTypes=Histogram_propTypes,Histogram_CustomHistogram.defaultProps={binCount:15,className:"",colorScheme:"",normalized:!1,opacity:1,xAxisLabel:"",yAxisLabel:""},Histogram_CustomHistogram.__docgenInfo={description:"",methods:[],displayName:"CustomHistogram",props:{binCount:{defaultValue:{value:"15",computed:!1},type:{name:"number"},required:!1,description:""},className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},colorScheme:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},normalized:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},opacity:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},xAxisLabel:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},yAxisLabel:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},data:{type:{name:"arrayOf",value:{name:"shape",value:{key:{name:"string",required:!1},values:{name:"arrayOf",value:{name:"number"},required:!1}}}},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""}}};__webpack_exports__.default=Histogram_CustomHistogram;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../plugins/legacy-plugin-chart-histogram/src/Histogram.jsx"]={name:"CustomHistogram",docgenInfo:Histogram_CustomHistogram.__docgenInfo,path:"../../plugins/legacy-plugin-chart-histogram/src/Histogram.jsx"})},840:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CategoricalColorNamespace",(function(){return CategoricalColorNamespace_namespaceObject})),__webpack_require__.d(__webpack_exports__,"CategoricalColorScale",(function(){return src_CategoricalColorScale})),__webpack_require__.d(__webpack_exports__,"CategoricalScheme",(function(){return CategoricalScheme.a})),__webpack_require__.d(__webpack_exports__,"getCategoricalSchemeRegistry",(function(){return CategoricalSchemeRegistrySingleton.a})),__webpack_require__.d(__webpack_exports__,"getSequentialSchemeRegistry",(function(){return SequentialSchemeRegistrySingleton.a})),__webpack_require__.d(__webpack_exports__,"SequentialScheme",(function(){return SequentialScheme.a})),__webpack_require__.d(__webpack_exports__,"BRAND_COLOR",(function(){return BRAND_COLOR}));var CategoricalColorNamespace_namespaceObject={};__webpack_require__.r(CategoricalColorNamespace_namespaceObject),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"default",(function(){return CategoricalColorNamespace_CategoricalColorNamespace})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"DEFAULT_NAMESPACE",(function(){return DEFAULT_NAMESPACE})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"getNamespace",(function(){return getNamespace})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"getColor",(function(){return getColor})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"getScale",(function(){return getScale}));var ExtensibleFunction=__webpack_require__(432),ordinal=__webpack_require__(875);function stringifyAndTrim(value){return String(value).trim()}class CategoricalColorScale_CategoricalColorScale extends ExtensibleFunction.a{constructor(colors,parentForcedColors){super(value=>this.getColor(value)),this.colors=colors,this.scale=Object(ordinal.a)(),this.scale.range(colors),this.parentForcedColors=parentForcedColors,this.forcedColors={}}getColor(value){const cleanedValue=stringifyAndTrim(value),parentColor=this.parentForcedColors&&this.parentForcedColors[cleanedValue];if(parentColor)return parentColor;const forcedColor=this.forcedColors[cleanedValue];return forcedColor||this.scale(cleanedValue)}setColor(value,forcedColor){return this.forcedColors[stringifyAndTrim(value)]=forcedColor,this}getColorMap(){const colorMap={};return this.scale.domain().forEach(value=>{colorMap[value.toString()]=this.scale(value)}),Object.assign(Object.assign(Object.assign({},colorMap),this.forcedColors),this.parentForcedColors)}copy(){const copy=new CategoricalColorScale_CategoricalColorScale(this.scale.range(),this.parentForcedColors);return copy.forcedColors=Object.assign({},this.forcedColors),copy.domain(this.domain()),copy.unknown(this.unknown()),copy}domain(newDomain){return void 0===newDomain?this.scale.domain():(this.scale.domain(newDomain),this)}range(newRange){return void 0===newRange?this.scale.range():(this.colors=newRange,this.scale.range(newRange),this)}unknown(value){return void 0===value?this.scale.unknown():(this.scale.unknown(value),this)}}var src_CategoricalColorScale=CategoricalColorScale_CategoricalColorScale,CategoricalSchemeRegistrySingleton=__webpack_require__(839);class CategoricalColorNamespace_CategoricalColorNamespace{constructor(name){this.name=name,this.scales={},this.forcedItems={}}getScale(schemeId){var _a,_b;const id=null!==(_a=null!=schemeId?schemeId:Object(CategoricalSchemeRegistrySingleton.a)().getDefaultKey())&&void 0!==_a?_a:"",scale=this.scales[id];if(scale)return scale;const scheme=Object(CategoricalSchemeRegistrySingleton.a)().get(id),newScale=new src_CategoricalColorScale(null!==(_b=null==scheme?void 0:scheme.colors)&&void 0!==_b?_b:[],this.forcedItems);return this.scales[id]=newScale,newScale}setColor(value,forcedColor){return this.forcedItems[stringifyAndTrim(value)]=forcedColor,this}}const namespaces={},DEFAULT_NAMESPACE="GLOBAL";function getNamespace(name=DEFAULT_NAMESPACE){const instance=namespaces[name];if(instance)return instance;const newInstance=new CategoricalColorNamespace_CategoricalColorNamespace(name);return namespaces[name]=newInstance,newInstance}function getColor(value,schemeId,namespace){return getNamespace(namespace).getScale(schemeId).getColor(value)}function getScale(scheme,namespace){return getNamespace(namespace).getScale(scheme)}var CategoricalScheme=__webpack_require__(55),SequentialSchemeRegistrySingleton=__webpack_require__(841),SequentialScheme=__webpack_require__(124);const BRAND_COLOR="#00A699"}}]);
//# sourceMappingURL=29.1e5b68d6728809c52fee.bundle.js.map