(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1001:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.d(__webpack_exports__,"a",(function(){return ChartMetadata}));class ChartMetadata{constructor(config){_defineProperty(this,"name",void 0),_defineProperty(this,"canBeAnnotationTypes",void 0),_defineProperty(this,"canBeAnnotationTypesLookup",void 0),_defineProperty(this,"credits",void 0),_defineProperty(this,"description",void 0),_defineProperty(this,"show",void 0),_defineProperty(this,"supportedAnnotationTypes",void 0),_defineProperty(this,"thumbnail",void 0),_defineProperty(this,"useLegacyApi",void 0);const{name:name,canBeAnnotationTypes:canBeAnnotationTypes=[],credits:credits=[],description:description="",show:show=!0,supportedAnnotationTypes:supportedAnnotationTypes=[],thumbnail:thumbnail,useLegacyApi:useLegacyApi=!1}=config;this.name=name,this.credits=credits,this.description=description,this.show=show,this.canBeAnnotationTypes=canBeAnnotationTypes,this.canBeAnnotationTypesLookup=canBeAnnotationTypes.reduce((prev,type)=>{const lookup=prev;return lookup[type]=!0,lookup},{}),this.supportedAnnotationTypes=supportedAnnotationTypes,this.thumbnail=thumbnail,this.useLegacyApi=useLegacyApi}canBeAnnotationType(type){return this.canBeAnnotationTypesLookup[type]||!1}clone(){return new ChartMetadata({canBeAnnotationTypes:this.canBeAnnotationTypes,credits:this.credits,description:this.description,name:this.name,show:this.show,supportedAnnotationTypes:this.supportedAnnotationTypes,thumbnail:this.thumbnail,useLegacyApi:this.useLegacyApi})}}},1002:function(module,__webpack_exports__,__webpack_require__){"use strict";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"a",(function(){return Plugin}));class Plugin{constructor(){!function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(this,"config",void 0),this.config={}}resetConfig(){return this.config={},this}configure(config,replace){return void 0===replace&&(replace=!1),this.config=replace?config:_extends({},this.config,{},config),this}register(){return this}unregister(){return this}}},1003:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RegistryWithDefaultKey}));var _Registry__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(128);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class RegistryWithDefaultKey extends _Registry__WEBPACK_IMPORTED_MODULE_0__.a{constructor(config){void 0===config&&(config={}),super(config),_defineProperty(this,"initialDefaultKey",void 0),_defineProperty(this,"defaultKey",void 0),_defineProperty(this,"setFirstItemAsDefault",void 0);const{initialDefaultKey:initialDefaultKey,setFirstItemAsDefault:setFirstItemAsDefault=!1}=config;this.initialDefaultKey=initialDefaultKey,this.defaultKey=initialDefaultKey,this.setFirstItemAsDefault=setFirstItemAsDefault}clear(){return super.clear(),this.defaultKey=this.initialDefaultKey,this}get(key){const targetKey=null!=key?key:this.defaultKey;return targetKey?super.get(targetKey):void 0}registerValue(key,value){return super.registerValue(key,value),this.setFirstItemAsDefault&&!this.defaultKey&&(this.defaultKey=key),this}registerLoader(key,loader){return super.registerLoader(key,loader),this.setFirstItemAsDefault&&!this.defaultKey&&(this.defaultKey=key),this}getDefaultKey(){return this.defaultKey}setDefaultKey(key){return this.defaultKey=key,this}clearDefaultKey(){return this.defaultKey=void 0,this}}},1005:function(module,__webpack_exports__,__webpack_require__){"use strict";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function convertMetric(metric){let formattedMetric;if("string"==typeof metric)formattedMetric={label:metric};else{var _metric$label;formattedMetric=_extends({},metric,{label:null!=(_metric$label=metric.label)?_metric$label:function getDefaultLabel(metric){let label;return label="SIMPLE"===metric.expressionType?metric.aggregate+"("+metric.column.columnName+")":metric.sqlExpression,label.length<=43?label:label.slice(0,Math.max(0,40))+"..."}(metric)})}return formattedMetric}const unaryOperatorSet=new Set(["IS NOT NULL","IS NULL"]);const binaryOperatorSet=new Set(["=","!=",">","<",">=","<=","like","regex"]);new Set(["in","not in"]);function isUnaryAdhocFilter(filter){return function isUnaryOperator(operator){return unaryOperatorSet.has(operator)}(filter.operator)}function isBinaryAdhocFilter(filter){return function isBinaryOperator(operator){return binaryOperatorSet.has(operator)}(filter.operator)}function processFilters(formData){const{adhoc_filters:adhoc_filters}=formData;if(Array.isArray(adhoc_filters)){const simpleWhere=[],simpleHaving=[],freeformWhere=[],freeformHaving=[];return adhoc_filters.forEach(filter=>{const{clause:clause}=filter;if(function isSimpleAdhocFilter(filter){return"SIMPLE"===filter.expressionType}(filter)){const filterClause=function convertFilter(filter){const{subject:subject}=filter;if(isUnaryAdhocFilter(filter)){const{operator:operator}=filter;return{col:subject,op:operator}}if(isBinaryAdhocFilter(filter)){const{operator:operator}=filter;return{col:subject,op:operator,val:filter.comparator}}const{operator:operator}=filter;return{col:subject,op:operator,val:filter.comparator}}(filter);"WHERE"===clause?simpleWhere.push(filterClause):simpleHaving.push(filterClause)}else{const{sqlExpression:sqlExpression}=filter;"WHERE"===clause?freeformWhere.push(sqlExpression):freeformHaving.push(sqlExpression)}}),{filters:simpleWhere,having:freeformHaving.map(exp=>"("+exp+")").join(" AND "),having_filters:simpleHaving,where:freeformWhere.map(exp=>"("+exp+")").join(" AND ")}}return{}}let MetricKey;function processMetrics(formData){const metrics=[];return Object.keys(MetricKey).forEach(key=>{const metric=formData[MetricKey[key]];metric&&(Array.isArray(metric)?metric.forEach(m=>{metrics.push(convertMetric(m))}):metrics.push(convertMetric(metric)))}),metrics}function processExtras(formData){const{where:where=""}=formData;if(function isDruidFormData(formData){return"granularity"in formData}(formData)){const{druid_time_origin:druid_time_origin,having_druid:having_druid}=formData;return{druid_time_origin:druid_time_origin,having_druid:having_druid,where:where}}const{time_grain_sqla:time_grain_sqla,having:having}=formData;return{having:having,time_grain_sqla:time_grain_sqla,where:where}}function buildQueryObject_extends(){return(buildQueryObject_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}!function(MetricKey){MetricKey.METRIC="metric",MetricKey.METRICS="metrics",MetricKey.PERCENT_METRICS="percent_metrics",MetricKey.RIGHT_AXIS_METRIC="metric_2",MetricKey.SECONDARY_METRIC="secondary_metric",MetricKey.X="x",MetricKey.Y="y",MetricKey.SIZE="size"}(MetricKey||(MetricKey={}));function processGranularity(formData){return function isSqlaFormData(formData){return"granularity_sqla"in formData}(formData)?formData.granularity_sqla:formData.granularity}function buildQueryObject(formData){const{time_range:time_range,since:since,until:until,columns:columns=[],groupby:groupby=[],order_desc:order_desc,row_limit:row_limit,limit:limit,timeseries_limit_metric:timeseries_limit_metric}=formData,groupbySet=new Set([...columns,...groupby]);return buildQueryObject_extends({extras:processExtras(formData),granularity:processGranularity(formData),groupby:Array.from(groupbySet),is_timeseries:groupbySet.has("__timestamp"),metrics:processMetrics(formData),order_desc:void 0===order_desc||order_desc,orderby:[],row_limit:Number(row_limit),since:since,time_range:time_range,timeseries_limit:limit?Number(limit):0,timeseries_limit_metric:timeseries_limit_metric?convertMetric(timeseries_limit_metric):null,until:until},processFilters(formData))}let DatasourceType;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}!function(DatasourceType){DatasourceType.Table="table",DatasourceType.Druid="druid"}(DatasourceType||(DatasourceType={}));class DatasourceKey_DatasourceKey{constructor(key){_defineProperty(this,"id",void 0),_defineProperty(this,"type",void 0);const[idStr,typeStr]=key.split("__");this.id=parseInt(idStr,10),this.type="table"===typeStr?DatasourceType.Table:DatasourceType.Druid}toString(){return this.id+"__"+this.type}toObject(){return{id:this.id,type:this.type}}}__webpack_require__.d(__webpack_exports__,"a",(function(){return buildQueryContext}));const WRAP_IN_ARRAY=baseQueryObject=>[baseQueryObject];function buildQueryContext(formData,buildQuery){return void 0===buildQuery&&(buildQuery=WRAP_IN_ARRAY),{datasource:new DatasourceKey_DatasourceKey(formData.datasource).toObject(),queries:buildQuery(buildQueryObject(formData))}}},1006:function(module,__webpack_exports__,__webpack_require__){"use strict";const STYLE_FIELDS=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];const DEFAULT_DIMENSION={height:20,width:100};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class LazyFactory{constructor(factoryFn){_defineProperty(this,"activeNodes",new Map),_defineProperty(this,"factoryFn",void 0),this.factoryFn=factoryFn}createInContainer(container){if(void 0===container&&(container=document.body),this.activeNodes.has(container)){const entry=this.activeNodes.get(container);return entry.counter+=1,entry.node}const node=this.factoryFn();return container.append(node),this.activeNodes.set(container,{counter:1,node:node}),node}removeFromContainer(container){if(void 0===container&&(container=document.body),this.activeNodes.has(container)){const entry=this.activeNodes.get(container);entry.counter-=1,0===entry.counter&&(container.removeChild(entry.node),this.activeNodes.delete(container))}}}const SVG_NS="http://www.w3.org/2000/svg";const hiddenSvgFactory=new LazyFactory((function createHiddenSvgNode(){const svgNode=document.createElementNS(SVG_NS,"svg");return svgNode.style.position="absolute",svgNode.style.top="-100%",svgNode.style.left="-100%",svgNode.style.width="0",svgNode.style.height="0",svgNode.style.opacity="0",svgNode.style.pointerEvents="none",svgNode})),textFactory=new LazyFactory((function createTextNode(){return document.createElementNS(SVG_NS,"text")}));function getTextDimension(input,defaultDimension){const{text:text,className:className,style:style,container:container}=input;if(0===text.length)return{height:0,width:0};const svgNode=hiddenSvgFactory.createInContainer(container),textNode=textFactory.createInContainer(svgNode);!function updateTextNode(node,_temp){let{className:className,style:style={},text:text}=void 0===_temp?{}:_temp;const textNode=node;return textNode.textContent!==text&&(textNode.textContent=void 0===text?null:text),textNode.getAttribute("class")!==className&&textNode.setAttribute("class",null!=className?className:""),textNode.style.removeProperty("font"),textNode.style.removeProperty("font-weight"),textNode.style.removeProperty("font-style"),textNode.style.removeProperty("font-size"),textNode.style.removeProperty("font-family"),textNode.style.removeProperty("letter-spacing"),STYLE_FIELDS.filter(field=>void 0!==style[field]&&null!==style[field]).forEach(field=>{textNode.style[field]=""+style[field]}),textNode}(textNode,{className:className,style:style,text:text});const dimension=function getBBoxCeil(node,defaultDimension){void 0===defaultDimension&&(defaultDimension=DEFAULT_DIMENSION);const{width:width,height:height}=node.getBBox?node.getBBox():defaultDimension;return{height:Math.ceil(height),width:Math.ceil(width)}}(textNode,defaultDimension);return setTimeout(()=>{textFactory.removeFromContainer(svgNode),hiddenSvgFactory.removeFromContainer(container)},500),dimension}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function decreaseSizeUntil(startSize,computeDimension,condition){let size=startSize,dimension=computeDimension(size);for(;!condition(dimension);)size-=1,dimension=computeDimension(size);return size}function computeMaxFontSize(input){const{idealFontSize:idealFontSize,maxWidth:maxWidth,maxHeight:maxHeight,style:style}=input,rest=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(input,["idealFontSize","maxWidth","maxHeight","style"]);let size;if(null!=idealFontSize)size=idealFontSize;else{if(null==maxHeight)throw new Error("You must specify at least one of maxHeight or idealFontSize");size=Math.floor(maxHeight)}function computeDimension(fontSize){return getTextDimension(_extends({},rest,{style:_extends({},style,{fontSize:fontSize+"px"})}))}return null!=maxWidth&&(size=decreaseSizeUntil(size,computeDimension,dim=>dim.width<=maxWidth)),null!=maxHeight&&(size=decreaseSizeUntil(size,computeDimension,dim=>dim.height<=maxHeight)),size}__webpack_require__.d(__webpack_exports__,"a",(function(){return computeMaxFontSize}))},1007:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(917);const CACHE_AVAILABLE="caches"in self;function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function rejectAfterTimeout(timeout){return new Promise((resolve,reject)=>{setTimeout(()=>reject({error:"Request timed out",statusText:"timeout"}),timeout)})}function rejectIfNotOkay(response){return response.ok?Promise.resolve(response):Promise.reject(response)}function callApiAndParseWithTimeout(_ref){let{timeout:timeout,parseMethod:parseMethod}=_ref;const apiPromise=function callApi(_ref){let{body:body,cache:cache="default",credentials:credentials="same-origin",headers:headers,method:method="GET",mode:mode="same-origin",postPayload:postPayload,redirect:redirect="follow",signal:signal,stringify:stringify=!0,url:url}=_ref;const request={body:body,cache:cache,credentials:credentials,headers:headers,method:method,mode:mode,redirect:redirect,signal:signal};if("GET"===method&&CACHE_AVAILABLE&&"https:"===(self.location&&self.location.protocol))return caches.open("@SUPERSET-UI/CONNECTION").then(supersetCache=>supersetCache.match(url).then(cachedResponse=>{if(cachedResponse){const etag=cachedResponse.headers.get("Etag");request.headers=_extends({},request.headers,{"If-None-Match":etag})}return fetch(url,request)}).then(response=>304===response.status?supersetCache.match(url).then(cachedResponse=>{if(cachedResponse)return cachedResponse.clone();throw new Error("Received 304 but no content is cached!")}):(200===response.status&&response.headers.get("Etag")&&(supersetCache.delete(url),supersetCache.put(url,response.clone())),response)));if(("POST"===method||"PATCH"===method||"PUT"===method)&&"object"==typeof postPayload){const formData=new FormData;Object.keys(postPayload).forEach(key=>{const value=postPayload[key];void 0!==value&&formData.append(key,stringify?JSON.stringify(value):value)}),request.body=formData}return fetch(url,request)}(function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,["timeout","parseMethod"]));return function parseResponse(apiPromise,parseMethod){void 0===parseMethod&&(parseMethod="json");const checkedPromise=apiPromise.then(rejectIfNotOkay);if(null===parseMethod)return apiPromise.then(rejectIfNotOkay);if("text"===parseMethod)return checkedPromise.then(response=>response.text().then(text=>({response:response,text:text})));if("json"===parseMethod)return checkedPromise.then(response=>response.json().then(json=>({json:json,response:response})));throw new Error("Expected parseResponse=null|json|text, got '"+parseMethod+"'.")}("number"==typeof timeout&&timeout>0?Promise.race([rejectAfterTimeout(timeout),apiPromise]):apiPromise,parseMethod)}function SupersetClientClass_extends(){return(SupersetClientClass_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SupersetClientClass_SupersetClientClass{constructor(_temp){let{protocol:protocol="http:",host:host="localhost",headers:headers={},mode:mode="same-origin",timeout:timeout,credentials:credentials,csrfToken:csrfToken}=void 0===_temp?{}:_temp;_defineProperty(this,"credentials",void 0),_defineProperty(this,"csrfToken",void 0),_defineProperty(this,"csrfPromise",void 0),_defineProperty(this,"protocol",void 0),_defineProperty(this,"host",void 0),_defineProperty(this,"headers",void 0),_defineProperty(this,"mode",void 0),_defineProperty(this,"timeout",void 0),this.headers=SupersetClientClass_extends({},headers),this.host=host,this.mode=mode,this.timeout=timeout,this.protocol=protocol,this.credentials=credentials,this.csrfToken=csrfToken,this.csrfPromise=void 0,"string"==typeof this.csrfToken&&(this.headers=SupersetClientClass_extends({},this.headers,{"X-CSRFToken":this.csrfToken}),this.csrfPromise=Promise.resolve(this.csrfToken))}init(force){return void 0===force&&(force=!1),this.isAuthenticated()&&!force?this.csrfPromise:this.getCSRFToken()}isAuthenticated(){return null!==this.csrfToken&&void 0!==this.csrfToken}async get(requestConfig){return this.request(SupersetClientClass_extends({},requestConfig,{method:"GET"}))}async delete(requestConfig){return this.request(SupersetClientClass_extends({},requestConfig,{method:"DELETE"}))}async put(requestConfig){return this.request(SupersetClientClass_extends({},requestConfig,{method:"PUT"}))}async post(requestConfig){return this.request(SupersetClientClass_extends({},requestConfig,{method:"POST"}))}async request(_ref){let{body:body,credentials:credentials,endpoint:endpoint,headers:headers,host:host,method:method,mode:mode,parseMethod:parseMethod,postPayload:postPayload,signal:signal,stringify:stringify,timeout:timeout,url:url}=_ref;return this.ensureAuth().then(()=>callApiAndParseWithTimeout({body:body,credentials:null!=credentials?credentials:this.credentials,headers:SupersetClientClass_extends({},this.headers,{},headers),method:method,mode:null!=mode?mode:this.mode,parseMethod:parseMethod,postPayload:postPayload,signal:signal,stringify:stringify,timeout:null!=timeout?timeout:this.timeout,url:this.getUrl({endpoint:endpoint,host:host,url:url})}))}ensureAuth(){var _this$csrfPromise;return null!=(_this$csrfPromise=this.csrfPromise)?_this$csrfPromise:Promise.reject({error:"SupersetClient has no CSRF token, ensure it is initialized or\n        try logging into the Superset instance at "+this.getUrl({endpoint:"/login"})})}async getCSRFToken(){return this.csrfToken=void 0,this.csrfPromise=callApiAndParseWithTimeout({credentials:this.credentials,headers:SupersetClientClass_extends({},this.headers),method:"GET",mode:this.mode,timeout:this.timeout,url:this.getUrl({endpoint:"superset/csrf_token/"})}).then(response=>("object"==typeof response.json&&(this.csrfToken=response.json.csrf_token,"string"==typeof this.csrfToken&&(this.headers=SupersetClientClass_extends({},this.headers,{"X-CSRFToken":this.csrfToken}))),this.isAuthenticated()?this.csrfToken:Promise.reject({error:"Failed to fetch CSRF token"}))),this.csrfPromise}getUrl(_temp2){let{host:inputHost,endpoint:endpoint="",url:url}=void 0===_temp2?{}:_temp2;if("string"==typeof url)return url;const host=null!=inputHost?inputHost:this.host,cleanHost="/"===host.slice(-1)?host.slice(0,-1):host;return this.protocol+"//"+cleanHost+"/"+("/"===endpoint[0]?endpoint.slice(1):endpoint)}}let singletonClient;function getInstance(maybeClient){if(!maybeClient)throw new Error("You must call SupersetClient.configure(...) before calling other methods");return maybeClient}const SupersetClient={configure:config=>(singletonClient=new SupersetClientClass_SupersetClientClass(config),singletonClient),delete:request=>getInstance(singletonClient).delete(request),get:request=>getInstance(singletonClient).get(request),getInstance:getInstance,init:force=>getInstance(singletonClient).init(force),isAuthenticated:()=>getInstance(singletonClient).isAuthenticated(),post:request=>getInstance(singletonClient).post(request),put:request=>getInstance(singletonClient).put(request),reAuthenticate:()=>getInstance(singletonClient).init(!0),request:_request=>getInstance(singletonClient).request(_request),reset:()=>{singletonClient=void 0}};__webpack_exports__.a=SupersetClient},1009:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(1);var Plugin=__webpack_require__(1002),isRequired=__webpack_require__(129),ChartMetadataRegistrySingleton=__webpack_require__(165),ChartBuildQueryRegistrySingleton=__webpack_require__(168),ChartComponentRegistrySingleton=__webpack_require__(166),Registry=__webpack_require__(128),makeSingleton=__webpack_require__(228);class ChartControlPanelRegistrySingleton_ChartControlPanelRegistry extends Registry.a{constructor(){super({name:"ChartControlPanel"})}}var ChartControlPanelRegistrySingleton=Object(makeSingleton.a)(ChartControlPanelRegistrySingleton_ChartControlPanelRegistry),ChartTransformPropsRegistrySingleton=__webpack_require__(167);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function IDENTITY(x){return x}__webpack_require__.d(__webpack_exports__,"a",(function(){return ChartPlugin_ChartPlugin}));const EMPTY={};function sanitizeLoader(loader){return()=>{const loaded=loader();return loaded instanceof Promise?loaded.then(module=>"default"in module&&module.default||module):loaded}}class ChartPlugin_ChartPlugin extends Plugin.a{constructor(config){super(),_defineProperty(this,"controlPanel",void 0),_defineProperty(this,"metadata",void 0),_defineProperty(this,"loadBuildQuery",void 0),_defineProperty(this,"loadTransformProps",void 0),_defineProperty(this,"loadChart",void 0);const{metadata:metadata,buildQuery:buildQuery,loadBuildQuery:loadBuildQuery,transformProps:transformProps=IDENTITY,loadTransformProps:loadTransformProps,Chart:Chart,loadChart:loadChart,controlPanel:controlPanel=EMPTY}=config;if(this.controlPanel=controlPanel,this.metadata=metadata,this.loadBuildQuery=loadBuildQuery&&sanitizeLoader(loadBuildQuery)||buildQuery&&sanitizeLoader(()=>buildQuery)||void 0,this.loadTransformProps=sanitizeLoader(null!=loadTransformProps?loadTransformProps:()=>transformProps),loadChart)this.loadChart=sanitizeLoader(loadChart);else{if(!Chart)throw new Error("Chart or loadChart is required");this.loadChart=()=>Chart}}register(){const{key:key=Object(isRequired.a)("config.key")}=this.config;return Object(ChartMetadataRegistrySingleton.a)().registerValue(key,this.metadata),Object(ChartComponentRegistrySingleton.a)().registerLoader(key,this.loadChart),ChartControlPanelRegistrySingleton().registerValue(key,this.controlPanel),Object(ChartTransformPropsRegistrySingleton.a)().registerLoader(key,this.loadTransformProps),this.loadBuildQuery&&Object(ChartBuildQueryRegistrySingleton.a)().registerLoader(key,this.loadBuildQuery),this}unregister(){const{key:key=Object(isRequired.a)("config.key")}=this.config;return Object(ChartMetadataRegistrySingleton.a)().remove(key),Object(ChartComponentRegistrySingleton.a)().remove(key),ChartControlPanelRegistrySingleton().remove(key),Object(ChartTransformPropsRegistrySingleton.a)().remove(key),Object(ChartBuildQueryRegistrySingleton.a)().remove(key),this}configure(config,replace){return super.configure(config,replace),this}}},1010:function(module,__webpack_exports__,__webpack_require__){"use strict";var jed=__webpack_require__(477),jed_default=__webpack_require__.n(jed);const DEFAULT_LANGUAGE_PACK={domain:"superset",locale_data:{superset:{"":{domain:"superset",lang:"en",plural_forms:"nplurals=1; plural=0"}}}};class Translator_Translator{constructor(config){void 0===config&&(config={}),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(this,"i18n",void 0);const{languagePack:languagePack=DEFAULT_LANGUAGE_PACK}=config;this.i18n=new jed_default.a(languagePack)}translate(input){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return this.i18n.translate(input).fetch(...args)}translateWithNumber(singular,plural,num){void 0===num&&(num=0);for(var _len2=arguments.length,args=new Array(_len2>3?_len2-3:0),_key2=3;_key2<_len2;_key2++)args[_key2-3]=arguments[_key2];return this.i18n.translate(singular).ifPlural(num,plural).fetch(...args)}}let singleton;__webpack_require__.d(__webpack_exports__,"a",(function(){return t}));let isConfigured=!1;function getInstance(){return isConfigured||console.warn("You should call configure(...) before calling other methods"),void 0===singleton&&(singleton=new Translator_Translator),singleton}function t(input){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return getInstance().translate(input,...args)}},103:function(module,__webpack_exports__,__webpack_require__){"use strict";const NumberFormats={DOLLAR:"$,.2f",DOLLAR_ROUND:"$,d",DOLLAR_ROUND_SIGNED:"+$,d",DOLLAR_SIGNED:"+$,.2f",FLOAT:",.2f",FLOAT_1_POINT:",.1f",FLOAT_2_POINT:",.2f",FLOAT_3_POINT:",.3f",FLOAT_SIGNED:"+,.2f",FLOAT_SIGNED_1_POINT:"+,.1f",FLOAT_SIGNED_2_POINT:"+,.2f",FLOAT_SIGNED_3_POINT:"+,.3f",INTEGER:",d",INTEGER_SIGNED:"+,d",PERCENT:",.2%",PERCENT_1_POINT:",.1%",PERCENT_2_POINT:",.2%",PERCENT_3_POINT:",.3%",PERCENT_SIGNED:"+,.2%",PERCENT_SIGNED_1_POINT:"+,.1%",PERCENT_SIGNED_2_POINT:"+,.2%",PERCENT_SIGNED_3_POINT:"+,.3%",SI:".3s",SI_1_DIGIT:".1s",SI_2_DIGIT:".2s",SI_3_DIGIT:".3s",SMART_NUMBER:"SMART_NUMBER",SMART_NUMBER_SIGNED:"SMART_NUMBER_SIGNED"};__webpack_exports__.a=NumberFormats},119:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LOCAL_PREFIX}));const LOCAL_PREFIX="local!",TimeFormats={DATABASE_DATE:"%Y-%m-%d",DATABASE_DATETIME:"%Y-%m-%d %H:%M:%S",DATABASE_DATETIME_REVERSE:"%d-%m-%Y %H:%M:%S",INTERNATIONAL_DATE:"%d/%m/%Y",TIME:"%H:%M:%S",US_DATE:"%m/%d/%Y"};__webpack_exports__.b=TimeFormats},128:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Registry}));var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Registry{constructor(config){void 0===config&&(config={}),_defineProperty(this,"name",void 0),_defineProperty(this,"overwritePolicy",void 0),_defineProperty(this,"items",void 0),_defineProperty(this,"promises",void 0);const{name:name="",overwritePolicy:overwritePolicy=_types__WEBPACK_IMPORTED_MODULE_0__.a.ALLOW}=config;this.name=name,this.overwritePolicy=overwritePolicy,this.items={},this.promises={}}clear(){return this.items={},this.promises={},this}has(key){const item=this.items[key];return null!=item}registerValue(key,value){const item=this.items[key],willOverwrite=this.has(key)&&("value"in item&&item.value!==value||"loader"in item);if(willOverwrite)if(this.overwritePolicy===_types__WEBPACK_IMPORTED_MODULE_0__.a.WARN)console.warn('Item with key "'+key+'" already exists. You are assigning a new value.');else if(this.overwritePolicy===_types__WEBPACK_IMPORTED_MODULE_0__.a.PROHIBIT)throw new Error('Item with key "'+key+'" already exists. Cannot overwrite.');return item&&!willOverwrite||(this.items[key]={value:value},delete this.promises[key]),this}registerLoader(key,loader){const item=this.items[key],willOverwrite=this.has(key)&&("loader"in item&&item.loader!==loader||"value"in item);if(willOverwrite)if(this.overwritePolicy===_types__WEBPACK_IMPORTED_MODULE_0__.a.WARN)console.warn('Item with key "'+key+'" already exists. You are assigning a new value.');else if(this.overwritePolicy===_types__WEBPACK_IMPORTED_MODULE_0__.a.PROHIBIT)throw new Error('Item with key "'+key+'" already exists. Cannot overwrite.');return item&&!willOverwrite||(this.items[key]={loader:loader},delete this.promises[key]),this}get(key){const item=this.items[key];if(void 0!==item)return"loader"in item?item.loader&&item.loader():item.value}getAsPromise(key){const promise=this.promises[key];if(void 0!==promise)return promise;const item=this.get(key);if(void 0!==item){const newPromise=Promise.resolve(item);return this.promises[key]=newPromise,newPromise}return Promise.reject(new Error('Item with key "'+key+'" is not registered.'))}getMap(){return this.keys().reduce((prev,key)=>{const map=prev;return map[key]=this.get(key),map},{})}getMapAsPromise(){const keys=this.keys();return Promise.all(keys.map(key=>this.getAsPromise(key))).then(values=>values.reduce((prev,value,i)=>{const map=prev;return map[keys[i]]=value,map},{}))}keys(){return Object.keys(this.items)}values(){return this.keys().map(key=>this.get(key))}valuesAsPromise(){return Promise.all(this.keys().map(key=>this.getAsPromise(key)))}entries(){return this.keys().map(key=>({key:key,value:this.get(key)}))}entriesAsPromise(){const keys=this.keys();return Promise.all(keys.map(key=>this.getAsPromise(key))).then(values=>values.map((value,i)=>({key:keys[i],value:value})))}remove(key){return delete this.items[key],delete this.promises[key],this}}},129:function(module,__webpack_exports__,__webpack_require__){"use strict";function isRequired(field){throw new Error(field+" is required.")}__webpack_require__.d(__webpack_exports__,"a",(function(){return isRequired}))},165:function(module,__webpack_exports__,__webpack_require__){"use strict";var _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(128),_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61),_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(228);class ChartMetadataRegistry extends _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.a{constructor(){super({name:"ChartMetadata",overwritePolicy:_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a.WARN})}}const getInstance=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.a)(ChartMetadataRegistry);__webpack_exports__.a=getInstance},166:function(module,__webpack_exports__,__webpack_require__){"use strict";var _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(128),_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61),_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(228);class ChartComponentRegistry extends _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.a{constructor(){super({name:"ChartComponent",overwritePolicy:_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a.WARN})}}const getInstance=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.a)(ChartComponentRegistry);__webpack_exports__.a=getInstance},167:function(module,__webpack_exports__,__webpack_require__){"use strict";var _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(128),_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61),_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(228);class ChartTransformPropsRegistry extends _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.a{constructor(){super({name:"ChartTransformProps",overwritePolicy:_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a.WARN})}}const getInstance=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.a)(ChartTransformPropsRegistry);__webpack_exports__.a=getInstance},168:function(module,__webpack_exports__,__webpack_require__){"use strict";var _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(128),_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61),_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(228);class ChartBuildQueryRegistry extends _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.a{constructor(){super({name:"ChartBuildQuery",overwritePolicy:_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a.WARN})}}const getInstance=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.a)(ChartBuildQueryRegistry);__webpack_exports__.a=getInstance},170:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(98);var promise=__webpack_require__(59),promise_default=__webpack_require__.n(promise),bind=__webpack_require__(92),bind_default=__webpack_require__.n(bind),react=__webpack_require__(1),react_default=__webpack_require__.n(react),SupersetClient=__webpack_require__(1007),stringify=__webpack_require__(58),stringify_default=__webpack_require__.n(stringify);function ErrorMessage(_ref){let{error:error}=_ref;return react_default.a.createElement("div",{className:"alert alert-danger"},error.stack||error.message,!error.message&&!error.stack&&("object"==typeof error?stringify_default()(error):String(error)))}__webpack_require__.d(__webpack_exports__,"b",(function(){return renderError})),__webpack_require__.d(__webpack_exports__,"a",(function(){return VerifyCORS_VerifyCORS}));const renderError=error=>react_default.a.createElement("div",null,"The following error occurred, make sure you have ",react_default.a.createElement("br",null),"1) configured CORS in Superset to receive requests from this domain. ",react_default.a.createElement("br",null),"2) set the Superset host correctly below. ",react_default.a.createElement("br",null),"3) debug the CORS configuration under the `@superset-ui/connection` stories.",react_default.a.createElement("br",null),react_default.a.createElement("br",null),react_default.a.createElement(ErrorMessage,{error:error}));class VerifyCORS_VerifyCORS extends react_default.a.Component{constructor(props){var _context;super(props),this.state={didVerify:!1},this.handleVerify=bind_default()(_context=this.handleVerify).call(_context,this)}componentDidUpdate(prevProps){const{endpoint:endpoint,host:host,postPayload:postPayload,method:method}=this.props;!this.state.didVerify&&!this.state.error||prevProps.endpoint===endpoint&&prevProps.host===host&&prevProps.postPayload===postPayload&&prevProps.method===method||this.setState({didVerify:!1,error:void 0})}handleVerify(){const{endpoint:endpoint,host:host,postPayload:postPayload,method:method}=this.props;SupersetClient.a.reset(),SupersetClient.a.configure({credentials:"include",host:host,mode:"cors"}).init().then(()=>endpoint?SupersetClient.a.request({endpoint:endpoint,method:method,postPayload:postPayload?JSON.parse(postPayload):""}):promise_default.a.resolve({})).then(response=>this.setState({didVerify:!0,error:void 0,payload:response})).catch(error=>{const{status:status,statusText:statusText=error}=error;this.setState({error:Error((status||"")+(status?":":"")+" "+statusText)})})}render(){const{didVerify:didVerify,error:error,payload:payload}=this.state,{children:children}=this.props;return didVerify?children({payload:payload}):react_default.a.createElement("div",{className:"row"},react_default.a.createElement("div",{className:"col-md-10"},"This example requires CORS requests from this domain. ",react_default.a.createElement("br",null),react_default.a.createElement("br",null),"1) enable CORS requests in your Superset App from ",""+window.location.origin,react_default.a.createElement("br",null),"2) configure your Superset App host name below ",react_default.a.createElement("br",null),"3) click below to verify authentication. You may debug CORS further using the `@superset-ui/connection` story. ",react_default.a.createElement("br",null),react_default.a.createElement("br",null),react_default.a.createElement("button",{type:"button",onClick:this.handleVerify,className:"btn btn-outline-primary btn-sm"},"Verify"),react_default.a.createElement("br",null),react_default.a.createElement("br",null)),error&&react_default.a.createElement("div",{className:"col-md-8"},react_default.a.createElement(ErrorMessage,{error:error})))}}},171:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PREVIEW_VALUE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return NumberFormatter}));var _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(503),_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(129);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const PREVIEW_VALUE=12345.432;class NumberFormatter extends _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.a{constructor(config){super(value=>this.format(value)),_defineProperty(this,"id",void 0),_defineProperty(this,"label",void 0),_defineProperty(this,"description",void 0),_defineProperty(this,"formatFunc",void 0),_defineProperty(this,"isInvalid",void 0);const{id:id=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a)("config.id"),label:label,description:description="",formatFunc:formatFunc=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a)("config.formatFunc"),isInvalid:isInvalid=!1}=config;this.id=id,this.label=null!=label?label:id,this.description=description,this.formatFunc=formatFunc,this.isInvalid=isInvalid}format(value){return null==value||Number.isNaN(value)?""+value:value===Number.POSITIVE_INFINITY?"∞":value===Number.NEGATIVE_INFINITY?"-∞":this.formatFunc(value)}preview(value){return void 0===value&&(value=PREVIEW_VALUE),value+" => "+this.format(value)}}},174:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PREVIEW_TIME})),__webpack_require__.d(__webpack_exports__,"b",(function(){return TimeFormatter}));var _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(503),_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(129);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const PREVIEW_TIME=new Date(Date.UTC(2017,1,14,11,22,33));class TimeFormatter extends _superset_ui_core__WEBPACK_IMPORTED_MODULE_0__.a{constructor(config){super(value=>this.format(value)),_defineProperty(this,"id",void 0),_defineProperty(this,"label",void 0),_defineProperty(this,"description",void 0),_defineProperty(this,"formatFunc",void 0),_defineProperty(this,"useLocalTime",void 0);const{id:id=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a)("config.id"),label:label,description:description="",formatFunc:formatFunc=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__.a)("config.formatFunc"),useLocalTime:useLocalTime=!1}=config;this.id=id,this.label=null!=label?label:id,this.description=description,this.formatFunc=formatFunc,this.useLocalTime=useLocalTime}format(value){return null==value?""+value:this.formatFunc(value)}preview(value){return void 0===value&&(value=PREVIEW_TIME),value.toUTCString()+" => "+this.format(value)}}},218:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _ColorScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(473));class CategoricalScheme extends _ColorScheme.default{}exports.default=CategoricalScheme},222:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Expandable}));var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(92),_babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);class Expandable extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component{constructor(props){var _context;super(props),this.state={open:!1},this.handleToggle=_babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0___default()(_context=this.handleToggle).call(_context,this)}handleToggle(){this.setState(_ref=>{let{open:open}=_ref;return{open:!open}})}render(){const{open:open}=this.state,{children:children,expandableWhat:expandableWhat}=this.props;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{type:"button",onClick:this.handleToggle,className:"btn btn-outline-primary btn-sm"},(open?"Hide":"Show")+" "+expandableWhat),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),open?children:null)}}},228:function(module,__webpack_exports__,__webpack_require__){"use strict";function makeSingleton(BaseClass){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];let singleton;return function getInstance(){return singleton||(singleton=new BaseClass(...args)),singleton}}__webpack_require__.d(__webpack_exports__,"a",(function(){return makeSingleton}))},320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var CategoricalColorNamespace_namespaceObject={};__webpack_require__.r(CategoricalColorNamespace_namespaceObject),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"default",(function(){return CategoricalColorNamespace_CategoricalColorNamespace})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"DEFAULT_NAMESPACE",(function(){return DEFAULT_NAMESPACE})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"getNamespace",(function(){return getNamespace})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"getColor",(function(){return getColor})),__webpack_require__.d(CategoricalColorNamespace_namespaceObject,"getScale",(function(){return getScale}));var ExtensibleFunction=__webpack_require__(503);function stringifyAndTrim(value){return String(value).trim()}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class CategoricalColorScale_CategoricalColorScale extends ExtensibleFunction.a{constructor(colors,parentForcedColors){super(value=>this.getColor(value)),_defineProperty(this,"colors",void 0),_defineProperty(this,"parentForcedColors",void 0),_defineProperty(this,"forcedColors",void 0),_defineProperty(this,"seen",void 0),this.colors=colors,this.parentForcedColors=parentForcedColors,this.forcedColors={},this.seen={}}getColor(value){const cleanedValue=stringifyAndTrim(value),parentColor=this.parentForcedColors&&this.parentForcedColors[cleanedValue];if(parentColor)return parentColor;const forcedColor=this.forcedColors[cleanedValue];if(forcedColor)return forcedColor;const seenColor=this.seen[cleanedValue],{length:length}=this.colors;if(void 0!==seenColor)return this.colors[seenColor%length];const index=Object.keys(this.seen).length;return this.seen[cleanedValue]=index,this.colors[index%length]}setColor(value,forcedColor){return this.forcedColors[stringifyAndTrim(value)]=forcedColor,this}getColorMap(){const colorMap={},{length:length}=this.colors;return Object.keys(this.seen).forEach(value=>{colorMap[value]=this.colors[this.seen[value]%length]}),_extends({},colorMap,{},this.forcedColors,{},this.parentForcedColors)}}var makeSingleton=__webpack_require__(228),RegistryWithDefaultKey=__webpack_require__(1003),types=__webpack_require__(61);class ColorSchemeRegistry_ColorSchemeRegistry extends RegistryWithDefaultKey.a{constructor(){super({name:"ColorScheme",overwritePolicy:types.a.WARN,setFirstItemAsDefault:!0})}get(key){return super.get(key)}}function ColorScheme_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ColorScheme{constructor(config){ColorScheme_defineProperty(this,"colors",void 0),ColorScheme_defineProperty(this,"description",void 0),ColorScheme_defineProperty(this,"id",void 0),ColorScheme_defineProperty(this,"label",void 0);const{colors:colors,description:description="",id:id,label:label}=config;this.id=id,this.label=null!=label?label:id,this.colors=colors,this.description=description}}class CategoricalScheme_CategoricalScheme extends ColorScheme{}var d3=[{id:"d3Category10",label:"D3 Category 10",colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]},{id:"d3Category20",label:"D3 Category 20",colors:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]},{id:"d3Category20b",label:"D3 Category 20b",colors:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"]},{id:"d3Category20c",label:"D3 Category 20c",colors:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}].map(s=>new CategoricalScheme_CategoricalScheme(s));var CategoricalSchemeRegistrySingleton=Object(makeSingleton.a)(class CategoricalSchemeRegistrySingleton_CategoricalSchemeRegistry extends ColorSchemeRegistry_ColorSchemeRegistry{constructor(){super(),this.registerValue("SUPERSET_DEFAULT",d3[0])}});function CategoricalColorNamespace_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class CategoricalColorNamespace_CategoricalColorNamespace{constructor(name){CategoricalColorNamespace_defineProperty(this,"name",void 0),CategoricalColorNamespace_defineProperty(this,"forcedItems",void 0),CategoricalColorNamespace_defineProperty(this,"scales",void 0),this.name=name,this.scales={},this.forcedItems={}}getScale(schemeId){var _ref,_ref2;const id=null!=(_ref=null!=schemeId?schemeId:CategoricalSchemeRegistrySingleton().getDefaultKey())?_ref:"",scale=this.scales[id];if(scale)return scale;const scheme=CategoricalSchemeRegistrySingleton().get(id),newScale=new CategoricalColorScale_CategoricalColorScale(null!=(_ref2=null==scheme?void 0:scheme.colors)?_ref2:[],this.forcedItems);return this.scales[id]=newScale,newScale}setColor(value,forcedColor){return this.forcedItems[stringifyAndTrim(value)]=forcedColor,this}}const namespaces={},DEFAULT_NAMESPACE="GLOBAL";function getNamespace(name){void 0===name&&(name=DEFAULT_NAMESPACE);const instance=namespaces[name];if(instance)return instance;const newInstance=new CategoricalColorNamespace_CategoricalColorNamespace(name);return namespaces[name]=newInstance,newInstance}function getColor(value,schemeId,namespace){return getNamespace(namespace).getScale(schemeId).getColor(value)}function getScale(scheme,namespace){return getNamespace(namespace).getScale(scheme)}var linear=__webpack_require__(29);function range(count){const values=[];for(let i=0;i<count;i+=1)values.push(i);return values}class SequentialScheme_SequentialScheme extends ColorScheme{constructor(config){super(config),function SequentialScheme_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(this,"isDiverging",void 0);const{isDiverging:isDiverging=!1}=config;this.isDiverging=isDiverging}createLinearScale(extent){void 0===extent&&(extent=[0,1]);const valueScale=Object(linear.a)().range(extent),denominator=this.colors.length-1,domain=range(this.colors.length).map(i=>valueScale(i/denominator));return Object(linear.a)().domain(domain).range(this.colors).clamp(!0)}getColors(numColors){if(void 0===numColors&&(numColors=this.colors.length),numColors===this.colors.length)return this.colors;const colorScale=this.createLinearScale(),denominator=numColors-1;return range(numColors).map(i=>colorScale(i/denominator))}}var sequential_d3=[{id:"schemeRdBu",label:"red/blue",isDiverging:!0,colors:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},{id:"schemeBrBG",label:"brown/green",isDiverging:!0,colors:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},{id:"schemePRGn",label:"purple/green",isDiverging:!0,colors:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},{id:"schemePiYG",label:"pink/green",isDiverging:!0,colors:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},{id:"schemePuOr",label:"purple/orange",isDiverging:!0,colors:["#2d004b","#542788","#8073ac","#b2abd2","#d8daeb","#fee0b6","#fdb863","#e08214","#b35806","#7f3b08"]},{id:"schemeRdGy",label:"red/gray/black",isDiverging:!0,colors:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},{id:"schemeRdYlBu",label:"red/yellow/blue",colors:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],isDiverging:!0},{id:"schemeRdYlGn",label:"red/yellow/green",colors:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],isDiverging:!0},{id:"schemeSpectral",label:"rainbow",colors:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},{id:"schemeBlues",label:"blues",colors:["#b5d4e9","#93c3df","#6daed5","#4b97c9","#2f7ebc","#1864aa","#0a4a90","#08306b"]},{id:"schemeGreens",label:"greens",colors:["#b7e2b1","#97d494","#73c378","#4daf62","#2f984f","#157f3b","#036429","#00441b"]},{id:"schemeGrays",label:"grays",colors:["#cecece","#b4b4b4","#979797","#7a7a7a","#5f5f5f","#404040","#1e1e1e","#000000"]},{id:"schemeOranges",label:"oranges",colors:["#fdc28c","#fda762","#fb8d3d","#f2701d","#e25609","#c44103","#9f3303","#7f2704"]},{id:"schemePurples",label:"purples",colors:["#cecee5","#b6b5d8","#9e9bc9","#8782bc","#7363ac","#61409b","#501f8c","#3f007d"]},{id:"schemeReds",label:"reds",colors:["#fcaa8e","#fc8a6b","#f9694c","#ef4533","#d92723","#bb151a","#970b13","#67000d"]},{id:"schemeViridis",label:"Viridis",colors:["#482475","#414487","#355f8d","#2a788e","#21918c","#22a884","#44bf70","#7ad151","#bddf26","#fde725"]},{id:"schemeInferno",label:"Inferno",colors:["#160b39","#420a68","#6a176e","#932667","#bc3754","#dd513a","#f37819","#fca50a","#f6d746","#fcffa4"]},{id:"schemeMagma",label:"Magma",colors:["#140e36","#3b0f70","#641a80","#8c2981","#b73779","#de4968","#f7705c","#fe9f6d","#fecf92","#fcfdbf"]},{id:"schemeWarm",label:"Warm",colors:["#963db3","#bf3caf","#e4419d","#fe4b83","#ff5e63","#ff7847","#fb9633","#e2b72f","#c6d63c","#aff05b"]},{id:"schemeCool",label:"Cool",colors:["#6054c8","#4c6edb","#368ce1","#23abd8","#1ac7c2","#1ddfa3","#30ef82","#52f667","#7ff658","#aff05b"]},{id:"schemeCubehelixDefault",label:"Cube Helix",colors:["#1a1530","#163d4e","#1f6642","#54792f","#a07949","#d07e93","#cf9cda","#c1caf3","#d2eeef","#ffffff"]},{id:"schemeBuGn",label:"blue/green",colors:["#b7e4da","#8fd3c1","#68c2a3","#49b17f","#2f9959","#157f3c","#036429","#00441b"]},{id:"schemeBuPu",label:"blue/purple",colors:["#b2cae1","#9cb3d5","#8f95c6","#8c74b5","#8952a5","#852d8f","#730f71","#4d004b"]},{id:"schemeGnBu",label:"green/blue",colors:["#bde5bf","#9ed9bb","#7bcbc4","#58b7cd","#399cc6","#1d7eb7","#0b60a1","#084081"]},{id:"schemeOrRd",label:"orange/red",colors:["#fdca94","#fdb07a","#fa8e5d","#f16c49","#e04530","#c81d13","#a70403","#7f0000"]},{id:"schemePuBuGn",label:"purple/blue/green",colors:["#bec9e2","#98b9d9","#69a8cf","#4096c0","#19879f","#037877","#016353","#014636"]},{id:"schemePuBu",label:"purple/blue",colors:["#bfc9e2","#9bb9d9","#72a8cf","#4394c3","#1a7db6","#0667a1","#045281","#023858"]},{id:"schemePuRd",label:"purple/red",colors:["#d0aad2","#d08ac2","#dd63ae","#e33890","#d71c6c","#b70b4f","#8f023a","#67001f"]},{id:"schemeRdPu",label:"red/purple",colors:["#fbb5bc","#f993b0","#f369a3","#e03e98","#c01788","#99037c","#700174","#49006a"]},{id:"schemeYlGnBu",label:"yellow/green/blue",colors:["#d5eeb3","#a9ddb7","#73c9bd","#45b4c2","#2897bf","#2073b2","#234ea0","#1c3185","#081d58"]},{id:"schemeYlGn",label:"yellow/green",colors:["#e4f4ac","#c7e89b","#a2d88a","#78c578","#4eaf63","#2f944e","#15793f","#036034","#004529"]},{id:"schemeYlOrBr",label:"yellow/orange/brown",colors:["#feeaa1","#fed676","#feba4a","#fb992c","#ee7918","#d85b0a","#b74304","#8f3204","#662506"]},{id:"schemeYlOrRd",label:"yellow/orange/red",colors:["#fee087","#fec965","#feab4b","#fd893c","#fa5c2e","#ec3023","#d31121","#af0225","#800026"]}].map(s=>new SequentialScheme_SequentialScheme(s));var SequentialSchemeRegistrySingleton=Object(makeSingleton.a)(class SequentialSchemeRegistrySingleton_SequentialSchemeRegistry extends ColorSchemeRegistry_ColorSchemeRegistry{constructor(){super(),this.registerValue("SUPERSET_DEFAULT",sequential_d3[0])}});__webpack_require__.d(__webpack_exports__,"BRAND_COLOR",(function(){return BRAND_COLOR})),__webpack_require__.d(__webpack_exports__,"CategoricalColorNamespace",(function(){return CategoricalColorNamespace_namespaceObject})),__webpack_require__.d(__webpack_exports__,"CategoricalColorScale",(function(){return CategoricalColorScale_CategoricalColorScale})),__webpack_require__.d(__webpack_exports__,"CategoricalScheme",(function(){return CategoricalScheme_CategoricalScheme})),__webpack_require__.d(__webpack_exports__,"getCategoricalSchemeRegistry",(function(){return CategoricalSchemeRegistrySingleton})),__webpack_require__.d(__webpack_exports__,"getSequentialSchemeRegistry",(function(){return SequentialSchemeRegistrySingleton})),__webpack_require__.d(__webpack_exports__,"SequentialScheme",(function(){return SequentialScheme_SequentialScheme}));const BRAND_COLOR="#00A699"},323:function(module,__webpack_exports__,__webpack_require__){"use strict";var defaultLocale=__webpack_require__(504),src_second=__webpack_require__(981),src_minute=__webpack_require__(987),src_hour=__webpack_require__(988),src_day=__webpack_require__(326),src_week=__webpack_require__(94),src_month=__webpack_require__(989),src_year=__webpack_require__(163),utcMinute=__webpack_require__(990),utcHour=__webpack_require__(991),utcDay=__webpack_require__(325),utcWeek=__webpack_require__(93),utcMonth=__webpack_require__(992),utcYear=__webpack_require__(164);function createUtils(useLocalTime){let floorSecond,floorMinute,floorHour,floorDay,floorWeek,floorWeekStartOnSunday,floorWeekStartOnMonday,floorWeekStartOnTuesday,floorWeekStartOnWednesday,floorWeekStartOnThursday,floorWeekStartOnFriday,floorWeekStartOnSaturday,floorMonth,floorYear;return void 0===useLocalTime&&(useLocalTime=!1),useLocalTime?(floorSecond=src_second.a,floorMinute=src_minute.a,floorHour=src_hour.a,floorDay=src_day.b,floorWeek=src_week.g,floorWeekStartOnSunday=src_week.g,floorWeekStartOnMonday=src_week.c,floorWeekStartOnTuesday=src_week.k,floorWeekStartOnWednesday=src_week.m,floorWeekStartOnThursday=src_week.i,floorWeekStartOnFriday=src_week.a,floorWeekStartOnSaturday=src_week.e,floorMonth=src_month.a,floorYear=src_year.a):(floorSecond=src_second.a,floorMinute=utcMinute.a,floorHour=utcHour.a,floorDay=utcDay.a,floorWeek=utcWeek.g,floorWeekStartOnSunday=utcWeek.g,floorWeekStartOnMonday=utcWeek.c,floorWeekStartOnTuesday=utcWeek.k,floorWeekStartOnWednesday=utcWeek.m,floorWeekStartOnThursday=utcWeek.i,floorWeekStartOnFriday=utcWeek.a,floorWeekStartOnSaturday=utcWeek.e,floorMonth=utcMonth.a,floorYear=utcYear.a),{floorSecond:floorSecond,floorMinute:floorMinute,floorHour:floorHour,floorDay:floorDay,floorWeek:floorWeek,floorWeekStartOnSunday:floorWeekStartOnSunday,floorWeekStartOnMonday:floorWeekStartOnMonday,floorWeekStartOnTuesday:floorWeekStartOnTuesday,floorWeekStartOnWednesday:floorWeekStartOnWednesday,floorWeekStartOnThursday:floorWeekStartOnThursday,floorWeekStartOnFriday:floorWeekStartOnFriday,floorWeekStartOnSaturday:floorWeekStartOnSaturday,floorMonth:floorMonth,floorYear:floorYear,hasMillisecond:date=>floorSecond(date)<date,hasSecond:date=>floorMinute(date)<date,hasMinute:date=>floorHour(date)<date,hasHour:date=>floorDay(date)<date,isNotFirstDayOfMonth:date=>floorMonth(date)<date,isNotFirstDayOfWeek:date=>floorWeek(date)<date,isNotFirstDayOfWeekStartOnSunday:date=>floorWeekStartOnSunday(date)<date,isNotFirstDayOfWeekStartOnMonday:date=>floorWeekStartOnMonday(date)<date,isNotFirstDayOfWeekStartOnTuesday:date=>floorWeekStartOnTuesday(date)<date,isNotFirstDayOfWeekStartOnWednesday:date=>floorWeekStartOnWednesday(date)<date,isNotFirstDayOfWeekStartOnThursday:date=>floorWeekStartOnThursday(date)<date,isNotFirstDayOfWeekStartOnFriday:date=>floorWeekStartOnFriday(date)<date,isNotFirstDayOfWeekStartOnSaturday:date=>floorWeekStartOnSaturday(date)<date,isNotFirstMonth:date=>floorYear(date)<date}}const utcUtils=createUtils(),localTimeUtils=createUtils(!0);var TimeFormatter=__webpack_require__(174);function createMultiFormatter(_ref){let{id:id,label:label,description:description,formats:formats={},useLocalTime:useLocalTime=!1}=_ref;const{millisecond:millisecond=".%L",second:second=":%S",minute:minute="%I:%M",hour:hour="%I %p",day:day="%a %d",week:week="%b %d",month:month="%B",year:year="%Y"}=formats,format=useLocalTime?defaultLocale.a:defaultLocale.b,formatMillisecond=format(millisecond),formatSecond=format(second),formatMinute=format(minute),formatHour=format(hour),formatDay=format(day),formatFirstDayOfWeek=format(week),formatMonth=format(month),formatYear=format(year),{hasMillisecond:hasMillisecond,hasSecond:hasSecond,hasMinute:hasMinute,hasHour:hasHour,isNotFirstDayOfMonth:isNotFirstDayOfMonth,isNotFirstDayOfWeek:isNotFirstDayOfWeek,isNotFirstMonth:isNotFirstMonth}=useLocalTime?localTimeUtils:utcUtils;return new TimeFormatter.b({description:description,formatFunc:date=>function multiFormatFunc(date){return hasMillisecond(date)?formatMillisecond:hasSecond(date)?formatSecond:hasMinute(date)?formatMinute:hasHour(date)?formatHour:isNotFirstDayOfMonth(date)?isNotFirstDayOfWeek(date)?formatDay:formatFirstDayOfWeek:isNotFirstMonth(date)?formatMonth:formatYear}(date)(date),id:id,label:label,useLocalTime:useLocalTime})}__webpack_require__.d(__webpack_exports__,"a",(function(){return createMultiFormatter}))},324:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createD3NumberFormatter}));var d3_format__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(319),d3_format__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(318),_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(129),_NumberFormatter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(171);function createD3NumberFormatter(config){const{description:description,formatString:formatString=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.a)("config.formatString"),label:label,locale:locale}=config;let formatFunc,isInvalid=!1;try{formatFunc=void 0===locale?Object(d3_format__WEBPACK_IMPORTED_MODULE_0__.a)(formatString):Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(locale).format(formatString)}catch(error){formatFunc=value=>value+" (Invalid format: "+formatString+")",isInvalid=!0}return new _NumberFormatter__WEBPACK_IMPORTED_MODULE_3__.b({description:description,formatFunc:formatFunc,id:formatString,isInvalid:isInvalid,label:label})}},334:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createD3TimeFormatter}));var d3_time_format__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(504),d3_time_format__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(316),_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(129),_TimeFormatter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(174),_TimeFormats__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(119);function createD3TimeFormatter(config){const{description:description,formatString:formatString=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_2__.a)("formatString"),label:label,locale:locale,useLocalTime:useLocalTime=!1}=config,id=useLocalTime?""+_TimeFormats__WEBPACK_IMPORTED_MODULE_4__.a+formatString:formatString;let formatFunc;if(void 0===locale){formatFunc=(useLocalTime?d3_time_format__WEBPACK_IMPORTED_MODULE_0__.a:d3_time_format__WEBPACK_IMPORTED_MODULE_0__.b)(formatString)}else{const localeObject=Object(d3_time_format__WEBPACK_IMPORTED_MODULE_1__.a)(locale);formatFunc=useLocalTime?localeObject.format(formatString):localeObject.utcFormat(formatString)}return new _TimeFormatter__WEBPACK_IMPORTED_MODULE_3__.b({description:description,formatFunc:formatFunc,id:id,label:label,useLocalTime:useLocalTime})}},39:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return bigNumberFormData})),__webpack_require__.d(__webpack_exports__,"d",(function(){return wordCloudFormData})),__webpack_require__.d(__webpack_exports__,"c",(function(){return sunburstFormData})),__webpack_require__.d(__webpack_exports__,"b",(function(){return sankeyFormData}));const bigNumberFormData={datasource:"3__table",viz_type:"big_number",slice_id:54,granularity_sqla:"ds",time_grain_sqla:"P1D",time_range:"100 years ago : now",metric:"sum__num",adhoc_filters:[],compare_lag:"5",compare_suffix:"over 5Y",y_axis_format:".3s",show_trend_line:!0,start_y_axis_at_zero:!0},wordCloudFormData={datasource:"3__table",viz_type:"word_cloud",slice_id:60,url_params:{},granularity_sqla:"ds",time_grain_sqla:"P1D",time_range:"100 years ago : now",series:"name",metric:"sum__num",adhoc_filters:[],row_limit:50,size_from:10,size_to:70,rotation:"square"},sunburstFormData={datasource:"2__table",viz_type:"sunburst",slice_id:47,url_params:{},granularity_sqla:"year",time_grain_sqla:"P1D",time_range:"2011-01-01 : 2011-01-01",groupby:["region","country_name"],metric:"sum__SP_POP_TOTL",secondary_metric:"sum__SP_RUR_TOTL",adhoc_filters:[],row_limit:1e4},sankeyFormData={datasource:"1__table",viz_type:"sankey",slice_id:1,url_params:{},granularity_sqla:null,time_grain_sqla:"P1D",time_range:"Last week",groupby:["source","target"],metric:"sum__value",adhoc_filters:[],row_limit:1e3}},440:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _context,_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(121),_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_corejs3_core_js_stable_instance_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(475),_babel_runtime_corejs3_core_js_stable_instance_keys__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_keys__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(38),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(126),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),storybook_addon_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(476),storybook_addon_jsx__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(storybook_addon_jsx__WEBPACK_IMPORTED_MODULE_5__);__webpack_require__(864);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.setAddon)(storybook_addon_jsx__WEBPACK_IMPORTED_MODULE_5___default.a);const EMPTY_EXAMPLES=[{renderStory:()=>"Does your default export have an `examples` key?",storyName:"No examples found"}],requireContext=__webpack_require__(866);_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(_context=_babel_runtime_corejs3_core_js_stable_instance_keys__WEBPACK_IMPORTED_MODULE_1___default()(requireContext).call(requireContext)).call(_context,packageName=>{const packageExport=requireContext(packageName);if(packageExport&&packageExport.default&&!_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_0___default()(packageExport.default)){const{examples:examples=EMPTY_EXAMPLES}=packageExport.default;_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(examples).call(examples,example=>{const{storyPath:storyPath="Missing story path",storyName:storyName="Missing name",renderStory:renderStory=(()=>"Missing `renderStory`"),options:options={}}=example;Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)(storyPath,module).addParameters({options:options}).addDecorator(Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.withKnobs)({escapeHTML:!1})).addWithJSX(storyName,renderStory)})}})}.call(this,__webpack_require__(322)(module))},473:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.__esModule=!0,exports.default=void 0;exports.default=class ColorScheme{constructor(config){_defineProperty(this,"colors",void 0),_defineProperty(this,"description",void 0),_defineProperty(this,"id",void 0),_defineProperty(this,"label",void 0);const{colors:colors,description:description="",id:id,label:label}=config;this.id=id,this.label=null!=label?label:id,this.colors=colors,this.description=description}}},474:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _d3Scale=__webpack_require__(335),_ColorScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(473));function range(count){const values=[];for(let i=0;i<count;i+=1)values.push(i);return values}class SequentialScheme extends _ColorScheme.default{constructor(config){super(config),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(this,"isDiverging",void 0);const{isDiverging:isDiverging=!1}=config;this.isDiverging=isDiverging}createLinearScale(extent){void 0===extent&&(extent=[0,1]);const valueScale=(0,_d3Scale.scaleLinear)().range(extent),denominator=this.colors.length-1,domain=range(this.colors.length).map(i=>valueScale(i/denominator));return(0,_d3Scale.scaleLinear)().domain(domain).range(this.colors).clamp(!0)}getColors(numColors){if(void 0===numColors&&(numColors=this.colors.length),numColors===this.colors.length)return this.colors;const colorScale=this.createLinearScale(),denominator=numColors-1;return range(numColors).map(i=>colorScale(i/denominator))}}exports.default=SequentialScheme},492:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _CategoricalScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(218));var _default=[{id:"bnbColors",label:"Airbnb Colors",colors:["#ff5a5f","#7b0051","#007A87","#00d1c1","#8ce071","#ffb400","#b4a76c","#ff8083","#cc0086","#00a1b3","#00ffeb","#bbedab","#ffd266","#cbc29a","#ff3339","#ff1ab1","#005c66","#00b3a5","#55d12e","#b37e00","#988b4e"]}].map(s=>new _CategoricalScheme.default(s));exports.default=_default},493:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _CategoricalScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(218));var _default=[{id:"d3Category10",label:"D3 Category 10",colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]},{id:"d3Category20",label:"D3 Category 20",colors:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]},{id:"d3Category20b",label:"D3 Category 20b",colors:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"]},{id:"d3Category20c",label:"D3 Category 20c",colors:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}].map(s=>new _CategoricalScheme.default(s));exports.default=_default},494:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _CategoricalScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(218));var _default=[{id:"googleCategory10c",label:"Google Category 10c",colors:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395"]},{id:"googleCategory20c",label:"Google Category 20c",colors:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}].map(s=>new _CategoricalScheme.default(s));exports.default=_default},495:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _CategoricalScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(218));var _default=[{id:"lyftColors",label:"Lyft Colors",colors:["#EA0B8C","#6C838E","#29ABE2","#33D9C1","#9DACB9","#7560AA","#2D5584","#831C4A","#333D47","#AC2077"]}].map(s=>new _CategoricalScheme.default(s));exports.default=_default},496:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _SequentialScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(474));var _default=[{id:"blue_white_yellow",label:"blue/white/yellow",colors:["#00d1c1","white","#ffb400"]},{id:"fire",colors:["white","yellow","red","black"]},{id:"white_black",label:"white/black",colors:["white","black"]},{id:"black_white",label:"black/white",colors:["black","white"]},{id:"dark_blue",label:"dark blues",colors:["#EBF5F8","#6BB1CC","#357E9B","#1B4150","#092935"]},{id:"pink_grey",label:"pink/grey",isDiverging:!0,colors:["#E70B81","#FAFAFA","#666666"]},{id:"greens",colors:["#ffffcc","#78c679","#006837"]},{id:"purples",colors:["#f2f0f7","#9e9ac8","#54278f"]},{id:"oranges",colors:["#fef0d9","#fc8d59","#b30000"]},{id:"red_yellow_blue",label:"red/yellow/blue",isDiverging:!0,colors:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"]},{id:"brown_white_green",label:"brown/white/green",isDiverging:!0,colors:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"]},{id:"purple_white_green",label:"purple/white/green",isDiverging:!0,colors:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"]}].map(s=>new _SequentialScheme.default(s));exports.default=_default},497:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _SequentialScheme=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(474));var _default=[{id:"schemeRdBu",label:"red/blue",isDiverging:!0,colors:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},{id:"schemeBrBG",label:"brown/green",isDiverging:!0,colors:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},{id:"schemePRGn",label:"purple/green",isDiverging:!0,colors:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},{id:"schemePiYG",label:"pink/green",isDiverging:!0,colors:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},{id:"schemePuOr",label:"purple/orange",isDiverging:!0,colors:["#2d004b","#542788","#8073ac","#b2abd2","#d8daeb","#fee0b6","#fdb863","#e08214","#b35806","#7f3b08"]},{id:"schemeRdGy",label:"red/gray/black",isDiverging:!0,colors:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},{id:"schemeRdYlBu",label:"red/yellow/blue",colors:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],isDiverging:!0},{id:"schemeRdYlGn",label:"red/yellow/green",colors:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],isDiverging:!0},{id:"schemeSpectral",label:"rainbow",colors:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},{id:"schemeBlues",label:"blues",colors:["#b5d4e9","#93c3df","#6daed5","#4b97c9","#2f7ebc","#1864aa","#0a4a90","#08306b"]},{id:"schemeGreens",label:"greens",colors:["#b7e2b1","#97d494","#73c378","#4daf62","#2f984f","#157f3b","#036429","#00441b"]},{id:"schemeGrays",label:"grays",colors:["#cecece","#b4b4b4","#979797","#7a7a7a","#5f5f5f","#404040","#1e1e1e","#000000"]},{id:"schemeOranges",label:"oranges",colors:["#fdc28c","#fda762","#fb8d3d","#f2701d","#e25609","#c44103","#9f3303","#7f2704"]},{id:"schemePurples",label:"purples",colors:["#cecee5","#b6b5d8","#9e9bc9","#8782bc","#7363ac","#61409b","#501f8c","#3f007d"]},{id:"schemeReds",label:"reds",colors:["#fcaa8e","#fc8a6b","#f9694c","#ef4533","#d92723","#bb151a","#970b13","#67000d"]},{id:"schemeViridis",label:"Viridis",colors:["#482475","#414487","#355f8d","#2a788e","#21918c","#22a884","#44bf70","#7ad151","#bddf26","#fde725"]},{id:"schemeInferno",label:"Inferno",colors:["#160b39","#420a68","#6a176e","#932667","#bc3754","#dd513a","#f37819","#fca50a","#f6d746","#fcffa4"]},{id:"schemeMagma",label:"Magma",colors:["#140e36","#3b0f70","#641a80","#8c2981","#b73779","#de4968","#f7705c","#fe9f6d","#fecf92","#fcfdbf"]},{id:"schemeWarm",label:"Warm",colors:["#963db3","#bf3caf","#e4419d","#fe4b83","#ff5e63","#ff7847","#fb9633","#e2b72f","#c6d63c","#aff05b"]},{id:"schemeCool",label:"Cool",colors:["#6054c8","#4c6edb","#368ce1","#23abd8","#1ac7c2","#1ddfa3","#30ef82","#52f667","#7ff658","#aff05b"]},{id:"schemeCubehelixDefault",label:"Cube Helix",colors:["#1a1530","#163d4e","#1f6642","#54792f","#a07949","#d07e93","#cf9cda","#c1caf3","#d2eeef","#ffffff"]},{id:"schemeBuGn",label:"blue/green",colors:["#b7e4da","#8fd3c1","#68c2a3","#49b17f","#2f9959","#157f3c","#036429","#00441b"]},{id:"schemeBuPu",label:"blue/purple",colors:["#b2cae1","#9cb3d5","#8f95c6","#8c74b5","#8952a5","#852d8f","#730f71","#4d004b"]},{id:"schemeGnBu",label:"green/blue",colors:["#bde5bf","#9ed9bb","#7bcbc4","#58b7cd","#399cc6","#1d7eb7","#0b60a1","#084081"]},{id:"schemeOrRd",label:"orange/red",colors:["#fdca94","#fdb07a","#fa8e5d","#f16c49","#e04530","#c81d13","#a70403","#7f0000"]},{id:"schemePuBuGn",label:"purple/blue/green",colors:["#bec9e2","#98b9d9","#69a8cf","#4096c0","#19879f","#037877","#016353","#014636"]},{id:"schemePuBu",label:"purple/blue",colors:["#bfc9e2","#9bb9d9","#72a8cf","#4394c3","#1a7db6","#0667a1","#045281","#023858"]},{id:"schemePuRd",label:"purple/red",colors:["#d0aad2","#d08ac2","#dd63ae","#e33890","#d71c6c","#b70b4f","#8f023a","#67001f"]},{id:"schemeRdPu",label:"red/purple",colors:["#fbb5bc","#f993b0","#f369a3","#e03e98","#c01788","#99037c","#700174","#49006a"]},{id:"schemeYlGnBu",label:"yellow/green/blue",colors:["#d5eeb3","#a9ddb7","#73c9bd","#45b4c2","#2897bf","#2073b2","#234ea0","#1c3185","#081d58"]},{id:"schemeYlGn",label:"yellow/green",colors:["#e4f4ac","#c7e89b","#a2d88a","#78c578","#4eaf63","#2f944e","#15793f","#036034","#004529"]},{id:"schemeYlOrBr",label:"yellow/orange/brown",colors:["#feeaa1","#fed676","#feba4a","#fb992c","#ee7918","#d85b0a","#b74304","#8f3204","#662506"]},{id:"schemeYlOrRd",label:"yellow/orange/red",colors:["#fee087","#fec965","#feab4b","#fd893c","#fa5c2e","#ec3023","#d31121","#af0225","#800026"]}].map(s=>new _SequentialScheme.default(s));exports.default=_default},503:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ExtensibleFunction}));class ExtensibleFunction extends Function{constructor(fn){return super(),Object.setPrototypeOf(fn,new.target.prototype)}}},510:function(module,exports,__webpack_require__){__webpack_require__(511),__webpack_require__(657),module.exports=__webpack_require__(658)},575:function(module,exports){},61:function(module,__webpack_exports__,__webpack_require__){"use strict";let OverwritePolicy;__webpack_require__.d(__webpack_exports__,"a",(function(){return OverwritePolicy})),function(OverwritePolicy){OverwritePolicy.ALLOW="ALLOW",OverwritePolicy.PROHIBIT="PROHIBIT",OverwritePolicy.WARN="WARN"}(OverwritePolicy||(OverwritePolicy={}))},658:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(126);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{name:"✨ Superset UI",addonPanelInRight:!1,enableShortcuts:!1,goFullScreen:!1,hierarchyRootSeparator:null,hierarchySeparator:/\|/,selectedAddonPanel:void 0,showAddonPanel:!0,showSearchBox:!1,showStoriesPanel:!0,sidebarAnimations:!0,sortStoriesByKind:!1,url:"#"}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStorybook(){__webpack_require__(828),__webpack_require__(440)}),module)}.call(this,__webpack_require__(322)(module))},828:function(module,exports,__webpack_require__){var api=__webpack_require__(172),content=__webpack_require__(829);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},829:function(module,exports,__webpack_require__){(exports=__webpack_require__(173)(!1)).push([module.i,"html,\nbody,\n#root {\n  height: 100%;\n  font-family: BlinkMacSystemFont, Roboto, Helvetica Neue, sans-serif;\n  font-weight: 200;\n  color: #484848;\n}\n",""]),module.exports=exports},866:function(module,exports,__webpack_require__){var map={"./index.js":440,"./superset-ui-chart/index.ts":972,"./superset-ui-color/index.js":973,"./superset-ui-connection/index.js":974,"./superset-ui-number-format/index.js":975,"./superset-ui-time-format/index.js":976};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=866},970:function(module,exports,__webpack_require__){var api=__webpack_require__(172),content=__webpack_require__(971);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},971:function(module,exports,__webpack_require__){(exports=__webpack_require__(173)(!1)).push([module.i,".palette-label {\n  margin: 4px 12px 4px 0;\n}\n\n.palette-container {\n  display: flex;\n  flex-direction: row;\n  border: 1px solid #eaeaea;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n\n.palette-item {\n  width: 16px;\n  height: 16px;\n}\n",""]),module.exports=exports},972:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(26);var define_property=__webpack_require__(122),define_property_default=__webpack_require__.n(define_property),define_properties=__webpack_require__(123),define_properties_default=__webpack_require__.n(define_properties),get_own_property_descriptors=__webpack_require__(74),get_own_property_descriptors_default=__webpack_require__.n(get_own_property_descriptors),for_each=__webpack_require__(38),for_each_default=__webpack_require__.n(for_each),get_own_property_descriptor=__webpack_require__(75),get_own_property_descriptor_default=__webpack_require__.n(get_own_property_descriptor),filter=__webpack_require__(124),filter_default=__webpack_require__.n(filter),get_own_property_symbols=__webpack_require__(76),get_own_property_symbols_default=__webpack_require__.n(get_own_property_symbols),object_keys=__webpack_require__(91),keys_default=__webpack_require__.n(object_keys),is_array=__webpack_require__(121),is_array_default=__webpack_require__.n(is_array),stringify=__webpack_require__(58),stringify_default=__webpack_require__.n(stringify),defineProperty=__webpack_require__(4),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(1),react_default=__webpack_require__.n(react),dist=__webpack_require__(7),prop_types=__webpack_require__(0),prop_types_default=__webpack_require__.n(prop_types);var SupersetClient=__webpack_require__(1007),ChartBuildQueryRegistrySingleton=__webpack_require__(168),ChartMetadataRegistrySingleton=__webpack_require__(165);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}class ChartClient_ChartClient{constructor(config){void 0===config&&(config={}),function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(this,"client",void 0);const{client:client=SupersetClient.a}=config;this.client=client}loadFormData(input,options){if("sliceId"in input){return this.client.get(_extends({endpoint:"/api/v1/formData/?slice_id="+input.sliceId},options)).then(response=>response.json).then(json=>json.form_data).then(dbFormData=>_extends({},dbFormData,{},input.formData))}return input.formData?Promise.resolve(input.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(formData,options){const{viz_type:visType}=formData,metaDataRegistry=Object(ChartMetadataRegistrySingleton.a)(),buildQueryRegistry=Object(ChartBuildQueryRegistrySingleton.a)();if(metaDataRegistry.has(visType)){var _ref;const{useLegacyApi:useLegacyApi}=metaDataRegistry.get(visType),buildQuery=null!=(_ref=await buildQueryRegistry.get(visType))?_ref:()=>formData;return this.client.post(_extends({endpoint:useLegacyApi?"/superset/explore_json/":"/api/v1/query/",postPayload:{[useLegacyApi?"form_data":"query_context"]:buildQuery(formData)}},options)).then(response=>response.json)}return Promise.reject(new Error("Unknown chart type: "+visType))}loadDatasource(datasourceKey,options){return this.client.get(_extends({endpoint:"/superset/fetch_datasource_metadata?datasourceKey="+datasourceKey},options)).then(response=>response.json)}loadAnnotation(annotationLayer){return function isDefined(x){return null!=x}(annotationLayer.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(annotationLayers){return Array.isArray(annotationLayers)&&annotationLayers.length>0?Promise.all(annotationLayers.map(layer=>this.loadAnnotation(layer))).then(results=>annotationLayers.reduce((prev,layer,i)=>{const output=prev;return output[layer.name]=results[i],output},{})):Promise.resolve({})}loadChartData(input){return this.loadFormData(input).then(formData=>Promise.all([this.loadAnnotations(formData.annotation_layers),this.loadDatasource(formData.datasource),this.loadQueryData(formData)]).then(_ref2=>{let[annotationData,datasource,queryData]=_ref2;return{annotationData:annotationData,datasource:datasource,formData:formData,queryData:queryData}}))}}function ChartDataProvider_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ChartDataProvider_ChartDataProvider extends react_default.a.PureComponent{constructor(props){super(props),ChartDataProvider_defineProperty(this,"chartClient",void 0),ChartDataProvider_defineProperty(this,"state",{status:"uninitialized"}),ChartDataProvider_defineProperty(this,"handleFetchData",()=>{const{loadDatasource:loadDatasource,formDataRequestOptions:formDataRequestOptions,datasourceRequestOptions:datasourceRequestOptions,queryRequestOptions:queryRequestOptions}=this.props;this.setState({status:"loading"},()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),formDataRequestOptions).then(formData=>Promise.all([loadDatasource?this.chartClient.loadDatasource(formData.datasource,datasourceRequestOptions):Promise.resolve(void 0),this.chartClient.loadQueryData(formData,queryRequestOptions)]).then(_ref=>{let[datasource,queryData]=_ref;return({datasource:datasource,formData:formData,queryData:queryData})})).then(this.handleReceiveData).catch(this.handleError)}catch(error){this.handleError(error)}})}),ChartDataProvider_defineProperty(this,"handleReceiveData",payload=>{const{onLoaded:onLoaded}=this.props;onLoaded&&onLoaded(payload),this.setState({payload:payload,status:"loaded"})}),ChartDataProvider_defineProperty(this,"handleError",error=>{const{onError:onError}=this.props;onError&&onError(error),this.setState({error:error,status:"error"})}),this.chartClient=new ChartClient_ChartClient({client:props.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(prevProps){const{formData:formData,sliceId:sliceId}=this.props;formData===prevProps.formData&&sliceId===prevProps.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:formData,sliceId:sliceId}=this.props;return formData?{formData:formData}:{sliceId:sliceId}}render(){const{children:children}=this.props,{status:status,payload:payload,error:error}=this.state;switch(status){case"loading":return children({loading:!0});case"loaded":return children({payload:payload});case"error":return children({error:error});case"uninitialized":default:return null}}}ChartDataProvider_defineProperty(ChartDataProvider_ChartDataProvider,"propTypes",{children:prop_types_default.a.func.isRequired,client:prop_types_default.a.any,loadDatasource:prop_types_default.a.bool,onError:prop_types_default.a.func,onLoaded:prop_types_default.a.func,formDataRequestOptions:prop_types_default.a.any,datasourceRequestOptions:prop_types_default.a.any,queryRequestOptions:prop_types_default.a.any});var components_ChartDataProvider=ChartDataProvider_ChartDataProvider,commonjs=__webpack_require__(224),commonjs_default=__webpack_require__.n(commonjs);const HUNDRED_PERCENT={isDynamic:!0,multiplier:1};function parseLength(input){if("auto"===input||"100%"===input)return HUNDRED_PERCENT;if("string"==typeof input&&input.length>0&&"%"===input[input.length-1])return{isDynamic:!0,multiplier:parseFloat(input)/100};return{isDynamic:!1,value:"number"==typeof input?input:parseFloat(input)}}var ParentSize=__webpack_require__(1004),es=__webpack_require__(32),ChartComponentRegistrySingleton=__webpack_require__(166),ChartTransformPropsRegistrySingleton=__webpack_require__(167),camelCase=__webpack_require__(486),camelCase_default=__webpack_require__.n(camelCase),isPlainObject=__webpack_require__(314),isPlainObject_default=__webpack_require__.n(isPlainObject),mapKeys=__webpack_require__(487),mapKeys_default=__webpack_require__.n(mapKeys);function convertKeysToCamelCase(object){if(null==object)return object;if(isPlainObject_default()(object))return mapKeys_default()(object,(_,k)=>camelCase_default()(k));throw new Error("Cannot convert input that is not a plain object: "+object)}function ChartProps_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const DEFAULT_WIDTH=800,DEFAULT_HEIGHT=600;class ChartProps_ChartProps{constructor(config){void 0===config&&(config={}),ChartProps_defineProperty(this,"annotationData",void 0),ChartProps_defineProperty(this,"datasource",void 0),ChartProps_defineProperty(this,"rawDatasource",void 0),ChartProps_defineProperty(this,"initialValues",void 0),ChartProps_defineProperty(this,"formData",void 0),ChartProps_defineProperty(this,"rawFormData",void 0),ChartProps_defineProperty(this,"height",void 0),ChartProps_defineProperty(this,"hooks",void 0),ChartProps_defineProperty(this,"queryData",void 0),ChartProps_defineProperty(this,"width",void 0);const{annotationData:annotationData={},datasource:datasource={},formData:formData={},hooks:hooks={},initialValues:initialValues={},queryData:queryData={},width:width=DEFAULT_WIDTH,height:height=DEFAULT_HEIGHT}=config;this.width=width,this.height=height,this.annotationData=annotationData,this.datasource=convertKeysToCamelCase(datasource),this.rawDatasource=datasource,this.formData=convertKeysToCamelCase(formData),this.rawFormData=formData,this.hooks=hooks,this.initialValues=initialValues,this.queryData=queryData}}ChartProps_defineProperty(ChartProps_ChartProps,"createSelector",void 0),ChartProps_ChartProps.createSelector=function create(){return Object(es.createSelector)(input=>input.annotationData,input=>input.datasource,input=>input.formData,input=>input.height,input=>input.hooks,input=>input.initialValues,input=>input.queryData,input=>input.width,(annotationData,datasource,formData,height,hooks,initialValues,queryData,width)=>new ChartProps_ChartProps({annotationData:annotationData,datasource:datasource,formData:formData,height:height,hooks:hooks,initialValues:initialValues,queryData:queryData,width:width}))};var lib=__webpack_require__(225),lib_default=__webpack_require__.n(lib);const defaultProps={onRenderFailure(){},onRenderSuccess(){}};function createLoadableRenderer(options){const LoadableRenderer=lib_default.a.Map(options);class CustomLoadableRenderer extends LoadableRenderer{componentDidMount(){this.afterRender()}componentDidUpdate(){this.afterRender()}afterRender(){const{loaded:loaded,loading:loading,error:error}=this.state,{onRenderFailure:onRenderFailure,onRenderSuccess:onRenderSuccess}=this.props;loading||(error?onRenderFailure(error):loaded&&Object.keys(loaded).length>0&&onRenderSuccess())}}return function createLoadableRenderer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(CustomLoadableRenderer,"defaultProps",void 0),CustomLoadableRenderer.defaultProps=defaultProps,CustomLoadableRenderer.preload=LoadableRenderer.preload,CustomLoadableRenderer}function SuperChartCore_extends(){return(SuperChartCore_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function SuperChartCore_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const IDENTITY=x=>x,EMPTY=()=>null,SuperChartCore_defaultProps={id:"",className:"",preTransformProps:IDENTITY,overrideTransformProps:void 0,postTransformProps:IDENTITY,onRenderSuccess(){},onRenderFailure(){}},BLANK_CHART_PROPS=new ChartProps_ChartProps;class SuperChartCore_SuperChartCore extends react.PureComponent{constructor(){super(...arguments),SuperChartCore_defineProperty(this,"container",void 0),SuperChartCore_defineProperty(this,"processChartProps",Object(es.createSelector)(input=>input.chartProps,input=>input.preTransformProps,input=>input.transformProps,input=>input.postTransformProps,(function(chartProps,pre,transform,post){return void 0===pre&&(pre=IDENTITY),void 0===transform&&(transform=IDENTITY),void 0===post&&(post=IDENTITY),post(transform(pre(chartProps)))}))),SuperChartCore_defineProperty(this,"createLoadableRenderer",Object(es.createSelector)(input=>input.chartType,input=>input.overrideTransformProps,(chartType,overrideTransformProps)=>{if(chartType){const Renderer=createLoadableRenderer({loader:{Chart:()=>Object(ChartComponentRegistrySingleton.a)().getAsPromise(chartType),transformProps:overrideTransformProps?()=>Promise.resolve(overrideTransformProps):()=>Object(ChartTransformPropsRegistrySingleton.a)().getAsPromise(chartType)},loading:loadingProps=>this.renderLoading(loadingProps,chartType),render:this.renderChart});return Renderer.preload(),Renderer}return EMPTY})),SuperChartCore_defineProperty(this,"renderChart",(loaded,props)=>{const{Chart:Chart,transformProps:transformProps}=loaded,{chartProps:chartProps,preTransformProps:preTransformProps,postTransformProps:postTransformProps}=props;return react.createElement(Chart,this.processChartProps({chartProps:chartProps,preTransformProps:preTransformProps,transformProps:transformProps,postTransformProps:postTransformProps}))}),SuperChartCore_defineProperty(this,"renderLoading",(loadingProps,chartType)=>{const{error:error}=loadingProps;return error?react.createElement("div",{className:"alert alert-warning",role:"alert"},react.createElement("strong",null,"ERROR")," ",react.createElement("code",null,'chartType="',chartType,'"')," —",error.toString()):null}),SuperChartCore_defineProperty(this,"setRef",container=>{this.container=container})}render(){const{id:id,className:className,preTransformProps:preTransformProps,postTransformProps:postTransformProps,chartProps:chartProps=BLANK_CHART_PROPS,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure}=this.props,Renderer=this.createLoadableRenderer(this.props);if(null===chartProps)return null;const containerProps={};return id&&(containerProps.id=id),className&&(containerProps.className=className),react.createElement("div",SuperChartCore_extends({},containerProps,{ref:this.setRef}),react.createElement(Renderer,{preTransformProps:preTransformProps,postTransformProps:postTransformProps,chartProps:chartProps,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure}))}}function FallbackComponent_extends(){return(FallbackComponent_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}SuperChartCore_defineProperty(SuperChartCore_SuperChartCore,"propTypes",{id:prop_types_default.a.string,className:prop_types_default.a.string,chartProps:prop_types_default.a.oneOfType([prop_types_default.a.any,prop_types_default.a.oneOf([null])]),chartType:prop_types_default.a.string.isRequired,preTransformProps:prop_types_default.a.any,overrideTransformProps:prop_types_default.a.any,postTransformProps:prop_types_default.a.any,onRenderSuccess:prop_types_default.a.any,onRenderFailure:prop_types_default.a.any}),SuperChartCore_defineProperty(SuperChartCore_SuperChartCore,"defaultProps",SuperChartCore_defaultProps);const CONTAINER_STYLE={backgroundColor:"#000",color:"#fff",overflow:"auto",padding:32};const MESSAGE_STYLES={maxWidth:800},TITLE_STYLES={fontSize:20,fontWeight:"bold",paddingBottom:8},BODY_STYLES={fontSize:16},NoResultsComponent=_ref=>{let{className:className,height:height,id:id,width:width}=_ref;const containerStyles=Object(react.useMemo)(()=>((height,width)=>({alignItems:"center",display:"flex",flexDirection:"column",height:height,justifyContent:"center",padding:16,textAlign:"center",width:width}))(height,width),[height,width]);return react_default.a.createElement("div",{className:className,id:id,style:containerStyles},react_default.a.createElement("div",{style:MESSAGE_STYLES},react_default.a.createElement("div",{style:TITLE_STYLES},"No Results"),react_default.a.createElement("div",{style:BODY_STYLES},"No results were returned for this query. If you expected results to be returned, ensure any filters are configured properly and the datasource contains data for the selected time range.")))};NoResultsComponent.propTypes={className:prop_types_default.a.string,height:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired,id:prop_types_default.a.string,width:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired};var components_NoResultsComponent=NoResultsComponent;function SuperChart_extends(){return(SuperChart_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function SuperChart_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const SuperChart_defaultProps={FallbackComponent:function FallbackComponent(_ref){let{componentStack:componentStack,error:error,height:height,width:width}=_ref;return react_default.a.createElement("div",{style:FallbackComponent_extends({},CONTAINER_STYLE,{height:height,width:width})},react_default.a.createElement("div",null,react_default.a.createElement("div",null,react_default.a.createElement("b",null,"Oops! An error occured!")),react_default.a.createElement("code",null,error?error.toString():"Unknown Error")),componentStack&&react_default.a.createElement("div",null,react_default.a.createElement("b",null,"Stack Trace:"),react_default.a.createElement("code",null,componentStack.split("\n").map(row=>react_default.a.createElement("div",{key:row},row)))))},height:400,width:"100%"};class SuperChart_SuperChart extends react_default.a.PureComponent{constructor(){super(...arguments),SuperChart_defineProperty(this,"core",void 0),SuperChart_defineProperty(this,"createChartProps",ChartProps_ChartProps.createSelector()),SuperChart_defineProperty(this,"parseDimension",Object(es.createSelector)(_ref=>{let{width:width}=_ref;return width},_ref2=>{let{height:height}=_ref2;return height},(width,height)=>{const widthInfo=parseLength(width),heightInfo=parseLength(height),style={height:heightInfo.isDynamic?100*heightInfo.multiplier+"%":heightInfo.value,width:widthInfo.isDynamic?100*widthInfo.multiplier+"%":widthInfo.value};return{BoundingBox:widthInfo.isDynamic&&heightInfo.isDynamic&&1===widthInfo.multiplier&&1===heightInfo.multiplier?react_default.a.Fragment:_ref3=>{let{children:children}=_ref3;return react_default.a.createElement("div",{style:style},children)},heightInfo:heightInfo,widthInfo:widthInfo}})),SuperChart_defineProperty(this,"setRef",core=>{this.core=core})}renderChart(width,height){const _ref4=this.props,{id:id,className:className,chartType:chartType,preTransformProps:preTransformProps,overrideTransformProps:overrideTransformProps,postTransformProps:postTransformProps,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure,disableErrorBoundary:disableErrorBoundary,FallbackComponent:_FallbackComponent,onErrorBoundary:onErrorBoundary,Wrapper:Wrapper,queryData:queryData}=_ref4,rest=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref4,["id","className","chartType","preTransformProps","overrideTransformProps","postTransformProps","onRenderSuccess","onRenderFailure","disableErrorBoundary","FallbackComponent","onErrorBoundary","Wrapper","queryData"]),chartProps=this.createChartProps(SuperChart_extends({},rest,{queryData:queryData,height:height,width:width}));let chart;if(null==queryData||null===queryData.data||Array.isArray(queryData.data)&&0===queryData.data.length)chart=react_default.a.createElement(components_NoResultsComponent,{id:id,className:className,height:height,width:width});else{const chartWithoutWrapper=react_default.a.createElement(SuperChartCore_SuperChartCore,{ref:this.setRef,id:id,className:className,chartType:chartType,chartProps:chartProps,preTransformProps:preTransformProps,overrideTransformProps:overrideTransformProps,postTransformProps:postTransformProps,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure});chart=Wrapper?react_default.a.createElement(Wrapper,{width:width,height:height},chartWithoutWrapper):chartWithoutWrapper}return!0===disableErrorBoundary?chart:react_default.a.createElement(commonjs_default.a,{FallbackComponent:props=>react_default.a.createElement(_FallbackComponent,SuperChart_extends({width:width,height:height},props)),onError:onErrorBoundary},chart)}render(){const{heightInfo:heightInfo,widthInfo:widthInfo,BoundingBox:BoundingBox}=this.parseDimension(this.props);if(widthInfo.isDynamic||heightInfo.isDynamic){const{debounceTime:debounceTime}=this.props;return react_default.a.createElement(BoundingBox,null,react_default.a.createElement(ParentSize.a,{debounceTime:debounceTime},_ref5=>{let{width:width,height:height}=_ref5;return width>0&&height>0&&this.renderChart(widthInfo.isDynamic?Math.floor(width):widthInfo.value,heightInfo.isDynamic?Math.floor(height):heightInfo.value)}))}return this.renderChart(widthInfo.value,heightInfo.value)}}SuperChart_defineProperty(SuperChart_SuperChart,"propTypes",{disableErrorBoundary:prop_types_default.a.bool,debounceTime:prop_types_default.a.number,FallbackComponent:prop_types_default.a.elementType,height:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),width:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),Wrapper:prop_types_default.a.elementType}),SuperChart_defineProperty(SuperChart_SuperChart,"defaultProps",SuperChart_defaultProps);var BigNumber=__webpack_require__(1008),esm=__webpack_require__(500),legacy_plugin_chart_sunburst_esm=__webpack_require__(501),legacy_plugin_chart_word_cloud_esm=__webpack_require__(502),plugin_chart_word_cloud_esm=__webpack_require__(499),fixtures_formData=__webpack_require__(39),Expandable=__webpack_require__(222),VerifyCORS=__webpack_require__(170);function ownKeys(object,enumerableOnly){var keys=keys_default()(object);if(get_own_property_symbols_default.a){var symbols=get_own_property_symbols_default()(object);enumerableOnly&&(symbols=filter_default()(symbols).call(symbols,(function(sym){return get_own_property_descriptor_default()(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}const BIG_NUMBER=fixtures_formData.a.viz_type,SANKEY=fixtures_formData.b.viz_type,SUNBURST=fixtures_formData.c.viz_type,WORD_CLOUD_LEGACY=fixtures_formData.d.viz_type;(new BigNumber.a).configure({key:BIG_NUMBER}).register(),(new esm.a).configure({key:SANKEY}).register(),(new legacy_plugin_chart_sunburst_esm.a).configure({key:SUNBURST}).register(),(new legacy_plugin_chart_word_cloud_esm.a).configure({key:WORD_CLOUD_LEGACY}).register(),(new plugin_chart_word_cloud_esm.a).configure({key:"new_word_cloud"}).register();const VIS_TYPES=[BIG_NUMBER,SANKEY,SUNBURST,"new_word_cloud",WORD_CLOUD_LEGACY],FORM_DATA_LOOKUP={[BIG_NUMBER]:fixtures_formData.a,[SANKEY]:fixtures_formData.b,[SUNBURST]:fixtures_formData.c,new_word_cloud:function _objectSpread(target){for(var i=1;i<arguments.length;i++){var _context,source=null!=arguments[i]?arguments[i]:{};if(i%2)for_each_default()(_context=ownKeys(Object(source),!0)).call(_context,(function(key){defineProperty_default()(target,key,source[key])}));else if(get_own_property_descriptors_default.a)define_properties_default()(target,get_own_property_descriptors_default()(source));else{var _context2;for_each_default()(_context2=ownKeys(Object(source))).call(_context2,(function(key){define_property_default()(target,key,get_own_property_descriptor_default()(source,key))}))}}return target}({},fixtures_formData.d,{viz_type:"new_word_cloud"}),[WORD_CLOUD_LEGACY]:fixtures_formData.d};var ChartDataProviderStories=[{renderStory:()=>{const host=Object(dist.text)("Set Superset App host for CORS request","localhost:9000"),visType=Object(dist.select)("Chart Plugin Type",VIS_TYPES,VIS_TYPES[0]),formData=Object(dist.text)("Override formData",stringify_default()(FORM_DATA_LOOKUP[visType])),width=Object(dist.text)("Vis width","500"),height=Object(dist.text)("Vis height","300");return react_default.a.createElement("div",{style:{margin:16}},react_default.a.createElement(VerifyCORS.a,{host:host},()=>react_default.a.createElement(components_ChartDataProvider,{client:SupersetClient.a,formData:JSON.parse(formData)},_ref=>{let{loading:loading,payload:payload,error:error}=_ref;return loading?react_default.a.createElement("div",null,"Loading!"):error?Object(VerifyCORS.b)(error):payload?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(SuperChart_SuperChart,{chartType:visType,formData:payload.formData,height:Number(height),queryData:is_array_default()(payload.queryData)?payload.queryData[0]:payload.queryData,width:Number(width)}),react_default.a.createElement("br",null),react_default.a.createElement(Expandable.a,{expandableWhat:"payload"},react_default.a.createElement("pre",{style:{fontSize:11}},stringify_default()(payload,null,2)))):null})))},storyName:"ChartDataProvider",storyPath:"@superset-ui/chart"}],helpers_extends=__webpack_require__(226),extends_default=__webpack_require__.n(helpers_extends),objectWithoutProperties=__webpack_require__(491),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),promise=(__webpack_require__(98),__webpack_require__(69),__webpack_require__(59)),promise_default=__webpack_require__.n(promise),Registry=__webpack_require__(128),types=__webpack_require__(61),makeSingleton=__webpack_require__(228);class ChartComponentRegistrySingleton_ChartComponentRegistry extends Registry.a{constructor(){super({name:"ChartComponent",overwritePolicy:types.a.WARN})}}var registries_ChartComponentRegistrySingleton=Object(makeSingleton.a)(ChartComponentRegistrySingleton_ChartComponentRegistry);class ChartTransformPropsRegistrySingleton_ChartTransformPropsRegistry extends Registry.a{constructor(){super({name:"ChartTransformProps",overwritePolicy:types.a.WARN})}}var registries_ChartTransformPropsRegistrySingleton=Object(makeSingleton.a)(ChartTransformPropsRegistrySingleton_ChartTransformPropsRegistry);const ChartProps_DEFAULT_WIDTH=800,ChartProps_DEFAULT_HEIGHT=600;class models_ChartProps_ChartProps{constructor(config){void 0===config&&(config={}),defineProperty_default()(this,"annotationData",void 0),defineProperty_default()(this,"datasource",void 0),defineProperty_default()(this,"rawDatasource",void 0),defineProperty_default()(this,"initialValues",void 0),defineProperty_default()(this,"formData",void 0),defineProperty_default()(this,"rawFormData",void 0),defineProperty_default()(this,"height",void 0),defineProperty_default()(this,"hooks",void 0),defineProperty_default()(this,"queryData",void 0),defineProperty_default()(this,"width",void 0);const{annotationData:annotationData={},datasource:datasource={},formData:formData={},hooks:hooks={},initialValues:initialValues={},queryData:queryData={},width:width=ChartProps_DEFAULT_WIDTH,height:height=ChartProps_DEFAULT_HEIGHT}=config;this.width=width,this.height=height,this.annotationData=annotationData,this.datasource=convertKeysToCamelCase(datasource),this.rawDatasource=datasource,this.formData=convertKeysToCamelCase(formData),this.rawFormData=formData,this.hooks=hooks,this.initialValues=initialValues,this.queryData=queryData}}defineProperty_default()(models_ChartProps_ChartProps,"createSelector",void 0),models_ChartProps_ChartProps.createSelector=function create(){return Object(es.createSelector)(input=>input.annotationData,input=>input.datasource,input=>input.formData,input=>input.height,input=>input.hooks,input=>input.initialValues,input=>input.queryData,input=>input.width,(annotationData,datasource,formData,height,hooks,initialValues,queryData,width)=>new models_ChartProps_ChartProps({annotationData:annotationData,datasource:datasource,formData:formData,height:height,hooks:hooks,initialValues:initialValues,queryData:queryData,width:width}))};const createLoadableRenderer_defaultProps={onRenderFailure(){},onRenderSuccess(){}};const SuperChartCore_IDENTITY=x=>x,SuperChartCore_EMPTY=()=>null,components_SuperChartCore_defaultProps={id:"",className:"",preTransformProps:SuperChartCore_IDENTITY,overrideTransformProps:void 0,postTransformProps:SuperChartCore_IDENTITY,onRenderSuccess(){},onRenderFailure(){}},SuperChartCore_BLANK_CHART_PROPS=new models_ChartProps_ChartProps;class components_SuperChartCore_SuperChartCore extends react.PureComponent{constructor(){super(...arguments),defineProperty_default()(this,"container",void 0),defineProperty_default()(this,"processChartProps",Object(es.createSelector)(input=>input.chartProps,input=>input.preTransformProps,input=>input.transformProps,input=>input.postTransformProps,(function(chartProps,pre,transform,post){return void 0===pre&&(pre=SuperChartCore_IDENTITY),void 0===transform&&(transform=SuperChartCore_IDENTITY),void 0===post&&(post=SuperChartCore_IDENTITY),post(transform(pre(chartProps)))}))),defineProperty_default()(this,"createLoadableRenderer",Object(es.createSelector)(input=>input.chartType,input=>input.overrideTransformProps,(chartType,overrideTransformProps)=>{if(chartType){const Renderer=function createLoadableRenderer_createLoadableRenderer(options){const LoadableRenderer=lib_default.a.Map(options);class CustomLoadableRenderer extends LoadableRenderer{componentDidMount(){this.afterRender()}componentDidUpdate(){this.afterRender()}afterRender(){const{loaded:loaded,loading:loading,error:error}=this.state,{onRenderFailure:onRenderFailure,onRenderSuccess:onRenderSuccess}=this.props;loading||(error?onRenderFailure(error):loaded&&keys_default()(loaded).length>0&&onRenderSuccess())}}return defineProperty_default()(CustomLoadableRenderer,"defaultProps",void 0),CustomLoadableRenderer.defaultProps=createLoadableRenderer_defaultProps,CustomLoadableRenderer.preload=LoadableRenderer.preload,CustomLoadableRenderer}({loader:{Chart:()=>registries_ChartComponentRegistrySingleton().getAsPromise(chartType),transformProps:overrideTransformProps?()=>promise_default.a.resolve(overrideTransformProps):()=>registries_ChartTransformPropsRegistrySingleton().getAsPromise(chartType)},loading:loadingProps=>this.renderLoading(loadingProps,chartType),render:this.renderChart});return Renderer.preload(),Renderer}return SuperChartCore_EMPTY})),defineProperty_default()(this,"renderChart",(loaded,props)=>{const{Chart:Chart,transformProps:transformProps}=loaded,{chartProps:chartProps,preTransformProps:preTransformProps,postTransformProps:postTransformProps}=props;return react.createElement(Chart,this.processChartProps({chartProps:chartProps,preTransformProps:preTransformProps,transformProps:transformProps,postTransformProps:postTransformProps}))}),defineProperty_default()(this,"renderLoading",(loadingProps,chartType)=>{const{error:error}=loadingProps;return error?react.createElement("div",{className:"alert alert-warning",role:"alert"},react.createElement("strong",null,"ERROR")," ",react.createElement("code",null,'chartType="',chartType,'"')," —",error.toString()):null}),defineProperty_default()(this,"setRef",container=>{this.container=container})}render(){const{id:id,className:className,preTransformProps:preTransformProps,postTransformProps:postTransformProps,chartProps:chartProps=SuperChartCore_BLANK_CHART_PROPS,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure}=this.props,Renderer=this.createLoadableRenderer(this.props);if(null===chartProps)return null;const containerProps={};return id&&(containerProps.id=id),className&&(containerProps.className=className),react.createElement("div",extends_default()({},containerProps,{ref:this.setRef}),react.createElement(Renderer,{preTransformProps:preTransformProps,postTransformProps:postTransformProps,chartProps:chartProps,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure}))}}defineProperty_default()(components_SuperChartCore_SuperChartCore,"defaultProps",components_SuperChartCore_defaultProps);__webpack_require__(455);var map=__webpack_require__(36),map_default=__webpack_require__.n(map);function FallbackComponent_ownKeys(object,enumerableOnly){var keys=keys_default()(object);if(get_own_property_symbols_default.a){var symbols=get_own_property_symbols_default()(object);enumerableOnly&&(symbols=filter_default()(symbols).call(symbols,(function(sym){return get_own_property_descriptor_default()(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function FallbackComponent_objectSpread(target){for(var i=1;i<arguments.length;i++){var _context2,source=null!=arguments[i]?arguments[i]:{};if(i%2)for_each_default()(_context2=FallbackComponent_ownKeys(Object(source),!0)).call(_context2,(function(key){defineProperty_default()(target,key,source[key])}));else if(get_own_property_descriptors_default.a)define_properties_default()(target,get_own_property_descriptors_default()(source));else{var _context3;for_each_default()(_context3=FallbackComponent_ownKeys(Object(source))).call(_context3,(function(key){define_property_default()(target,key,get_own_property_descriptor_default()(source,key))}))}}return target}const FallbackComponent_CONTAINER_STYLE={backgroundColor:"#000",color:"#fff",overflow:"auto",padding:32};const NoResultsComponent_MESSAGE_STYLES={maxWidth:800},NoResultsComponent_TITLE_STYLES={fontSize:20,fontWeight:"bold",paddingBottom:8},NoResultsComponent_BODY_STYLES={fontSize:16};var src_components_NoResultsComponent=_ref=>{let{className:className,height:height,id:id,width:width}=_ref;const containerStyles=Object(react.useMemo)(()=>((height,width)=>({alignItems:"center",display:"flex",flexDirection:"column",height:height,justifyContent:"center",padding:16,textAlign:"center",width:width}))(height,width),[height,width]);return react_default.a.createElement("div",{className:className,id:id,style:containerStyles},react_default.a.createElement("div",{style:NoResultsComponent_MESSAGE_STYLES},react_default.a.createElement("div",{style:NoResultsComponent_TITLE_STYLES},"No Results"),react_default.a.createElement("div",{style:NoResultsComponent_BODY_STYLES},"No results were returned for this query. If you expected results to be returned, ensure any filters are configured properly and the datasource contains data for the selected time range.")))};function SuperChart_ownKeys(object,enumerableOnly){var keys=keys_default()(object);if(get_own_property_symbols_default.a){var symbols=get_own_property_symbols_default()(object);enumerableOnly&&(symbols=filter_default()(symbols).call(symbols,(function(sym){return get_own_property_descriptor_default()(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}const components_SuperChart_defaultProps={FallbackComponent:function FallbackComponent_FallbackComponent(_ref){var _context;let{componentStack:componentStack,error:error,height:height,width:width}=_ref;return react_default.a.createElement("div",{style:FallbackComponent_objectSpread({},FallbackComponent_CONTAINER_STYLE,{height:height,width:width})},react_default.a.createElement("div",null,react_default.a.createElement("div",null,react_default.a.createElement("b",null,"Oops! An error occured!")),react_default.a.createElement("code",null,error?error.toString():"Unknown Error")),componentStack&&react_default.a.createElement("div",null,react_default.a.createElement("b",null,"Stack Trace:"),react_default.a.createElement("code",null,map_default()(_context=componentStack.split("\n")).call(_context,row=>react_default.a.createElement("div",{key:row},row)))))},height:400,width:"100%"};class components_SuperChart_SuperChart extends react_default.a.PureComponent{constructor(){super(...arguments),defineProperty_default()(this,"core",void 0),defineProperty_default()(this,"createChartProps",models_ChartProps_ChartProps.createSelector()),defineProperty_default()(this,"parseDimension",Object(es.createSelector)(_ref=>{let{width:width}=_ref;return width},_ref2=>{let{height:height}=_ref2;return height},(width,height)=>{const widthInfo=parseLength(width),heightInfo=parseLength(height),style={height:heightInfo.isDynamic?100*heightInfo.multiplier+"%":heightInfo.value,width:widthInfo.isDynamic?100*widthInfo.multiplier+"%":widthInfo.value};return{BoundingBox:widthInfo.isDynamic&&heightInfo.isDynamic&&1===widthInfo.multiplier&&1===heightInfo.multiplier?react_default.a.Fragment:_ref3=>{let{children:children}=_ref3;return react_default.a.createElement("div",{style:style},children)},heightInfo:heightInfo,widthInfo:widthInfo}})),defineProperty_default()(this,"setRef",core=>{this.core=core})}renderChart(width,height){const _ref4=this.props,{id:id,className:className,chartType:chartType,preTransformProps:preTransformProps,overrideTransformProps:overrideTransformProps,postTransformProps:postTransformProps,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure,disableErrorBoundary:disableErrorBoundary,FallbackComponent:_FallbackComponent,onErrorBoundary:onErrorBoundary,Wrapper:Wrapper,queryData:queryData}=_ref4,rest=objectWithoutProperties_default()(_ref4,["id","className","chartType","preTransformProps","overrideTransformProps","postTransformProps","onRenderSuccess","onRenderFailure","disableErrorBoundary","FallbackComponent","onErrorBoundary","Wrapper","queryData"]),chartProps=this.createChartProps(function SuperChart_objectSpread(target){for(var i=1;i<arguments.length;i++){var _context,source=null!=arguments[i]?arguments[i]:{};if(i%2)for_each_default()(_context=SuperChart_ownKeys(Object(source),!0)).call(_context,(function(key){defineProperty_default()(target,key,source[key])}));else if(get_own_property_descriptors_default.a)define_properties_default()(target,get_own_property_descriptors_default()(source));else{var _context2;for_each_default()(_context2=SuperChart_ownKeys(Object(source))).call(_context2,(function(key){define_property_default()(target,key,get_own_property_descriptor_default()(source,key))}))}}return target}({},rest,{queryData:queryData,height:height,width:width}));let chart;if(null==queryData||null===queryData.data||is_array_default()(queryData.data)&&0===queryData.data.length)chart=react_default.a.createElement(src_components_NoResultsComponent,{id:id,className:className,height:height,width:width});else{const chartWithoutWrapper=react_default.a.createElement(components_SuperChartCore_SuperChartCore,{ref:this.setRef,id:id,className:className,chartType:chartType,chartProps:chartProps,preTransformProps:preTransformProps,overrideTransformProps:overrideTransformProps,postTransformProps:postTransformProps,onRenderSuccess:onRenderSuccess,onRenderFailure:onRenderFailure});chart=Wrapper?react_default.a.createElement(Wrapper,{width:width,height:height},chartWithoutWrapper):chartWithoutWrapper}return!0===disableErrorBoundary?chart:react_default.a.createElement(commonjs_default.a,{FallbackComponent:props=>react_default.a.createElement(_FallbackComponent,extends_default()({width:width,height:height},props)),onError:onErrorBoundary},chart)}render(){const{heightInfo:heightInfo,widthInfo:widthInfo,BoundingBox:BoundingBox}=this.parseDimension(this.props);if(widthInfo.isDynamic||heightInfo.isDynamic){const{debounceTime:debounceTime}=this.props;return react_default.a.createElement(BoundingBox,null,react_default.a.createElement(ParentSize.a,{debounceTime:debounceTime},_ref5=>{let{width:width,height:height}=_ref5;return width>0&&height>0&&this.renderChart(widthInfo.isDynamic?Math.floor(width):widthInfo.value,heightInfo.isDynamic?Math.floor(height):heightInfo.value)}))}return this.renderChart(widthInfo.value,heightInfo.value)}}defineProperty_default()(components_SuperChart_SuperChart,"defaultProps",components_SuperChart_defaultProps);__webpack_require__(489);var Plugin=__webpack_require__(1002),isRequired=__webpack_require__(129);class ChartMetadataRegistrySingleton_ChartMetadataRegistry extends Registry.a{constructor(){super({name:"ChartMetadata",overwritePolicy:types.a.WARN})}}var registries_ChartMetadataRegistrySingleton=Object(makeSingleton.a)(ChartMetadataRegistrySingleton_ChartMetadataRegistry);class ChartBuildQueryRegistrySingleton_ChartBuildQueryRegistry extends Registry.a{constructor(){super({name:"ChartBuildQuery",overwritePolicy:types.a.WARN})}}var registries_ChartBuildQueryRegistrySingleton=Object(makeSingleton.a)(ChartBuildQueryRegistrySingleton_ChartBuildQueryRegistry);class ChartControlPanelRegistrySingleton_ChartControlPanelRegistry extends Registry.a{constructor(){super({name:"ChartControlPanel"})}}var ChartControlPanelRegistrySingleton=Object(makeSingleton.a)(ChartControlPanelRegistrySingleton_ChartControlPanelRegistry);function ChartPlugin_IDENTITY(x){return x}const ChartPlugin_EMPTY={};function sanitizeLoader(loader){return()=>{const loaded=loader();return loaded instanceof promise_default.a?loaded.then(module=>"default"in module&&module.default||module):loaded}}class ChartPlugin_ChartPlugin extends Plugin.a{constructor(config){super(),defineProperty_default()(this,"controlPanel",void 0),defineProperty_default()(this,"metadata",void 0),defineProperty_default()(this,"loadBuildQuery",void 0),defineProperty_default()(this,"loadTransformProps",void 0),defineProperty_default()(this,"loadChart",void 0);const{metadata:metadata,buildQuery:buildQuery,loadBuildQuery:loadBuildQuery,transformProps:transformProps=ChartPlugin_IDENTITY,loadTransformProps:loadTransformProps,Chart:Chart,loadChart:loadChart,controlPanel:controlPanel=ChartPlugin_EMPTY}=config;if(this.controlPanel=controlPanel,this.metadata=metadata,this.loadBuildQuery=loadBuildQuery&&sanitizeLoader(loadBuildQuery)||buildQuery&&sanitizeLoader(()=>buildQuery)||void 0,this.loadTransformProps=sanitizeLoader(null!=loadTransformProps?loadTransformProps:()=>transformProps),loadChart)this.loadChart=sanitizeLoader(loadChart);else{if(!Chart)throw new Error("Chart or loadChart is required");this.loadChart=()=>Chart}}register(){const{key:key=Object(isRequired.a)("config.key")}=this.config;return registries_ChartMetadataRegistrySingleton().registerValue(key,this.metadata),registries_ChartComponentRegistrySingleton().registerLoader(key,this.loadChart),ChartControlPanelRegistrySingleton().registerValue(key,this.controlPanel),registries_ChartTransformPropsRegistrySingleton().registerLoader(key,this.loadTransformProps),this.loadBuildQuery&&registries_ChartBuildQueryRegistrySingleton().registerLoader(key,this.loadBuildQuery),this}unregister(){const{key:key=Object(isRequired.a)("config.key")}=this.config;return registries_ChartMetadataRegistrySingleton().remove(key),registries_ChartComponentRegistrySingleton().remove(key),ChartControlPanelRegistrySingleton().remove(key),registries_ChartTransformPropsRegistrySingleton().remove(key),registries_ChartBuildQueryRegistrySingleton().remove(key),this}configure(config,replace){return super.configure(config,replace),this}}__webpack_require__(51);var reduce=__webpack_require__(490),reduce_default=__webpack_require__.n(reduce);class ChartMetadata_ChartMetadata{constructor(config){defineProperty_default()(this,"name",void 0),defineProperty_default()(this,"canBeAnnotationTypes",void 0),defineProperty_default()(this,"canBeAnnotationTypesLookup",void 0),defineProperty_default()(this,"credits",void 0),defineProperty_default()(this,"description",void 0),defineProperty_default()(this,"show",void 0),defineProperty_default()(this,"supportedAnnotationTypes",void 0),defineProperty_default()(this,"thumbnail",void 0),defineProperty_default()(this,"useLegacyApi",void 0);const{name:name,canBeAnnotationTypes:canBeAnnotationTypes=[],credits:credits=[],description:description="",show:show=!0,supportedAnnotationTypes:supportedAnnotationTypes=[],thumbnail:thumbnail,useLegacyApi:useLegacyApi=!1}=config;this.name=name,this.credits=credits,this.description=description,this.show=show,this.canBeAnnotationTypes=canBeAnnotationTypes,this.canBeAnnotationTypesLookup=reduce_default()(canBeAnnotationTypes).call(canBeAnnotationTypes,(prev,type)=>{const lookup=prev;return lookup[type]=!0,lookup},{}),this.supportedAnnotationTypes=supportedAnnotationTypes,this.thumbnail=thumbnail,this.useLegacyApi=useLegacyApi}canBeAnnotationType(type){return this.canBeAnnotationTypesLookup[type]||!1}clone(){return new ChartMetadata_ChartMetadata({canBeAnnotationTypes:this.canBeAnnotationTypes,credits:this.credits,description:this.description,name:this.name,show:this.show,supportedAnnotationTypes:this.supportedAnnotationTypes,thumbnail:this.thumbnail,useLegacyApi:this.useLegacyApi})}}const DIMENSION_STYLE={fontSize:36,fontWeight:700,flex:"1 1 auto",display:"flex",alignItems:"center"},TestComponent=_ref=>{let{formData:formData,message:message,width:width,height:height}=_ref;return react_default.a.createElement("div",{className:"test-component",style:{width:width,height:height,backgroundColor:"#00d1c1",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:8}},react_default.a.createElement("div",{className:"message",style:{padding:10}},null!=message?message:"custom component"),react_default.a.createElement("div",{className:"dimension",style:DIMENSION_STYLE},[width,height].join("x")),react_default.a.createElement("div",{className:"formData",style:{padding:10}},react_default.a.createElement("code",{style:{color:"#D3F9F7"}},stringify_default()(formData))))},ChartKeys_DILIGENT="diligent-chart",ChartKeys_BUGGY="buggy-chart";(new class MockChartPlugins_DiligentChartPlugin extends ChartPlugin_ChartPlugin{constructor(){super({metadata:new ChartMetadata_ChartMetadata({name:ChartKeys_DILIGENT,thumbnail:""}),Chart:TestComponent,transformProps:x=>x})}}).configure({key:ChartKeys_DILIGENT}).register(),(new class MockChartPlugins_BuggyChartPlugin extends ChartPlugin_ChartPlugin{constructor(){super({metadata:new ChartMetadata_ChartMetadata({name:ChartKeys_BUGGY,thumbnail:""}),Chart:()=>{throw new Error("The component is too buggy to render.")},transformProps:x=>x})}}).configure({key:ChartKeys_BUGGY}).register();const DEFAULT_QUERY_DATA={data:["foo","bar"]};var SuperChartStories=[{renderStory:()=>{const width=Object(dist.text)("Vis width","100%"),height=Object(dist.text)("Vis height","100%");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,width:width,height:height,queryData:DEFAULT_QUERY_DATA,formData:{hi:1}})},storyName:"Basic",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","50%"),height=Object(dist.text)("Vis height","50%");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,width:width,height:height,queryData:DEFAULT_QUERY_DATA,formData:{hi:1}})},storyName:"50% of container",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","500"),height=Object(dist.text)("Vis height","300");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,height:height,width:width,queryData:DEFAULT_QUERY_DATA})},storyName:"fixed dimension",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","500"),height=Object(dist.text)("Vis height","100%");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,height:height,width:width,queryData:DEFAULT_QUERY_DATA})},storyName:"fixed width, 100% height",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","100%"),height=Object(dist.text)("Vis height","300");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,height:height,width:width,queryData:DEFAULT_QUERY_DATA})},storyName:"fixed height, 100% width",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","500"),height=Object(dist.text)("Vis height","300");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_BUGGY,height:height,width:width,queryData:DEFAULT_QUERY_DATA})},storyName:"With error boundary",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","100%"),height=Object(dist.text)("Vis height","100%");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,width:width,height:height,queryData:DEFAULT_QUERY_DATA,Wrapper:_ref=>{let{children:children}=_ref;return react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{margin:10,position:"fixed"}},"With wrapper!"),children)}})},storyName:"With Wrapper",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","100%"),height=Object(dist.text)("Vis height","100%");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,width:width,height:height})},storyName:"With no results",storyPath:"@superset-ui/chart|SuperChart"},{renderStory:()=>{const width=Object(dist.text)("Vis width","400"),height=Object(dist.text)("Vis height","300");return react_default.a.createElement(components_SuperChart_SuperChart,{chartType:ChartKeys_DILIGENT,width:width,height:height})},storyName:"With no results and small",storyPath:"@superset-ui/chart|SuperChart"}];__webpack_exports__.default={examples:[...ChartDataProviderStories,...SuperChartStories]}},973:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(26);var map=__webpack_require__(36),map_default=__webpack_require__.n(map),react=__webpack_require__(1),react_default=__webpack_require__.n(react),airbnb=__webpack_require__(492),airbnb_default=__webpack_require__.n(airbnb),d3=__webpack_require__(493),d3_default=__webpack_require__.n(d3),google=__webpack_require__(494),google_default=__webpack_require__.n(google),lyft=__webpack_require__(495),lyft_default=__webpack_require__.n(lyft);function RenderPalettes(_ref){let{title:title,palettes:palettes}=_ref;return react_default.a.createElement("div",null,title&&react_default.a.createElement("h2",null,title),react_default.a.createElement("table",null,react_default.a.createElement("tbody",null,map_default()(palettes).call(palettes,_ref2=>{let{colors:colors,id:id,label:label}=_ref2;return react_default.a.createElement("tr",{key:id},react_default.a.createElement("td",{className:"palette-label"},react_default.a.createElement("strong",null,label)),react_default.a.createElement("td",null,react_default.a.createElement("div",{className:"palette-container"},map_default()(colors).call(colors,(color,i)=>react_default.a.createElement("div",{key:color,className:"palette-item",style:{backgroundColor:color,marginRight:i===colors.length-1?0:2}})))))}))))}var CategoricalStories=[{renderStory:()=>{var _context;return map_default()(_context=[{palettes:airbnb_default.a,storyName:"Airbnb"},{palettes:d3_default.a,storyName:"d3"},{palettes:google_default.a,storyName:"Google"},{palettes:lyft_default.a,storyName:"Lyft"}]).call(_context,_ref=>{let{palettes:palettes,storyName:storyName}=_ref;return react_default.a.createElement(RenderPalettes,{key:storyName,title:storyName,palettes:palettes})})},storyName:"Categorical Palettes",storyPath:"@superset-ui/color"}],common=__webpack_require__(496),common_default=__webpack_require__.n(common),sequential_d3=__webpack_require__(497),sequential_d3_default=__webpack_require__.n(sequential_d3),SequentialStories=[{renderStory:()=>{var _context;return map_default()(_context=[{palettes:common_default.a,storyName:"Common"},{palettes:sequential_d3_default.a,storyName:"d3"}]).call(_context,_ref=>{let{palettes:palettes,storyName:storyName}=_ref;return react_default.a.createElement(RenderPalettes,{key:storyName,title:storyName,palettes:palettes})})},storyName:"Sequential Palettes",storyPath:"@superset-ui/color"}];__webpack_require__(970),__webpack_exports__.default={examples:[...CategoricalStories,...SequentialStories]}},974:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(26);var stringify=__webpack_require__(58),stringify_default=__webpack_require__.n(stringify),react=__webpack_require__(1),react_default=__webpack_require__.n(react),dist=__webpack_require__(7),VerifyCORS=__webpack_require__(170),Expandable=__webpack_require__(222),formData=__webpack_require__(39);const REQUEST_METHODS=["GET","POST"];var ConnectionStories=[{renderStory:()=>{const host=Object(dist.text)("Superset App host for CORS request","localhost:9000"),endpoint=Object(dist.text)("Endpoint to test (blank to test auth only)",void 0),method=endpoint?Object(dist.select)("Request method",REQUEST_METHODS,"POST"):void 0,postPayload=endpoint&&"POST"===method?Object(dist.text)("Optional POST payload",stringify_default()({form_data:formData.a})):void 0;return react_default.a.createElement("div",{style:{margin:16}},react_default.a.createElement(VerifyCORS.a,{host:host,endpoint:endpoint,method:method,postPayload:""+postPayload},_ref=>{let{payload:payload}=_ref;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"alert alert-success"},"Success! Update knobs below to try again"),react_default.a.createElement("br",null),react_default.a.createElement(Expandable.a,{expandableWhat:"payload"},react_default.a.createElement("br",null),react_default.a.createElement("pre",{style:{fontSize:11}},stringify_default()(payload,null,2))))}))},storyName:"Configure CORS",storyPath:"@superset-ui/connection"}];__webpack_exports__.default={examples:[...ConnectionStories]}},975:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(26);var map=__webpack_require__(36),map_default=__webpack_require__.n(map),bind=__webpack_require__(92),bind_default=__webpack_require__.n(bind),react=__webpack_require__(1),react_default=__webpack_require__.n(react),NumberFormatterRegistrySingleton=__webpack_require__(985);class Stories_NumberFormatValidator extends react_default.a.PureComponent{constructor(props){var _context;super(props),this.state={formatString:".3~s",testValues:[987654321,12345.6789,3e3,400.14,70.00002,1,0,-1,-70.00002,-400.14,-3e3,-12345.6789,-987654321,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,NaN,null,void 0]},this.handleFormatChange=bind_default()(_context=this.handleFormatChange).call(_context,this)}handleFormatChange(event){this.setState({formatString:event.target.value})}render(){const{formatString:formatString,testValues:testValues}=this.state;return react_default.a.createElement("div",{className:"container"},react_default.a.createElement("div",{className:"row",style:{margin:"40px 20px 0 20px"}},react_default.a.createElement("div",{className:"col-sm"},react_default.a.createElement("p",null,"This ",react_default.a.createElement("code",null,"@superset-ui/number-format")," package enriches ",react_default.a.createElement("code",null,"d3-format"),"to handle invalid formats as well as edge case values. Use the validator below to preview outputs from the specified format string. See",react_default.a.createElement("a",{href:"https://github.com/d3/d3-format#locale_format",target:"_blank",rel:"noopener noreferrer"},"D3 Format Reference"),"for how to write a D3 format string."))),react_default.a.createElement("div",{className:"row",style:{margin:"10px 0 30px 0"}},react_default.a.createElement("div",{className:"col-sm"}),react_default.a.createElement("div",{className:"col-sm-8"},react_default.a.createElement("div",{className:"form"},react_default.a.createElement("div",{className:"form-group"},react_default.a.createElement("label",null,"Enter D3 format string:  "),react_default.a.createElement("input",{id:"formatString",className:"form-control form-control-lg",type:"text",value:formatString,onChange:this.handleFormatChange})))),react_default.a.createElement("div",{className:"col-sm"})),react_default.a.createElement("div",{className:"row"},react_default.a.createElement("div",{className:"col-sm"},react_default.a.createElement("table",{className:"table table-striped table-sm"},react_default.a.createElement("thead",null,react_default.a.createElement("tr",null,react_default.a.createElement("th",null,"Input (number)"),react_default.a.createElement("th",null,"Formatted output (string)"))),react_default.a.createElement("tbody",null,map_default()(testValues).call(testValues,v=>react_default.a.createElement("tr",{key:v},react_default.a.createElement("td",null,react_default.a.createElement("code",null,""+v)),react_default.a.createElement("td",null,react_default.a.createElement("code",null,'"',Object(NumberFormatterRegistrySingleton.b)(formatString,v),'"')))))))))}}Stories_NumberFormatValidator.propTypes={},Stories_NumberFormatValidator.defaultProps={};var Stories=[{renderStory:()=>react_default.a.createElement(Stories_NumberFormatValidator,null),storyName:"Validator",storyPath:"@superset-ui/number-format"}];__webpack_exports__.default={examples:[...Stories]}},976:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(26);var map=__webpack_require__(36),map_default=__webpack_require__.n(map),bind=__webpack_require__(92),bind_default=__webpack_require__.n(bind),react=__webpack_require__(1),react_default=__webpack_require__.n(react),TimeFormatterRegistrySingleton=__webpack_require__(986);class Stories_TimeFormatValidator extends react_default.a.PureComponent{constructor(props){var _context;super(props),this.state={formatString:"%Y-%m-%d %H:%M:%S",testValues:[new Date(Date.UTC(1986,5,14,8,30,53)),new Date(Date.UTC(2001,9,27,13,45,2,678)),new Date(Date.UTC(2009,1,1,0,0,0)),new Date(Date.UTC(2018,1,1,10,20,33)),0,null,void 0]},this.handleFormatChange=bind_default()(_context=this.handleFormatChange).call(_context,this)}handleFormatChange(event){this.setState({formatString:event.target.value})}render(){const{formatString:formatString,testValues:testValues}=this.state;return react_default.a.createElement("div",{className:"container"},react_default.a.createElement("div",{className:"row",style:{margin:"40px 20px 0 20px"}},react_default.a.createElement("div",{className:"col-sm"},react_default.a.createElement("p",null,"This ",react_default.a.createElement("code",null,"@superset-ui/time-format")," package enriches",react_default.a.createElement("code",null,"d3-time-format")," to handle invalid formats as well as edge case values. Use the validator below to preview outputs from the specified format string. See",react_default.a.createElement("a",{href:"https://github.com/d3/d3-time-format#locale_format",target:"_blank",rel:"noopener noreferrer"},"D3 Time Format Reference"),"for how to write a D3 time format string."))),react_default.a.createElement("div",{className:"row",style:{margin:"10px 0 30px 0"}},react_default.a.createElement("div",{className:"col-sm"}),react_default.a.createElement("div",{className:"col-sm-8"},react_default.a.createElement("div",{className:"form"},react_default.a.createElement("div",{className:"form-group"},react_default.a.createElement("label",null,"Enter D3 time format string:  "),react_default.a.createElement("input",{id:"formatString",className:"form-control form-control-lg",type:"text",value:formatString,onChange:this.handleFormatChange})))),react_default.a.createElement("div",{className:"col-sm"})),react_default.a.createElement("div",{className:"row"},react_default.a.createElement("div",{className:"col-sm"},react_default.a.createElement("table",{className:"table table-striped table-sm"},react_default.a.createElement("thead",null,react_default.a.createElement("tr",null,react_default.a.createElement("th",null,"Input (time)"),react_default.a.createElement("th",null,"Formatted output (string)"))),react_default.a.createElement("tbody",null,map_default()(testValues).call(testValues,v=>react_default.a.createElement("tr",{key:v},react_default.a.createElement("td",null,react_default.a.createElement("code",null,v instanceof Date?v.toUTCString():""+v)),react_default.a.createElement("td",null,react_default.a.createElement("code",null,'"',Object(TimeFormatterRegistrySingleton.b)(formatString,v),'"')))))))))}}Stories_TimeFormatValidator.propTypes={},Stories_TimeFormatValidator.defaultProps={};var Stories=[{renderStory:()=>react_default.a.createElement(Stories_TimeFormatValidator,null),storyName:"Validator",storyPath:"@superset-ui/time-format"}];__webpack_exports__.default={examples:[...Stories]}},985:function(module,__webpack_exports__,__webpack_require__){"use strict";var makeSingleton=__webpack_require__(228),RegistryWithDefaultKey=__webpack_require__(1003),types=__webpack_require__(61),createD3NumberFormatter=__webpack_require__(324),defaultLocale=__webpack_require__(319),NumberFormatter=__webpack_require__(171),NumberFormats=__webpack_require__(103);const siFormatter=Object(defaultLocale.a)(".3~s"),float2PointFormatter=Object(defaultLocale.a)(".2~f"),float4PointFormatter=Object(defaultLocale.a)(".4~f");function createSmartNumberFormatter(config){void 0===config&&(config={});const{description:description,signed:signed=!1,id:id,label:label}=config,getSign=signed?value=>value>0?"+":"":()=>"";return new NumberFormatter.b({description:description,formatFunc:value=>""+getSign(value)+function formatValue(value){if(0===value)return"0";const absoluteValue=Math.abs(value);return absoluteValue>=1e3?siFormatter(value).replace("G","B"):absoluteValue>=1?float2PointFormatter(value):absoluteValue>=.001?float4PointFormatter(value):absoluteValue>1e-6?siFormatter(1e6*value)+"µ":siFormatter(value)}(value),id:id||signed?NumberFormats.a.SMART_NUMBER_SIGNED:NumberFormats.a.SMART_NUMBER,label:null!=label?label:"Adaptive formatter"})}class NumberFormatterRegistry_NumberFormatterRegistry extends RegistryWithDefaultKey.a{constructor(){super({name:"NumberFormatter",overwritePolicy:types.a.WARN}),this.registerValue(NumberFormats.a.SMART_NUMBER,createSmartNumberFormatter()),this.registerValue(NumberFormats.a.SMART_NUMBER_SIGNED,createSmartNumberFormatter({signed:!0})),this.setDefaultKey(NumberFormats.a.SMART_NUMBER)}get(formatterId){const targetFormat=(""+(null!=formatterId?formatterId:this.defaultKey)).trim();if(this.has(targetFormat))return super.get(targetFormat);const formatter=Object(createD3NumberFormatter.a)({formatString:targetFormat});return this.registerValue(targetFormat,formatter),formatter}format(formatterId,value){return this.get(formatterId)(value)}}__webpack_require__.d(__webpack_exports__,"c",(function(){return getNumberFormatter})),__webpack_require__.d(__webpack_exports__,"b",(function(){return formatNumber}));const getInstance=Object(makeSingleton.a)(NumberFormatterRegistry_NumberFormatterRegistry);__webpack_exports__.a=getInstance;function getNumberFormatter(format){return getInstance().get(format)}function formatNumber(format,value){return getInstance().format(format,value)}},986:function(module,__webpack_exports__,__webpack_require__){"use strict";var makeSingleton=__webpack_require__(228),RegistryWithDefaultKey=__webpack_require__(1003),types=__webpack_require__(61),TimeFormats=__webpack_require__(119),createD3TimeFormatter=__webpack_require__(334);class TimeFormatterRegistry_TimeFormatterRegistry extends RegistryWithDefaultKey.a{constructor(){super({initialDefaultKey:TimeFormats.b.DATABASE_DATETIME,name:"TimeFormatter",overwritePolicy:types.a.WARN})}get(format){const targetFormat=(""+(null!=format?format:this.defaultKey)).trim();if(this.has(targetFormat))return super.get(targetFormat);const useLocalTime=targetFormat.startsWith(TimeFormats.a),formatString=targetFormat.replace(TimeFormats.a,""),formatter=Object(createD3TimeFormatter.a)({formatString:formatString,useLocalTime:useLocalTime});return this.registerValue(targetFormat,formatter),formatter}format(format,value){return this.get(format)(value)}}__webpack_require__.d(__webpack_exports__,"c",(function(){return getTimeFormatter})),__webpack_require__.d(__webpack_exports__,"b",(function(){return formatTime}));const getInstance=Object(makeSingleton.a)(TimeFormatterRegistry_TimeFormatterRegistry);__webpack_exports__.a=getInstance;function getTimeFormatter(formatId){return getInstance().get(formatId)}function formatTime(formatId,value){return getInstance().format(formatId,value)}},994:function(module,__webpack_exports__,__webpack_require__){"use strict";var _factories_createMultiFormatter__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(323);const smartDateFormatter=Object(_factories_createMultiFormatter__WEBPACK_IMPORTED_MODULE_0__.a)({id:"smart_date_verbose",label:"Verbose Adaptative Formatting",formats:{millisecond:".%L",second:"%a %b %d, %I:%M:%S %p",minute:"%a %b %d, %I:%M %p",hour:"%a %b %d, %I %p",day:"%a %b %-e",week:"%a %b %-e",month:"%b %Y",year:"%Y"}});__webpack_exports__.a=smartDateFormatter}},[[510,2,3]]]);
//# sourceMappingURL=main.c56e26d619943c74afac.bundle.js.map