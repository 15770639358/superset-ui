(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1174:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return reactify}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function reactify(renderFn,callbacks){class ReactifiedComponent extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component{constructor(props){super(props),this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,(null==callbacks?void 0:callbacks.componentWillUnmount)&&callbacks.componentWillUnmount.bind(this)()}setContainerRef(ref){this.container=ref}execute(){this.container&&renderFn(this.container,this.props)}render(){const{id:id,className:className}=this.props;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:this.setContainerRef,id:id,className:className})}}const ReactifiedClass=ReactifiedComponent;return renderFn.displayName&&(ReactifiedClass.displayName=renderFn.displayName),renderFn.propTypes&&(ReactifiedClass.propTypes=Object.assign(Object.assign({},ReactifiedClass.propTypes),renderFn.propTypes)),renderFn.defaultProps&&(ReactifiedClass.defaultProps=renderFn.defaultProps),ReactifiedComponent}},1578:function(module,exports,__webpack_require__){var api=__webpack_require__(269),content=__webpack_require__(1579);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1579:function(module,exports,__webpack_require__){(exports=__webpack_require__(270)(!1)).push([module.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.superset-legacy-chart-force-directed path.link {\n  fill: none;\n  stroke: #000;\n  stroke-width: 1.5px;\n}\n\n.superset-legacy-chart-force-directed circle {\n  fill: #ccc;\n  stroke: #000;\n  stroke-width: 1.5px;\n  stroke-opacity: 1;\n  opacity: 0.75;\n}\n\n.superset-legacy-chart-force-directed text {\n  fill: #000;\n  font: 10px sans-serif;\n  pointer-events: none;\n}\n',""]),module.exports=exports},2135:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var reactify=__webpack_require__(1174),d3=(__webpack_require__(40),__webpack_require__(90)),d3_default=__webpack_require__.n(d3),prop_types=__webpack_require__(4),prop_types_default=__webpack_require__.n(prop_types);__webpack_require__(1578);const propTypes={data:prop_types_default.a.arrayOf(prop_types_default.a.shape({source:prop_types_default.a.string,target:prop_types_default.a.string,value:prop_types_default.a.number})),width:prop_types_default.a.number,height:prop_types_default.a.number,linkLength:prop_types_default.a.number,charge:prop_types_default.a.number};function ForceDirected_ForceDirected(element,props){const{data:data,width:width,height:height,linkLength:linkLength=200,charge:charge=-500}=props,div=d3_default.a.select(element);div.classed("superset-legacy-chart-force-directed",!0);const links=data,nodes={};links.forEach(link=>{link.source=nodes[link.source]||(nodes[link.source]={name:link.source}),link.target=nodes[link.target]||(nodes[link.target]={name:link.target}),link.value=+link.value;const targetName=link.target.name,sourceName=link.source.name;void 0===nodes[targetName].total&&(nodes[targetName].total=link.value),void 0===nodes[sourceName].total&&(nodes[sourceName].total=0),void 0===nodes[targetName].max&&(nodes[targetName].max=0),link.value>nodes[targetName].max&&(nodes[targetName].max=link.value),void 0===nodes[targetName].min&&(nodes[targetName].min=0),link.value>nodes[targetName].min&&(nodes[targetName].min=link.value),nodes[targetName].total+=link.value});const force=d3_default.a.layout.force().nodes(d3_default.a.values(nodes)).links(links).size([width,height]).linkDistance(linkLength).charge(charge).on("tick",(function(){path.attr("d",d=>{const dx=d.target.x-d.source.x,dy=d.target.y-d.source.y,dr=Math.sqrt(dx*dx+dy*dy);return"M".concat(d.source.x,",").concat(d.source.y,"A").concat(dr,",").concat(dr," 0 0,1 ").concat(d.target.x,",").concat(d.target.y)}),node.attr("transform",d=>"translate(".concat(d.x,",").concat(d.y,")"))})).start();div.selectAll("*").remove();const svg=div.append("svg").attr("width",width).attr("height",height);svg.append("svg:defs").selectAll("marker").data(["end"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-1.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5");const edgeScale=d3_default.a.scale.linear().range([.1,.5]),path=svg.append("svg:g").selectAll("path").data(force.links()).enter().append("svg:path").attr("class","link").style("opacity",d=>edgeScale(d.value/d.target.max)).attr("marker-end","url(#end)"),node=svg.selectAll(".node").data(force.nodes()).enter().append("g").attr("class","node").on("mouseenter",(function(){d3_default.a.select(this).select("circle").transition().style("stroke-width",5),d3_default.a.select(this).select("text").transition().style("font-size",25)})).on("mouseleave",(function(){d3_default.a.select(this).select("circle").transition().style("stroke-width",1.5),d3_default.a.select(this).select("text").transition().style("font-size",12)})).call(force.drag),ext=d3_default.a.extent(d3_default.a.values(nodes),d=>Math.sqrt(d.total)),circleScale=d3_default.a.scale.linear().domain(ext).range([3,30]);node.append("circle").attr("r",d=>circleScale(Math.sqrt(d.total))),node.append("text").attr("x",6).attr("dy",".35em").text(d=>d.name)}ForceDirected_ForceDirected.displayName="ForceDirected",ForceDirected_ForceDirected.propTypes=propTypes;var src_ForceDirected=ForceDirected_ForceDirected;__webpack_exports__.default=Object(reactify.a)(src_ForceDirected)}}]);
//# sourceMappingURL=30.ebae9664c9688180d36c.bundle.js.map