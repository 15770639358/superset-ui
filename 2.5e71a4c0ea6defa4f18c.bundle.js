(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1200:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return reactify}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function reactify(renderFn,callbacks){class ReactifiedComponent extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component{constructor(props){super(props),this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,(null==callbacks?void 0:callbacks.componentWillUnmount)&&callbacks.componentWillUnmount.bind(this)()}setContainerRef(ref){this.container=ref}execute(){this.container&&renderFn(this.container,this.props)}render(){const{id:id,className:className}=this.props;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:this.setContainerRef,id:id,className:className})}}const ReactifiedClass=ReactifiedComponent;return renderFn.displayName&&(ReactifiedClass.displayName=renderFn.displayName),renderFn.propTypes&&(ReactifiedClass.propTypes=Object.assign(Object.assign({},ReactifiedClass.propTypes),renderFn.propTypes)),renderFn.defaultProps&&(ReactifiedClass.defaultProps=renderFn.defaultProps),ReactifiedComponent}},2101:function(module,exports,__webpack_require__){var map={"./af":1427,"./af.js":1427,"./ar":1428,"./ar-dz":1429,"./ar-dz.js":1429,"./ar-kw":1430,"./ar-kw.js":1430,"./ar-ly":1431,"./ar-ly.js":1431,"./ar-ma":1432,"./ar-ma.js":1432,"./ar-sa":1433,"./ar-sa.js":1433,"./ar-tn":1434,"./ar-tn.js":1434,"./ar.js":1428,"./az":1435,"./az.js":1435,"./be":1436,"./be.js":1436,"./bg":1437,"./bg.js":1437,"./bm":1438,"./bm.js":1438,"./bn":1439,"./bn.js":1439,"./bo":1440,"./bo.js":1440,"./br":1441,"./br.js":1441,"./bs":1442,"./bs.js":1442,"./ca":1443,"./ca.js":1443,"./cs":1444,"./cs.js":1444,"./cv":1445,"./cv.js":1445,"./cy":1446,"./cy.js":1446,"./da":1447,"./da.js":1447,"./de":1448,"./de-at":1449,"./de-at.js":1449,"./de-ch":1450,"./de-ch.js":1450,"./de.js":1448,"./dv":1451,"./dv.js":1451,"./el":1452,"./el.js":1452,"./en-au":1453,"./en-au.js":1453,"./en-ca":1454,"./en-ca.js":1454,"./en-gb":1455,"./en-gb.js":1455,"./en-ie":1456,"./en-ie.js":1456,"./en-il":1457,"./en-il.js":1457,"./en-in":1458,"./en-in.js":1458,"./en-nz":1459,"./en-nz.js":1459,"./en-sg":1460,"./en-sg.js":1460,"./eo":1461,"./eo.js":1461,"./es":1462,"./es-do":1463,"./es-do.js":1463,"./es-us":1464,"./es-us.js":1464,"./es.js":1462,"./et":1465,"./et.js":1465,"./eu":1466,"./eu.js":1466,"./fa":1467,"./fa.js":1467,"./fi":1468,"./fi.js":1468,"./fil":1469,"./fil.js":1469,"./fo":1470,"./fo.js":1470,"./fr":1471,"./fr-ca":1472,"./fr-ca.js":1472,"./fr-ch":1473,"./fr-ch.js":1473,"./fr.js":1471,"./fy":1474,"./fy.js":1474,"./ga":1475,"./ga.js":1475,"./gd":1476,"./gd.js":1476,"./gl":1477,"./gl.js":1477,"./gom-deva":1478,"./gom-deva.js":1478,"./gom-latn":1479,"./gom-latn.js":1479,"./gu":1480,"./gu.js":1480,"./he":1481,"./he.js":1481,"./hi":1482,"./hi.js":1482,"./hr":1483,"./hr.js":1483,"./hu":1484,"./hu.js":1484,"./hy-am":1485,"./hy-am.js":1485,"./id":1486,"./id.js":1486,"./is":1487,"./is.js":1487,"./it":1488,"./it-ch":1489,"./it-ch.js":1489,"./it.js":1488,"./ja":1490,"./ja.js":1490,"./jv":1491,"./jv.js":1491,"./ka":1492,"./ka.js":1492,"./kk":1493,"./kk.js":1493,"./km":1494,"./km.js":1494,"./kn":1495,"./kn.js":1495,"./ko":1496,"./ko.js":1496,"./ku":1497,"./ku.js":1497,"./ky":1498,"./ky.js":1498,"./lb":1499,"./lb.js":1499,"./lo":1500,"./lo.js":1500,"./lt":1501,"./lt.js":1501,"./lv":1502,"./lv.js":1502,"./me":1503,"./me.js":1503,"./mi":1504,"./mi.js":1504,"./mk":1505,"./mk.js":1505,"./ml":1506,"./ml.js":1506,"./mn":1507,"./mn.js":1507,"./mr":1508,"./mr.js":1508,"./ms":1509,"./ms-my":1510,"./ms-my.js":1510,"./ms.js":1509,"./mt":1511,"./mt.js":1511,"./my":1512,"./my.js":1512,"./nb":1513,"./nb.js":1513,"./ne":1514,"./ne.js":1514,"./nl":1515,"./nl-be":1516,"./nl-be.js":1516,"./nl.js":1515,"./nn":1517,"./nn.js":1517,"./oc-lnc":1518,"./oc-lnc.js":1518,"./pa-in":1519,"./pa-in.js":1519,"./pl":1520,"./pl.js":1520,"./pt":1521,"./pt-br":1522,"./pt-br.js":1522,"./pt.js":1521,"./ro":1523,"./ro.js":1523,"./ru":1524,"./ru.js":1524,"./sd":1525,"./sd.js":1525,"./se":1526,"./se.js":1526,"./si":1527,"./si.js":1527,"./sk":1528,"./sk.js":1528,"./sl":1529,"./sl.js":1529,"./sq":1530,"./sq.js":1530,"./sr":1531,"./sr-cyrl":1532,"./sr-cyrl.js":1532,"./sr.js":1531,"./ss":1533,"./ss.js":1533,"./sv":1534,"./sv.js":1534,"./sw":1535,"./sw.js":1535,"./ta":1536,"./ta.js":1536,"./te":1537,"./te.js":1537,"./tet":1538,"./tet.js":1538,"./tg":1539,"./tg.js":1539,"./th":1540,"./th.js":1540,"./tl-ph":1541,"./tl-ph.js":1541,"./tlh":1542,"./tlh.js":1542,"./tr":1543,"./tr.js":1543,"./tzl":1544,"./tzl.js":1544,"./tzm":1545,"./tzm-latn":1546,"./tzm-latn.js":1546,"./tzm.js":1545,"./ug-cn":1547,"./ug-cn.js":1547,"./uk":1548,"./uk.js":1548,"./ur":1549,"./ur.js":1549,"./uz":1550,"./uz-latn":1551,"./uz-latn.js":1551,"./uz.js":1550,"./vi":1552,"./vi.js":1552,"./x-pseudo":1553,"./x-pseudo.js":1553,"./yo":1554,"./yo.js":1554,"./zh-cn":1555,"./zh-cn.js":1555,"./zh-hk":1556,"./zh-hk.js":1556,"./zh-mo":1557,"./zh-mo.js":1557,"./zh-tw":1558,"./zh-tw.js":1558};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2101},2104:function(module,exports,__webpack_require__){var api=__webpack_require__(282),content=__webpack_require__(2105);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},2105:function(module,exports,__webpack_require__){(exports=__webpack_require__(283)(!1)).push([module.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.superset-legacy-chart-nvd3-dist-bar {\n  overflow-x: auto !important;\n}\n\n.superset-legacy-chart-nvd3-dist-bar svg.nvd3-svg {\n  width: auto;\n  font-size: 14px;\n}\n\n.superset-legacy-chart-nvd3-bar {\n  overflow-x: auto !important;\n}\n\n.superset-legacy-chart-nvd3-bar svg.nvd3-svg {\n  width: auto;\n}\n\n.superset-legacy-chart-nvd3 .nv-x text {\n  font-size: 12px;\n}\n\n.superset-legacy-chart-nvd3 g.superset path {\n  stroke-dasharray: 5, 5;\n}\n\n.superset-legacy-chart-nvd3 .nvtooltip tr.highlight td {\n  font-weight: bold;\n  font-size: 15px !important;\n}\n\n.superset-legacy-chart-nvd3 text.nv-axislabel {\n  font-size: 14px;\n}\n\n.superset-legacy-chart-nvd3 text.nv-axislabel {\n  font-size: 14px !important;\n}\n\n.superset-legacy-chart-nvd3 g.solid path,\n.superset-legacy-chart-nvd3 line.solid {\n  stroke-dasharray: unset;\n}\n\n.superset-legacy-chart-nvd3 g.dashed path,\n.superset-legacy-chart-nvd3 line.dashed {\n  stroke-dasharray: 5, 5;\n}\n\n.superset-legacy-chart-nvd3 g.longDashed path,\n.superset-legacy-chart-nvd3 line.longDashed {\n  stroke-dasharray: 10, 2;\n}\n\n.superset-legacy-chart-nvd3 g.dotted path,\n.superset-legacy-chart-nvd3 line.dotted {\n  stroke-dasharray: 1, 1;\n}\n\n.superset-legacy-chart-nvd3 g.opacityLow path,\n.superset-legacy-chart-nvd3 line.opacityLow {\n  stroke-opacity: 0.2;\n}\n\n.superset-legacy-chart-nvd3 g.opacityMedium path,\n.superset-legacy-chart-nvd3 line.opacityMedium {\n  stroke-opacity: 0.5;\n}\n\n.superset-legacy-chart-nvd3 g.opacityHigh path,\n.superset-legacy-chart-nvd3 line.opacityHigh {\n  stroke-opacity: 0.8;\n}\n\n.superset-legacy-chart-nvd3 g.time-shift-0 path,\n.superset-legacy-chart-nvd3 line.time-shift-0 {\n  stroke-dasharray: 5, 5;\n}\n.superset-legacy-chart-nvd3 g.time-shift-1 path,\n.superset-legacy-chart-nvd3 line.time-shift-1 {\n  stroke-dasharray: 1, 5;\n}\n.superset-legacy-chart-nvd3 g.time-shift-2 path,\n.superset-legacy-chart-nvd3 line.time-shift-2 {\n  stroke-dasharray: 10, 5;\n}\n.superset-legacy-chart-nvd3 g.time-shift-3 path,\n.superset-legacy-chart-nvd3 line.time-shift-3 {\n  stroke-dasharray: 5, 1;\n}\n.superset-legacy-chart-nvd3 g.time-shift-4 path,\n.superset-legacy-chart-nvd3 line.time-shift-4 {\n  stroke-dasharray: 5, 10;\n}\n.superset-legacy-chart-nvd3 g.time-shift-5 path,\n.superset-legacy-chart-nvd3 line.time-shift-5 {\n  stroke-dasharray: 0.9;\n}\n.superset-legacy-chart-nvd3 g.time-shift-6 path,\n.superset-legacy-chart-nvd3 line.time-shift-6 {\n  stroke-dasharray: 15, 10, 5;\n}\n.superset-legacy-chart-nvd3 g.time-shift-7 path,\n.superset-legacy-chart-nvd3 line.time-shift-7 {\n  stroke-dasharray: 15, 10, 5, 10;\n}\n.superset-legacy-chart-nvd3 g.time-shift-8 path,\n.superset-legacy-chart-nvd3 line.time-shift-8 {\n  stroke-dasharray: 15, 10, 5, 10, 15;\n}\n.superset-legacy-chart-nvd3 g.time-shift-9 path,\n.superset-legacy-chart-nvd3 line.time-shift-9 {\n  stroke-dasharray: 5, 5, 1, 5;\n}\n.superset-legacy-chart-nvd3-tr-highlight {\n  border-top: 1px solid;\n  border-bottom: 1px solid;\n  font-weight: bold;\n}\n\n.superset-legacy-chart-nvd3-tr-total {\n  font-weight: bold;\n}\n\n/* START tooltip styles - these prevent long column names from overflowing the tooltip */\n.nvtooltip .tooltip-header {\n  white-space: nowrap;\n  font-weight: bold;\n}\n.nvtooltip tbody tr:not(.tooltip-header) td:nth-child(2) {\n  word-break: break-word;\n}\n/* END tooltip styles */\n\n.superset-legacy-chart-nvd3 .nv-noData.body {\n  font-size: 14px;\n  font-weight: normal;\n}\n\n.d3-tip.nv-event-annotation-layer-table,\n.d3-tip.nv-event-annotation-layer-NATIVE {\n  width: 200px;\n  border-radius: 2px;\n  background-color: #484848;\n  fill-opacity: 0.6;\n  margin: 8px;\n  padding: 8px;\n  color: #fff;\n}\n\n.d3-tip.nv-event-annotation-layer-table::after,\n.d3-tip.nv-event-annotation-layer-NATIVE::after {\n  content: \'\\25BC\';\n  font-size: 14px;\n  color: #484848;\n  position: absolute;\n  bottom: -14px;\n  left: 94px;\n}\n',""]),module.exports=exports},2157:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var reactify=__webpack_require__(1200),lodash=(__webpack_require__(607),__webpack_require__(209),__webpack_require__(37),__webpack_require__(52)),d3=__webpack_require__(101),d3_default=__webpack_require__.n(d3),nv_d3=__webpack_require__(1362),nv_d3_default=__webpack_require__.n(nv_d3),mathjs=__webpack_require__(1701),mathjs_default=__webpack_require__.n(mathjs),moment=__webpack_require__(1176),moment_default=__webpack_require__.n(moment),prop_types=__webpack_require__(4),prop_types_default=__webpack_require__.n(prop_types),isDefined=__webpack_require__(1174),TranslatorSingleton=__webpack_require__(8),src=__webpack_require__(165),NumberFormatterRegistrySingleton=__webpack_require__(98),NumberFormats=__webpack_require__(91),TimeFormatterRegistrySingleton=__webpack_require__(96),smartDateVerbose=__webpack_require__(526),AnnotationTypes=(__webpack_require__(2102),__webpack_require__(65)),isTruthy=__webpack_require__(520),utils=__webpack_require__(383);const numberOrAutoType=prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.oneOf(["auto"])]),stringOrObjectWithLabelType=prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.shape({label:prop_types_default.a.string})]),rgbObjectType=prop_types_default.a.shape({r:prop_types_default.a.number.isRequired,g:prop_types_default.a.number.isRequired,b:prop_types_default.a.number.isRequired}),numericXYType=prop_types_default.a.shape({x:prop_types_default.a.number,y:prop_types_default.a.number}),categoryAndValueXYType=prop_types_default.a.shape({x:prop_types_default.a.string,y:prop_types_default.a.number}),boxPlotValueType=prop_types_default.a.shape({outliers:prop_types_default.a.arrayOf(prop_types_default.a.number),Q1:prop_types_default.a.number,Q2:prop_types_default.a.number,Q3:prop_types_default.a.number,whisker_high:prop_types_default.a.number,whisker_low:prop_types_default.a.number}),bulletDataType=prop_types_default.a.shape({markerLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),markerLineLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),markerLines:prop_types_default.a.arrayOf(prop_types_default.a.number),markers:prop_types_default.a.arrayOf(prop_types_default.a.number),measures:prop_types_default.a.arrayOf(prop_types_default.a.number),rangeLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),ranges:prop_types_default.a.arrayOf(prop_types_default.a.number)}),annotationLayerType=prop_types_default.a.shape({annotationType:prop_types_default.a.oneOf(Object.keys(AnnotationTypes.a)),color:prop_types_default.a.string,hideLine:prop_types_default.a.bool,name:prop_types_default.a.string,opacity:prop_types_default.a.string,show:prop_types_default.a.bool,showMarkers:prop_types_default.a.bool,sourceType:prop_types_default.a.string,style:prop_types_default.a.string,value:prop_types_default.a.number,width:prop_types_default.a.number});__webpack_require__(2104);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const NO_DATA_RENDER_DATA=[{text:"No data",dy:"-.75em",class:"header"},{text:"Adjust filters or check the Datasource.",dy:".75em",class:"body"}];nv_d3_default.a.utils.noData=function(chart,container){const margin=chart.options().margin(),height=nv_d3_default.a.utils.availableHeight(null,container,margin),width=nv_d3_default.a.utils.availableWidth(null,container,margin),x=margin.left+width/2,y=margin.top+height/2;container.selectAll("g").remove();const noDataText=container.selectAll(".nv-noData").data(NO_DATA_RENDER_DATA);noDataText.enter().append("text").attr("class",d=>"nvd3 nv-noData ".concat(d.class)).attr("dy",d=>d.dy).style("text-anchor","middle"),noDataText.attr("x",x).attr("y",y).text(d=>d.text)};const{getColor:getColor,getScale:getScale}=src.CategoricalColorNamespace,BREAKPOINTS_small=340,TIMESERIES_VIZ_TYPES=["line","dual_line","line_multi","area","compare","bar","time_pivot"],propTypes={data:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.oneOfType([categoryAndValueXYType,prop_types_default.a.shape({key:prop_types_default.a.string,values:prop_types_default.a.arrayOf(categoryAndValueXYType)}),prop_types_default.a.shape({key:prop_types_default.a.arrayOf(prop_types_default.a.string),values:prop_types_default.a.arrayOf(numericXYType)}),prop_types_default.a.shape({classed:prop_types_default.a.string,key:prop_types_default.a.string,type:prop_types_default.a.string,values:prop_types_default.a.arrayOf(numericXYType),yAxis:prop_types_default.a.number}),prop_types_default.a.shape({label:prop_types_default.a.string,values:prop_types_default.a.arrayOf(boxPlotValueType)}),prop_types_default.a.shape({key:prop_types_default.a.string,values:prop_types_default.a.arrayOf(prop_types_default.a.object)})])),bulletDataType]),width:prop_types_default.a.number,height:prop_types_default.a.number,annotationData:prop_types_default.a.object,annotationLayers:prop_types_default.a.arrayOf(annotationLayerType),bottomMargin:numberOrAutoType,colorScheme:prop_types_default.a.string,comparisonType:prop_types_default.a.string,contribution:prop_types_default.a.bool,leftMargin:numberOrAutoType,onError:prop_types_default.a.func,showLegend:prop_types_default.a.bool,showMarkers:prop_types_default.a.bool,useRichTooltip:prop_types_default.a.bool,vizType:prop_types_default.a.oneOf(["area","bar","box_plot","bubble","bullet","compare","column","dist_bar","line","line_multi","time_pivot","pie","dual_line"]),xAxisFormat:prop_types_default.a.string,numberFormat:prop_types_default.a.string,xAxisLabel:prop_types_default.a.string,xAxisShowMinMax:prop_types_default.a.bool,xIsLogScale:prop_types_default.a.bool,xTicksLayout:prop_types_default.a.oneOf(["auto","staggered","45°"]),yAxisFormat:prop_types_default.a.string,yAxisBounds:prop_types_default.a.arrayOf(prop_types_default.a.number),yAxisLabel:prop_types_default.a.string,yAxisShowMinMax:prop_types_default.a.bool,yIsLogScale:prop_types_default.a.bool,orderBars:prop_types_default.a.bool,isBarStacked:prop_types_default.a.bool,showBarValue:prop_types_default.a.bool,reduceXTicks:prop_types_default.a.bool,showControls:prop_types_default.a.bool,showBrush:prop_types_default.a.oneOf([!0,"yes",!1,"no","auto"]),onBrushEnd:prop_types_default.a.func,yAxis2Format:prop_types_default.a.string,lineInterpolation:prop_types_default.a.string,isDonut:prop_types_default.a.bool,isPieLabelOutside:prop_types_default.a.bool,pieLabelType:prop_types_default.a.oneOf(["key","value","percent","key_value","key_percent"]),showLabels:prop_types_default.a.bool,areaStackedStyle:prop_types_default.a.string,entity:prop_types_default.a.string,maxBubbleSize:prop_types_default.a.number,xField:stringOrObjectWithLabelType,yField:stringOrObjectWithLabelType,sizeField:stringOrObjectWithLabelType,baseColor:rgbObjectType},NOOP=()=>{},formatter=Object(NumberFormatterRegistrySingleton.c)();function nvd3Vis(element,props){const{data:data,width:maxWidth,height:maxHeight,annotationData:annotationData,annotationLayers:annotationLayers=[],areaStackedStyle:areaStackedStyle,baseColor:baseColor,bottomMargin:bottomMargin,colorScheme:colorScheme,comparisonType:comparisonType,contribution:contribution,entity:entity,isBarStacked:isBarStacked,isDonut:isDonut,isPieLabelOutside:isPieLabelOutside,leftMargin:leftMargin,lineInterpolation:lineInterpolation="linear",markerLabels:markerLabels,markerLines:markerLines,markerLineLabels:markerLineLabels,markers:markers,maxBubbleSize:maxBubbleSize,onBrushEnd:onBrushEnd=NOOP,onError:onError=NOOP,orderBars:orderBars,pieLabelType:pieLabelType,rangeLabels:rangeLabels,ranges:ranges,reduceXTicks:reduceXTicks=!1,showBarValue:showBarValue,showBrush:showBrush,showControls:showControls,showLabels:showLabels,showLegend:showLegend,showMarkers:showMarkers,sizeField:sizeField,useRichTooltip:useRichTooltip,vizType:vizType,xAxisFormat:xAxisFormat,numberFormat:numberFormat,xAxisLabel:xAxisLabel,xAxisShowMinMax:xAxisShowMinMax=!1,xField:xField,xIsLogScale:xIsLogScale,xTicksLayout:xTicksLayout,yAxisFormat:yAxisFormat,yAxis2Format:yAxis2Format,yAxisBounds:yAxisBounds,yAxisLabel:yAxisLabel,yAxisShowMinMax:yAxisShowMinMax=!1,yField:yField,yIsLogScale:yIsLogScale}=props,isExplore=null!==document.querySelector("#explorer-container"),container=element;container.innerHTML="";const activeAnnotationLayers=annotationLayers.filter(layer=>layer.show),chartId=container.parentElement&&""!==container.parentElement.id?container.parentElement.id:null;let chart,width=maxWidth,colorKey="key";function isVizTypes(types){return types.includes(vizType)}container.style.width="".concat(maxWidth,"px"),container.style.height="".concat(maxHeight,"px");chartId?Object(utils.p)(chartId):Object(utils.o)(!0),nv_d3_default.a.addGraph((function(){const d3Element=d3_default.a.select(element);d3Element.classed("superset-legacy-chart-nvd3",!0),d3Element.classed("superset-legacy-chart-nvd3-".concat(Object(lodash.kebabCase)(vizType)),!0);let svg=d3Element.select("svg");svg.empty()&&(svg=d3Element.append("svg"));const height="bullet"===vizType?Math.min(maxHeight,50):maxHeight,isTimeSeries=isVizTypes(TIMESERIES_VIZ_TYPES),staggerLabels="staggered"===xTicksLayout,xLabelRotation="auto"===xTicksLayout&&isVizTypes(["column","dist_bar"])||"45°"===xTicksLayout?45:0;if(45===xLabelRotation&&Object(isTruthy.a)(showBrush))return onError(Object(TranslatorSingleton.b)("You cannot use 45° tick layout along with the time range filter")),null;const canShowBrush=Object(isTruthy.a)(showBrush)||"auto"===showBrush&&maxHeight>=480&&"45°"!==xTicksLayout,numberFormatter=Object(NumberFormatterRegistrySingleton.c)(numberFormat);switch(vizType){case"line":canShowBrush?(chart=nv_d3_default.a.models.lineWithFocusChart(),staggerLabels&&(chart.focus.margin({bottom:40}),chart.focusHeight(80)),chart.focus.xScale(d3_default.a.time.scale.utc())):chart=nv_d3_default.a.models.lineChart(),chart.xScale(d3_default.a.time.scale.utc()),chart.interpolate(lineInterpolation),chart.clipEdge(!1);break;case"time_pivot":chart=nv_d3_default.a.models.lineChart(),chart.xScale(d3_default.a.time.scale.utc()),chart.interpolate(lineInterpolation);break;case"dual_line":case"line_multi":chart=nv_d3_default.a.models.multiChart(),chart.interpolate(lineInterpolation);break;case"bar":chart=nv_d3_default.a.models.multiBarChart().showControls(showControls).groupSpacing(.1),reduceXTicks||(width=Object(utils.b)(data,isBarStacked,maxWidth)),chart.width(width),chart.xAxis.showMaxMin(!1),chart.stacked(isBarStacked);break;case"dist_bar":chart=nv_d3_default.a.models.multiBarChart().showControls(showControls).reduceXTicks(reduceXTicks).groupSpacing(.1),chart.xAxis.showMaxMin(!1),chart.stacked(isBarStacked),orderBars&&data.forEach(d=>{d.values.sort((a,b)=>Object(utils.t)(a.x)<Object(utils.t)(b.x)?-1:1)}),reduceXTicks||(width=Object(utils.b)(data,isBarStacked,maxWidth)),chart.width(width);break;case"pie":if(chart=nv_d3_default.a.models.pieChart(),colorKey="x",chart.valueFormat(numberFormatter),isDonut&&chart.donut(!0),chart.showLabels(showLabels),chart.labelsOutside(isPieLabelOutside),chart.labelThreshold(.05),chart.cornerRadius(!0),["key","value","percent"].includes(pieLabelType))chart.labelType(pieLabelType);else if("key_value"===pieLabelType)chart.labelType(d=>"".concat(d.data.x,": ").concat(numberFormatter(d.data.y)));else if("key_percent"===pieLabelType){const total=d3_default.a.sum(data,d=>d.y);chart.tooltip.valueFormatter(d=>"".concat((d/total*100).toFixed(),"%")),chart.labelType(d=>"".concat(d.data.x,": ").concat((d.data.y/total*100).toFixed(),"%"))}chart.margin({top:0});break;case"column":chart=nv_d3_default.a.models.multiBarChart().reduceXTicks(!1);break;case"compare":chart=nv_d3_default.a.models.cumulativeLineChart(),chart.xScale(d3_default.a.time.scale.utc()),chart.useInteractiveGuideline(!0),chart.xAxis.showMaxMin(!1);break;case"bubble":chart=nv_d3_default.a.models.scatterChart(),chart.showDistX(!1),chart.showDistY(!1),chart.tooltip.contentGenerator(d=>Object(utils.h)({point:d.point,entity:entity,xField:xField,yField:yField,sizeField:sizeField,xFormatter:Object(utils.n)(xAxisFormat),yFormatter:Object(utils.n)(yAxisFormat),sizeFormatter:formatter})),chart.pointRange([5,maxBubbleSize**2]),chart.pointDomain([0,d3_default.a.max(data,d=>d3_default.a.max(d.values,v=>v.size))]);break;case"area":chart=nv_d3_default.a.models.stackedAreaChart(),chart.showControls(showControls),chart.style(areaStackedStyle),chart.xScale(d3_default.a.time.scale.utc());break;case"box_plot":colorKey="label",chart=nv_d3_default.a.models.boxPlotChart(),chart.x(d=>d.label),chart.maxBoxWidth(75);break;case"bullet":chart=nv_d3_default.a.models.bulletChart(),data.rangeLabels=rangeLabels,data.ranges=ranges,data.markerLabels=markerLabels,data.markerLines=markerLines,data.markerLineLabels=markerLineLabels,data.markers=markers;break;default:throw new Error("Unrecognized visualization for nvd3".concat(vizType))}let xAxisFormatter;if(chart.margin({left:0,right:0,bottom:0}),showBarValue&&(Object(utils.e)(svg,data,isBarStacked,yAxisFormat),chart.dispatch.on("stateChange.drawBarValues",()=>{Object(utils.e)(svg,data,isBarStacked,yAxisFormat)})),canShowBrush&&onBrushEnd!==NOOP&&chart.focus&&chart.focus.dispatch.on("brush",event=>{const timeRange=Object(utils.r)(event.extent);timeRange&&event.brush.on("brushend",()=>{onBrushEnd(timeRange)})}),chart.xAxis&&chart.xAxis.staggerLabels&&chart.xAxis.staggerLabels(staggerLabels),chart.xAxis&&chart.xAxis.rotateLabels&&chart.xAxis.rotateLabels(xLabelRotation),chart.x2Axis&&chart.x2Axis.staggerLabels&&chart.x2Axis.staggerLabels(staggerLabels),chart.x2Axis&&chart.x2Axis.rotateLabels&&chart.x2Axis.rotateLabels(xLabelRotation),"showLegend"in chart&&void 0!==showLegend&&(width<BREAKPOINTS_small&&"pie"!==vizType?chart.showLegend(!1):chart.showLegend(showLegend)),yIsLogScale&&chart.yScale(d3_default.a.scale.log()),xIsLogScale&&chart.xScale(d3_default.a.scale.log()),isTimeSeries?(xAxisFormatter=Object(TimeFormatterRegistrySingleton.d)(xAxisFormat),chart.interactiveLayer.tooltip.headerFormatter(smartDateVerbose.a)):xAxisFormatter=Object(utils.n)(xAxisFormat),chart.x2Axis&&chart.x2Axis.tickFormat&&chart.x2Axis.tickFormat(xAxisFormatter),chart.xAxis&&chart.xAxis.tickFormat){isVizTypes(["dist_bar","box_plot"])?chart.xAxis.tickFormat(d=>d.length>40?"".concat(d.slice(0,Math.max(0,40)),"…"):d):chart.xAxis.tickFormat(xAxisFormatter)}let yAxisFormatter=Object(utils.n)(yAxisFormat);if(chart.yAxis&&chart.yAxis.tickFormat&&((contribution||"percentage"===comparisonType)&&(yAxisFormatter=Object(NumberFormatterRegistrySingleton.c)(NumberFormats.a.PERCENT_1_POINT)),chart.yAxis.tickFormat(yAxisFormatter)),chart.y2Axis&&chart.y2Axis.tickFormat&&chart.y2Axis.tickFormat(yAxisFormatter),chart.yAxis&&chart.yAxis.ticks(5),chart.y2Axis&&chart.y2Axis.ticks(5),Object(utils.q)(chart.xAxis,xAxisShowMinMax),Object(utils.q)(chart.x2Axis,xAxisShowMinMax),Object(utils.q)(chart.yAxis,yAxisShowMinMax),Object(utils.q)(chart.y2Axis,yAxisShowMinMax),"time_pivot"===vizType){if(baseColor){const{r:r,g:g,b:b}=baseColor;chart.color(d=>{const alpha=0<d.rank?.5*d.perc:1;return"rgba(".concat(r,", ").concat(g,", ").concat(b,", ").concat(alpha,")")})}chart.useInteractiveGuideline(!0),chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils.k)(d,xAxisFormatter,yAxisFormatter))}else if("bullet"!==vizType){const colorFn=getScale(colorScheme);chart.color(d=>d.color||colorFn(Object(utils.a)(d[colorKey])))}if(isVizTypes(["line","area"])&&useRichTooltip&&(chart.useInteractiveGuideline(!0),"line"===vizType?chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils.j)(d,smartDateVerbose.a,yAxisFormatter)):"expand"!==areaStackedStyle&&chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils.g)(d,smartDateVerbose.a,yAxisFormatter))),isVizTypes(["dual_line","line_multi"])){const yAxisFormatter1=Object(NumberFormatterRegistrySingleton.c)(yAxisFormat),yAxisFormatter2=Object(NumberFormatterRegistrySingleton.c)(yAxis2Format);chart.yAxis1.tickFormat(yAxisFormatter1),chart.yAxis2.tickFormat(yAxisFormatter2);const yAxisFormatters=data.map(datum=>1===datum.yAxis?yAxisFormatter1:yAxisFormatter2);chart.useInteractiveGuideline(!0),chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils.i)(d,xAxisFormatter,yAxisFormatters)),"dual_line"===vizType?chart.showLegend(width>BREAKPOINTS_small):chart.showLegend(showLegend)}if(chart.width(width),chart.height(height),svg.datum(data).transition().duration(500).attr("height",height).attr("width",width).call(chart),yIsLogScale&&chart.yAxis.tickFormat(d=>0!==d&&0==Math.log10(d)%1?yAxisFormatter(d):""),0<xLabelRotation){svg.select(".nv-x.nv-axis > g").selectAll("g").selectAll("text").attr("dx",-6.5)}const applyYAxisBounds=()=>{if(chart.yDomain&&Array.isArray(yAxisBounds)&&2===yAxisBounds.length){const[customMin,customMax]=yAxisBounds,hasCustomMin=Object(isDefined.a)(customMin)&&!Number.isNaN(customMin),hasCustomMax=Object(isDefined.a)(customMax)&&!Number.isNaN(customMax);if((hasCustomMin||hasCustomMax)&&"area"===vizType&&"expand"===chart.style())chart.yDomain([0,1]);else if((hasCustomMin||hasCustomMax)&&"area"===vizType&&"stream"===chart.style())chart.yDomain(Object(utils.c)(data));else if(hasCustomMin&&hasCustomMax)chart.yDomain([customMin,customMax]),chart.clipEdge(!0);else if(hasCustomMin||hasCustomMax){let[trueMin,trueMax]=[0,1];"area"===vizType||isVizTypes(["bar","dist_bar"])&&chart.stacked()?[trueMin,trueMax]=Object(utils.c)(data):[trueMin,trueMax]=Object(utils.d)(data);const min=hasCustomMin?customMin:trueMin,max=hasCustomMax?customMax:trueMax;chart.yDomain([min,max]),chart.clipEdge(!0)}}};if(applyYAxisBounds(),chart.dispatch&&chart.dispatch.stateChange&&chart.dispatch.on("stateChange.applyYAxisBounds",applyYAxisBounds),isVizTypes(["dual_line","line_multi"])){const count=chart.yAxis1.ticks(),ticks1=chart.yAxis1.scale().domain(chart.yAxis1.domain()).nice(count).ticks(count),ticks2=chart.yAxis2.scale().domain(chart.yAxis2.domain()).nice(count).ticks(count),difference=ticks1.length-ticks2.length;if(0<ticks1.length&&0<ticks2.length&&0!==difference){const smallest=0>difference?ticks1:ticks2,delta=smallest[1]-smallest[0];for(let i=0;i<Math.abs(difference);i++)0==i%2?smallest.unshift(smallest[0]-delta):smallest.push(smallest[smallest.length-1]+delta);chart.yDomain1([ticks1[0],ticks1[ticks1.length-1]]),chart.yDomain2([ticks2[0],ticks2[ticks2.length-1]]),chart.yAxis1.tickValues(ticks1),chart.yAxis2.tickValues(ticks2)}}if(showMarkers&&(svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1),chart.dispatch.on("stateChange.showMarkers",()=>{setTimeout(()=>{svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1)},10)})),void 0!==chart.yAxis||void 0!==chart.yAxis2){const marginPad=Math.ceil(Math.min(maxWidth*(isExplore?.01:.03),30)),margins=chart.margin();chart.xAxis&&(margins.bottom=28);const maxYAxisLabelWidth=Object(utils.m)(svg,chart.yAxis2?"nv-y1":"nv-y"),maxXAxisLabelHeight=Object(utils.m)(svg,"nv-x");if(margins.left=maxYAxisLabelWidth+marginPad,yAxisLabel&&""!==yAxisLabel&&(margins.left+=25),showBarValue&&(margins.top+=24),xAxisShowMinMax&&(margins.right=Math.max(20,maxXAxisLabelHeight/2)+marginPad),45===xLabelRotation?(margins.bottom=maxXAxisLabelHeight*Math.sin(Math.PI*xLabelRotation/180)+marginPad+30,margins.right=maxXAxisLabelHeight*Math.cos(Math.PI*xLabelRotation/180)+marginPad):staggerLabels&&(margins.bottom=40),isVizTypes(["dual_line","line_multi"])){const maxYAxis2LabelWidth=Object(utils.m)(svg,"nv-y2");margins.right=maxYAxis2LabelWidth+marginPad}if(bottomMargin&&"auto"!==bottomMargin&&(margins.bottom=parseInt(bottomMargin,10)),leftMargin&&"auto"!==leftMargin&&(margins.left=leftMargin),xAxisLabel&&""!==xAxisLabel&&chart.xAxis){margins.bottom+=25;let distance=0;margins.bottom&&!Number.isNaN(margins.bottom)&&(distance=margins.bottom-45),chart.xAxis.axisLabel(xAxisLabel).axisLabelDistance(distance)}if(yAxisLabel&&""!==yAxisLabel&&chart.yAxis){let distance=0;margins.left&&!Number.isNaN(margins.left)&&(distance=margins.left-70),chart.yAxis.axisLabel(yAxisLabel).axisLabelDistance(distance)}if(isTimeSeries&&annotationData&&0<activeAnnotationLayers.length){const timeSeriesAnnotations=activeAnnotationLayers.filter(layer=>layer.annotationType===AnnotationTypes.c.TIME_SERIES).reduce((bushel,a)=>bushel.concat((annotationData[a.name]||[]).map(series=>{if(!series)return{};const key=Array.isArray(series.key)?"".concat(a.name,", ").concat(series.key.join(", ")):"".concat(a.name,", ").concat(series.key);return _objectSpread({},series,{key:key,color:a.color,strokeWidth:a.width,classed:"".concat(a.opacity," ").concat(a.style," nv-timeseries-annotation-layer showMarkers").concat(a.showMarkers," hideLine").concat(a.hideLine)})})),[]);data.push(...timeSeriesAnnotations)}if(chartId&&(chart&&chart.interactiveLayer&&chart.interactiveLayer.tooltip&&chart.interactiveLayer.tooltip.classes([Object(utils.l)(chartId)]),chart&&chart.tooltip&&chart.tooltip.classes([Object(utils.l)(chartId)])),chart.margin(margins),svg.datum(data).transition().duration(500).attr("width",width).attr("height",height).call(chart),window.addEventListener("scroll",Object(lodash.throttle)(()=>Object(utils.o)(!1),250)),isTimeSeries&&0<activeAnnotationLayers.length){const formulas=activeAnnotationLayers.filter(a=>a.annotationType===AnnotationTypes.c.FORMULA).map(a=>_objectSpread({},a,{formula:mathjs_default.a.parse(a.value)}));let xMax,xMin,xScale;if("bar"===vizType?(xMin=d3_default.a.min(data[0].values,d=>d.x),xMax=d3_default.a.max(data[0].values,d=>d.x),xScale=d3_default.a.scale.quantile().domain([xMin,xMax]).range(chart.xAxis.range())):(xMin=chart.xAxis.scale().domain()[0].valueOf(),xMax=chart.xAxis.scale().domain()[1].valueOf(),xScale=chart.xScale?chart.xScale():chart.xAxis.scale?chart.xAxis.scale():d3_default.a.scale.linear()),xScale&&xScale.clamp&&xScale.clamp(!0),0<formulas.length){const xValues=[];if("bar"===vizType){const distinct=data.reduce((xVals,d)=>(d.values.forEach(x=>xVals.add(x.x)),xVals),new Set);xValues.push(...distinct.values()),xValues.sort()}else{let period=Math.min(...data.map(d=>Math.min(...d.values.slice(1).map((v,i)=>v.x-d.values[i].x))));const dataPoints=(xMax-xMin)/(period||1);period=100>dataPoints?(xMax-xMin)/100:period,period=500<dataPoints?(xMax-xMin)/500:period,xValues.push(xMin);for(let x=xMin;x<xMax;x+=period)xValues.push(x);xValues.push(xMax)}const formulaData=formulas.map(fo=>({key:fo.name,values:xValues.map(x=>({y:fo.formula.eval({x:x}),x:x})),color:fo.color,strokeWidth:fo.width,classed:"".concat(fo.opacity," ").concat(fo.style)}));data.push(...formulaData)}const xAxis=chart.xAxis1?chart.xAxis1:chart.xAxis,yAxis=chart.yAxis1?chart.yAxis1:chart.yAxis,chartWidth=xAxis.scale().range()[1],annotationHeight=yAxis.scale().range()[0];annotationData&&(activeAnnotationLayers.filter(x=>x.annotationType===AnnotationTypes.c.EVENT&&annotationData&&annotationData[x.name]).forEach((config,index)=>{const e=Object(AnnotationTypes.b)(config),annotations=d3_default.a.select(element).select(".nv-wrap").append("g").attr("class","nv-event-annotation-layer-".concat(index)),aColor=e.color||getColor(Object(utils.a)(e.name),colorScheme),tip=Object(utils.s)(_objectSpread({},e,{annotationTipClass:"arrow-down nv-event-annotation-layer-".concat(config.sourceType)})),records=(annotationData[e.name].records||[]).map(r=>{const timeValue=new Date(moment_default.a.utc(r[e.timeColumn]));return _objectSpread({},r,{[e.timeColumn]:timeValue})}).filter(record=>!Number.isNaN(record[e.timeColumn].getMilliseconds()));0<records.length&&annotations.selectAll("line").data(records).enter().append("line").attr({x1:d=>xScale(new Date(d[e.timeColumn])),y1:0,x2:d=>xScale(new Date(d[e.timeColumn])),y2:annotationHeight}).attr("class","".concat(e.opacity," ").concat(e.style)).style("stroke",aColor).style("stroke-width",e.width).on("mouseover",tip.show).on("mouseout",tip.hide).call(tip),chart.focus&&chart.focus.dispatch.on("onBrush.event-annotation",()=>{annotations.selectAll("line").data(records).attr({x1:d=>xScale(new Date(d[e.timeColumn])),y1:0,x2:d=>xScale(new Date(d[e.timeColumn])),y2:annotationHeight,opacity:d=>{const x=xScale(new Date(d[e.timeColumn]));return 0<x&&x<chartWidth?1:0}})})}),activeAnnotationLayers.filter(x=>x.annotationType===AnnotationTypes.c.INTERVAL&&annotationData&&annotationData[x.name]).forEach((config,index)=>{const e=Object(AnnotationTypes.b)(config),annotations=d3_default.a.select(element).select(".nv-wrap").append("g").attr("class","nv-interval-annotation-layer-".concat(index)),aColor=e.color||getColor(Object(utils.a)(e.name),colorScheme),tip=Object(utils.s)(e),records=(annotationData[e.name].records||[]).map(r=>{const timeValue=new Date(moment_default.a.utc(r[e.timeColumn])),intervalEndValue=new Date(moment_default.a.utc(r[e.intervalEndColumn]));return _objectSpread({},r,{[e.timeColumn]:timeValue,[e.intervalEndColumn]:intervalEndValue})}).filter(record=>!Number.isNaN(record[e.timeColumn].getMilliseconds())&&!Number.isNaN(record[e.intervalEndColumn].getMilliseconds()));0<records.length&&annotations.selectAll("rect").data(records).enter().append("rect").attr({x:d=>Math.min(xScale(new Date(d[e.timeColumn])),xScale(new Date(d[e.intervalEndColumn]))),y:0,width:d=>Math.max(Math.abs(xScale(new Date(d[e.intervalEndColumn]))-xScale(new Date(d[e.timeColumn]))),1),height:annotationHeight}).attr("class","".concat(e.opacity," ").concat(e.style)).style("stroke-width",e.width).style("stroke",aColor).style("fill",aColor).style("fill-opacity",.2).on("mouseover",tip.show).on("mouseout",tip.hide).call(tip),chart.focus&&chart.focus.dispatch.on("onBrush.interval-annotation",()=>{annotations.selectAll("rect").data(records).attr({x:d=>xScale(new Date(d[e.timeColumn])),width:d=>{const x1=xScale(new Date(d[e.timeColumn]));return xScale(new Date(d[e.intervalEndColumn]))-x1}})})})),svg.datum(data).attr("height",height).attr("width",width).call(chart),chart.dispatch.on("renderEnd.timeseries-annotation",()=>{d3_default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.showMarkerstrue .nv-point").style("stroke-opacity",1).style("fill-opacity",1),d3_default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.hideLinetrue").style("stroke-width",0)})}}return Object(utils.u)(chart,maxWidth),chart}))}nvd3Vis.displayName="NVD3",nvd3Vis.propTypes=propTypes;var src_NVD3Vis=nvd3Vis;__webpack_exports__.default=Object(reactify.a)(src_NVD3Vis,{componentWillUnmount:function componentWillUnmount(){const{id:id}=this.props;null!=id?Object(utils.p)(id):Object(utils.o)(!0)}})}}]);
//# sourceMappingURL=2.5e71a4c0ea6defa4f18c.bundle.js.map