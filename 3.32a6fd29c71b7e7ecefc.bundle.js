(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{2197:function(module,exports,__webpack_require__){eval('var map = {\n\t"./af": 1972,\n\t"./af.js": 1972,\n\t"./ar": 1973,\n\t"./ar-dz": 1974,\n\t"./ar-dz.js": 1974,\n\t"./ar-kw": 1975,\n\t"./ar-kw.js": 1975,\n\t"./ar-ly": 1976,\n\t"./ar-ly.js": 1976,\n\t"./ar-ma": 1977,\n\t"./ar-ma.js": 1977,\n\t"./ar-sa": 1978,\n\t"./ar-sa.js": 1978,\n\t"./ar-tn": 1979,\n\t"./ar-tn.js": 1979,\n\t"./ar.js": 1973,\n\t"./az": 1980,\n\t"./az.js": 1980,\n\t"./be": 1981,\n\t"./be.js": 1981,\n\t"./bg": 1982,\n\t"./bg.js": 1982,\n\t"./bm": 1983,\n\t"./bm.js": 1983,\n\t"./bn": 1984,\n\t"./bn.js": 1984,\n\t"./bo": 1985,\n\t"./bo.js": 1985,\n\t"./br": 1986,\n\t"./br.js": 1986,\n\t"./bs": 1987,\n\t"./bs.js": 1987,\n\t"./ca": 1988,\n\t"./ca.js": 1988,\n\t"./cs": 1989,\n\t"./cs.js": 1989,\n\t"./cv": 1990,\n\t"./cv.js": 1990,\n\t"./cy": 1991,\n\t"./cy.js": 1991,\n\t"./da": 1992,\n\t"./da.js": 1992,\n\t"./de": 1993,\n\t"./de-at": 1994,\n\t"./de-at.js": 1994,\n\t"./de-ch": 1995,\n\t"./de-ch.js": 1995,\n\t"./de.js": 1993,\n\t"./dv": 1996,\n\t"./dv.js": 1996,\n\t"./el": 1997,\n\t"./el.js": 1997,\n\t"./en-au": 1998,\n\t"./en-au.js": 1998,\n\t"./en-ca": 1999,\n\t"./en-ca.js": 1999,\n\t"./en-gb": 2000,\n\t"./en-gb.js": 2000,\n\t"./en-ie": 2001,\n\t"./en-ie.js": 2001,\n\t"./en-il": 2002,\n\t"./en-il.js": 2002,\n\t"./en-in": 2003,\n\t"./en-in.js": 2003,\n\t"./en-nz": 2004,\n\t"./en-nz.js": 2004,\n\t"./en-sg": 2005,\n\t"./en-sg.js": 2005,\n\t"./eo": 2006,\n\t"./eo.js": 2006,\n\t"./es": 2007,\n\t"./es-do": 2008,\n\t"./es-do.js": 2008,\n\t"./es-us": 2009,\n\t"./es-us.js": 2009,\n\t"./es.js": 2007,\n\t"./et": 2010,\n\t"./et.js": 2010,\n\t"./eu": 2011,\n\t"./eu.js": 2011,\n\t"./fa": 2012,\n\t"./fa.js": 2012,\n\t"./fi": 2013,\n\t"./fi.js": 2013,\n\t"./fil": 2014,\n\t"./fil.js": 2014,\n\t"./fo": 2015,\n\t"./fo.js": 2015,\n\t"./fr": 2016,\n\t"./fr-ca": 2017,\n\t"./fr-ca.js": 2017,\n\t"./fr-ch": 2018,\n\t"./fr-ch.js": 2018,\n\t"./fr.js": 2016,\n\t"./fy": 2019,\n\t"./fy.js": 2019,\n\t"./ga": 2020,\n\t"./ga.js": 2020,\n\t"./gd": 2021,\n\t"./gd.js": 2021,\n\t"./gl": 2022,\n\t"./gl.js": 2022,\n\t"./gom-deva": 2023,\n\t"./gom-deva.js": 2023,\n\t"./gom-latn": 2024,\n\t"./gom-latn.js": 2024,\n\t"./gu": 2025,\n\t"./gu.js": 2025,\n\t"./he": 2026,\n\t"./he.js": 2026,\n\t"./hi": 2027,\n\t"./hi.js": 2027,\n\t"./hr": 2028,\n\t"./hr.js": 2028,\n\t"./hu": 2029,\n\t"./hu.js": 2029,\n\t"./hy-am": 2030,\n\t"./hy-am.js": 2030,\n\t"./id": 2031,\n\t"./id.js": 2031,\n\t"./is": 2032,\n\t"./is.js": 2032,\n\t"./it": 2033,\n\t"./it-ch": 2034,\n\t"./it-ch.js": 2034,\n\t"./it.js": 2033,\n\t"./ja": 2035,\n\t"./ja.js": 2035,\n\t"./jv": 2036,\n\t"./jv.js": 2036,\n\t"./ka": 2037,\n\t"./ka.js": 2037,\n\t"./kk": 2038,\n\t"./kk.js": 2038,\n\t"./km": 2039,\n\t"./km.js": 2039,\n\t"./kn": 2040,\n\t"./kn.js": 2040,\n\t"./ko": 2041,\n\t"./ko.js": 2041,\n\t"./ku": 2042,\n\t"./ku.js": 2042,\n\t"./ky": 2043,\n\t"./ky.js": 2043,\n\t"./lb": 2044,\n\t"./lb.js": 2044,\n\t"./lo": 2045,\n\t"./lo.js": 2045,\n\t"./lt": 2046,\n\t"./lt.js": 2046,\n\t"./lv": 2047,\n\t"./lv.js": 2047,\n\t"./me": 2048,\n\t"./me.js": 2048,\n\t"./mi": 2049,\n\t"./mi.js": 2049,\n\t"./mk": 2050,\n\t"./mk.js": 2050,\n\t"./ml": 2051,\n\t"./ml.js": 2051,\n\t"./mn": 2052,\n\t"./mn.js": 2052,\n\t"./mr": 2053,\n\t"./mr.js": 2053,\n\t"./ms": 2054,\n\t"./ms-my": 2055,\n\t"./ms-my.js": 2055,\n\t"./ms.js": 2054,\n\t"./mt": 2056,\n\t"./mt.js": 2056,\n\t"./my": 2057,\n\t"./my.js": 2057,\n\t"./nb": 2058,\n\t"./nb.js": 2058,\n\t"./ne": 2059,\n\t"./ne.js": 2059,\n\t"./nl": 2060,\n\t"./nl-be": 2061,\n\t"./nl-be.js": 2061,\n\t"./nl.js": 2060,\n\t"./nn": 2062,\n\t"./nn.js": 2062,\n\t"./oc-lnc": 2063,\n\t"./oc-lnc.js": 2063,\n\t"./pa-in": 2064,\n\t"./pa-in.js": 2064,\n\t"./pl": 2065,\n\t"./pl.js": 2065,\n\t"./pt": 2066,\n\t"./pt-br": 2067,\n\t"./pt-br.js": 2067,\n\t"./pt.js": 2066,\n\t"./ro": 2068,\n\t"./ro.js": 2068,\n\t"./ru": 2069,\n\t"./ru.js": 2069,\n\t"./sd": 2070,\n\t"./sd.js": 2070,\n\t"./se": 2071,\n\t"./se.js": 2071,\n\t"./si": 2072,\n\t"./si.js": 2072,\n\t"./sk": 2073,\n\t"./sk.js": 2073,\n\t"./sl": 2074,\n\t"./sl.js": 2074,\n\t"./sq": 2075,\n\t"./sq.js": 2075,\n\t"./sr": 2076,\n\t"./sr-cyrl": 2077,\n\t"./sr-cyrl.js": 2077,\n\t"./sr.js": 2076,\n\t"./ss": 2078,\n\t"./ss.js": 2078,\n\t"./sv": 2079,\n\t"./sv.js": 2079,\n\t"./sw": 2080,\n\t"./sw.js": 2080,\n\t"./ta": 2081,\n\t"./ta.js": 2081,\n\t"./te": 2082,\n\t"./te.js": 2082,\n\t"./tet": 2083,\n\t"./tet.js": 2083,\n\t"./tg": 2084,\n\t"./tg.js": 2084,\n\t"./th": 2085,\n\t"./th.js": 2085,\n\t"./tk": 2086,\n\t"./tk.js": 2086,\n\t"./tl-ph": 2087,\n\t"./tl-ph.js": 2087,\n\t"./tlh": 2088,\n\t"./tlh.js": 2088,\n\t"./tr": 2089,\n\t"./tr.js": 2089,\n\t"./tzl": 2090,\n\t"./tzl.js": 2090,\n\t"./tzm": 2091,\n\t"./tzm-latn": 2092,\n\t"./tzm-latn.js": 2092,\n\t"./tzm.js": 2091,\n\t"./ug-cn": 2093,\n\t"./ug-cn.js": 2093,\n\t"./uk": 2094,\n\t"./uk.js": 2094,\n\t"./ur": 2095,\n\t"./ur.js": 2095,\n\t"./uz": 2096,\n\t"./uz-latn": 2097,\n\t"./uz-latn.js": 2097,\n\t"./uz.js": 2096,\n\t"./vi": 2098,\n\t"./vi.js": 2098,\n\t"./x-pseudo": 2099,\n\t"./x-pseudo.js": 2099,\n\t"./yo": 2100,\n\t"./yo.js": 2100,\n\t"./zh-cn": 2101,\n\t"./zh-cn.js": 2101,\n\t"./zh-hk": 2102,\n\t"./zh-hk.js": 2102,\n\t"./zh-mo": 2103,\n\t"./zh-mo.js": 2103,\n\t"./zh-tw": 2104,\n\t"./zh-tw.js": 2104\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2197;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE5Ny5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUgc3luYyBeXFwuXFwvLiokPzUxZTQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcCA9IHtcblx0XCIuL2FmXCI6IDE5NzIsXG5cdFwiLi9hZi5qc1wiOiAxOTcyLFxuXHRcIi4vYXJcIjogMTk3Myxcblx0XCIuL2FyLWR6XCI6IDE5NzQsXG5cdFwiLi9hci1kei5qc1wiOiAxOTc0LFxuXHRcIi4vYXIta3dcIjogMTk3NSxcblx0XCIuL2FyLWt3LmpzXCI6IDE5NzUsXG5cdFwiLi9hci1seVwiOiAxOTc2LFxuXHRcIi4vYXItbHkuanNcIjogMTk3Nixcblx0XCIuL2FyLW1hXCI6IDE5NzcsXG5cdFwiLi9hci1tYS5qc1wiOiAxOTc3LFxuXHRcIi4vYXItc2FcIjogMTk3OCxcblx0XCIuL2FyLXNhLmpzXCI6IDE5NzgsXG5cdFwiLi9hci10blwiOiAxOTc5LFxuXHRcIi4vYXItdG4uanNcIjogMTk3OSxcblx0XCIuL2FyLmpzXCI6IDE5NzMsXG5cdFwiLi9helwiOiAxOTgwLFxuXHRcIi4vYXouanNcIjogMTk4MCxcblx0XCIuL2JlXCI6IDE5ODEsXG5cdFwiLi9iZS5qc1wiOiAxOTgxLFxuXHRcIi4vYmdcIjogMTk4Mixcblx0XCIuL2JnLmpzXCI6IDE5ODIsXG5cdFwiLi9ibVwiOiAxOTgzLFxuXHRcIi4vYm0uanNcIjogMTk4Myxcblx0XCIuL2JuXCI6IDE5ODQsXG5cdFwiLi9ibi5qc1wiOiAxOTg0LFxuXHRcIi4vYm9cIjogMTk4NSxcblx0XCIuL2JvLmpzXCI6IDE5ODUsXG5cdFwiLi9iclwiOiAxOTg2LFxuXHRcIi4vYnIuanNcIjogMTk4Nixcblx0XCIuL2JzXCI6IDE5ODcsXG5cdFwiLi9icy5qc1wiOiAxOTg3LFxuXHRcIi4vY2FcIjogMTk4OCxcblx0XCIuL2NhLmpzXCI6IDE5ODgsXG5cdFwiLi9jc1wiOiAxOTg5LFxuXHRcIi4vY3MuanNcIjogMTk4OSxcblx0XCIuL2N2XCI6IDE5OTAsXG5cdFwiLi9jdi5qc1wiOiAxOTkwLFxuXHRcIi4vY3lcIjogMTk5MSxcblx0XCIuL2N5LmpzXCI6IDE5OTEsXG5cdFwiLi9kYVwiOiAxOTkyLFxuXHRcIi4vZGEuanNcIjogMTk5Mixcblx0XCIuL2RlXCI6IDE5OTMsXG5cdFwiLi9kZS1hdFwiOiAxOTk0LFxuXHRcIi4vZGUtYXQuanNcIjogMTk5NCxcblx0XCIuL2RlLWNoXCI6IDE5OTUsXG5cdFwiLi9kZS1jaC5qc1wiOiAxOTk1LFxuXHRcIi4vZGUuanNcIjogMTk5Myxcblx0XCIuL2R2XCI6IDE5OTYsXG5cdFwiLi9kdi5qc1wiOiAxOTk2LFxuXHRcIi4vZWxcIjogMTk5Nyxcblx0XCIuL2VsLmpzXCI6IDE5OTcsXG5cdFwiLi9lbi1hdVwiOiAxOTk4LFxuXHRcIi4vZW4tYXUuanNcIjogMTk5OCxcblx0XCIuL2VuLWNhXCI6IDE5OTksXG5cdFwiLi9lbi1jYS5qc1wiOiAxOTk5LFxuXHRcIi4vZW4tZ2JcIjogMjAwMCxcblx0XCIuL2VuLWdiLmpzXCI6IDIwMDAsXG5cdFwiLi9lbi1pZVwiOiAyMDAxLFxuXHRcIi4vZW4taWUuanNcIjogMjAwMSxcblx0XCIuL2VuLWlsXCI6IDIwMDIsXG5cdFwiLi9lbi1pbC5qc1wiOiAyMDAyLFxuXHRcIi4vZW4taW5cIjogMjAwMyxcblx0XCIuL2VuLWluLmpzXCI6IDIwMDMsXG5cdFwiLi9lbi1uelwiOiAyMDA0LFxuXHRcIi4vZW4tbnouanNcIjogMjAwNCxcblx0XCIuL2VuLXNnXCI6IDIwMDUsXG5cdFwiLi9lbi1zZy5qc1wiOiAyMDA1LFxuXHRcIi4vZW9cIjogMjAwNixcblx0XCIuL2VvLmpzXCI6IDIwMDYsXG5cdFwiLi9lc1wiOiAyMDA3LFxuXHRcIi4vZXMtZG9cIjogMjAwOCxcblx0XCIuL2VzLWRvLmpzXCI6IDIwMDgsXG5cdFwiLi9lcy11c1wiOiAyMDA5LFxuXHRcIi4vZXMtdXMuanNcIjogMjAwOSxcblx0XCIuL2VzLmpzXCI6IDIwMDcsXG5cdFwiLi9ldFwiOiAyMDEwLFxuXHRcIi4vZXQuanNcIjogMjAxMCxcblx0XCIuL2V1XCI6IDIwMTEsXG5cdFwiLi9ldS5qc1wiOiAyMDExLFxuXHRcIi4vZmFcIjogMjAxMixcblx0XCIuL2ZhLmpzXCI6IDIwMTIsXG5cdFwiLi9maVwiOiAyMDEzLFxuXHRcIi4vZmkuanNcIjogMjAxMyxcblx0XCIuL2ZpbFwiOiAyMDE0LFxuXHRcIi4vZmlsLmpzXCI6IDIwMTQsXG5cdFwiLi9mb1wiOiAyMDE1LFxuXHRcIi4vZm8uanNcIjogMjAxNSxcblx0XCIuL2ZyXCI6IDIwMTYsXG5cdFwiLi9mci1jYVwiOiAyMDE3LFxuXHRcIi4vZnItY2EuanNcIjogMjAxNyxcblx0XCIuL2ZyLWNoXCI6IDIwMTgsXG5cdFwiLi9mci1jaC5qc1wiOiAyMDE4LFxuXHRcIi4vZnIuanNcIjogMjAxNixcblx0XCIuL2Z5XCI6IDIwMTksXG5cdFwiLi9meS5qc1wiOiAyMDE5LFxuXHRcIi4vZ2FcIjogMjAyMCxcblx0XCIuL2dhLmpzXCI6IDIwMjAsXG5cdFwiLi9nZFwiOiAyMDIxLFxuXHRcIi4vZ2QuanNcIjogMjAyMSxcblx0XCIuL2dsXCI6IDIwMjIsXG5cdFwiLi9nbC5qc1wiOiAyMDIyLFxuXHRcIi4vZ29tLWRldmFcIjogMjAyMyxcblx0XCIuL2dvbS1kZXZhLmpzXCI6IDIwMjMsXG5cdFwiLi9nb20tbGF0blwiOiAyMDI0LFxuXHRcIi4vZ29tLWxhdG4uanNcIjogMjAyNCxcblx0XCIuL2d1XCI6IDIwMjUsXG5cdFwiLi9ndS5qc1wiOiAyMDI1LFxuXHRcIi4vaGVcIjogMjAyNixcblx0XCIuL2hlLmpzXCI6IDIwMjYsXG5cdFwiLi9oaVwiOiAyMDI3LFxuXHRcIi4vaGkuanNcIjogMjAyNyxcblx0XCIuL2hyXCI6IDIwMjgsXG5cdFwiLi9oci5qc1wiOiAyMDI4LFxuXHRcIi4vaHVcIjogMjAyOSxcblx0XCIuL2h1LmpzXCI6IDIwMjksXG5cdFwiLi9oeS1hbVwiOiAyMDMwLFxuXHRcIi4vaHktYW0uanNcIjogMjAzMCxcblx0XCIuL2lkXCI6IDIwMzEsXG5cdFwiLi9pZC5qc1wiOiAyMDMxLFxuXHRcIi4vaXNcIjogMjAzMixcblx0XCIuL2lzLmpzXCI6IDIwMzIsXG5cdFwiLi9pdFwiOiAyMDMzLFxuXHRcIi4vaXQtY2hcIjogMjAzNCxcblx0XCIuL2l0LWNoLmpzXCI6IDIwMzQsXG5cdFwiLi9pdC5qc1wiOiAyMDMzLFxuXHRcIi4vamFcIjogMjAzNSxcblx0XCIuL2phLmpzXCI6IDIwMzUsXG5cdFwiLi9qdlwiOiAyMDM2LFxuXHRcIi4vanYuanNcIjogMjAzNixcblx0XCIuL2thXCI6IDIwMzcsXG5cdFwiLi9rYS5qc1wiOiAyMDM3LFxuXHRcIi4va2tcIjogMjAzOCxcblx0XCIuL2trLmpzXCI6IDIwMzgsXG5cdFwiLi9rbVwiOiAyMDM5LFxuXHRcIi4va20uanNcIjogMjAzOSxcblx0XCIuL2tuXCI6IDIwNDAsXG5cdFwiLi9rbi5qc1wiOiAyMDQwLFxuXHRcIi4va29cIjogMjA0MSxcblx0XCIuL2tvLmpzXCI6IDIwNDEsXG5cdFwiLi9rdVwiOiAyMDQyLFxuXHRcIi4va3UuanNcIjogMjA0Mixcblx0XCIuL2t5XCI6IDIwNDMsXG5cdFwiLi9reS5qc1wiOiAyMDQzLFxuXHRcIi4vbGJcIjogMjA0NCxcblx0XCIuL2xiLmpzXCI6IDIwNDQsXG5cdFwiLi9sb1wiOiAyMDQ1LFxuXHRcIi4vbG8uanNcIjogMjA0NSxcblx0XCIuL2x0XCI6IDIwNDYsXG5cdFwiLi9sdC5qc1wiOiAyMDQ2LFxuXHRcIi4vbHZcIjogMjA0Nyxcblx0XCIuL2x2LmpzXCI6IDIwNDcsXG5cdFwiLi9tZVwiOiAyMDQ4LFxuXHRcIi4vbWUuanNcIjogMjA0OCxcblx0XCIuL21pXCI6IDIwNDksXG5cdFwiLi9taS5qc1wiOiAyMDQ5LFxuXHRcIi4vbWtcIjogMjA1MCxcblx0XCIuL21rLmpzXCI6IDIwNTAsXG5cdFwiLi9tbFwiOiAyMDUxLFxuXHRcIi4vbWwuanNcIjogMjA1MSxcblx0XCIuL21uXCI6IDIwNTIsXG5cdFwiLi9tbi5qc1wiOiAyMDUyLFxuXHRcIi4vbXJcIjogMjA1Myxcblx0XCIuL21yLmpzXCI6IDIwNTMsXG5cdFwiLi9tc1wiOiAyMDU0LFxuXHRcIi4vbXMtbXlcIjogMjA1NSxcblx0XCIuL21zLW15LmpzXCI6IDIwNTUsXG5cdFwiLi9tcy5qc1wiOiAyMDU0LFxuXHRcIi4vbXRcIjogMjA1Nixcblx0XCIuL210LmpzXCI6IDIwNTYsXG5cdFwiLi9teVwiOiAyMDU3LFxuXHRcIi4vbXkuanNcIjogMjA1Nyxcblx0XCIuL25iXCI6IDIwNTgsXG5cdFwiLi9uYi5qc1wiOiAyMDU4LFxuXHRcIi4vbmVcIjogMjA1OSxcblx0XCIuL25lLmpzXCI6IDIwNTksXG5cdFwiLi9ubFwiOiAyMDYwLFxuXHRcIi4vbmwtYmVcIjogMjA2MSxcblx0XCIuL25sLWJlLmpzXCI6IDIwNjEsXG5cdFwiLi9ubC5qc1wiOiAyMDYwLFxuXHRcIi4vbm5cIjogMjA2Mixcblx0XCIuL25uLmpzXCI6IDIwNjIsXG5cdFwiLi9vYy1sbmNcIjogMjA2Myxcblx0XCIuL29jLWxuYy5qc1wiOiAyMDYzLFxuXHRcIi4vcGEtaW5cIjogMjA2NCxcblx0XCIuL3BhLWluLmpzXCI6IDIwNjQsXG5cdFwiLi9wbFwiOiAyMDY1LFxuXHRcIi4vcGwuanNcIjogMjA2NSxcblx0XCIuL3B0XCI6IDIwNjYsXG5cdFwiLi9wdC1iclwiOiAyMDY3LFxuXHRcIi4vcHQtYnIuanNcIjogMjA2Nyxcblx0XCIuL3B0LmpzXCI6IDIwNjYsXG5cdFwiLi9yb1wiOiAyMDY4LFxuXHRcIi4vcm8uanNcIjogMjA2OCxcblx0XCIuL3J1XCI6IDIwNjksXG5cdFwiLi9ydS5qc1wiOiAyMDY5LFxuXHRcIi4vc2RcIjogMjA3MCxcblx0XCIuL3NkLmpzXCI6IDIwNzAsXG5cdFwiLi9zZVwiOiAyMDcxLFxuXHRcIi4vc2UuanNcIjogMjA3MSxcblx0XCIuL3NpXCI6IDIwNzIsXG5cdFwiLi9zaS5qc1wiOiAyMDcyLFxuXHRcIi4vc2tcIjogMjA3Myxcblx0XCIuL3NrLmpzXCI6IDIwNzMsXG5cdFwiLi9zbFwiOiAyMDc0LFxuXHRcIi4vc2wuanNcIjogMjA3NCxcblx0XCIuL3NxXCI6IDIwNzUsXG5cdFwiLi9zcS5qc1wiOiAyMDc1LFxuXHRcIi4vc3JcIjogMjA3Nixcblx0XCIuL3NyLWN5cmxcIjogMjA3Nyxcblx0XCIuL3NyLWN5cmwuanNcIjogMjA3Nyxcblx0XCIuL3NyLmpzXCI6IDIwNzYsXG5cdFwiLi9zc1wiOiAyMDc4LFxuXHRcIi4vc3MuanNcIjogMjA3OCxcblx0XCIuL3N2XCI6IDIwNzksXG5cdFwiLi9zdi5qc1wiOiAyMDc5LFxuXHRcIi4vc3dcIjogMjA4MCxcblx0XCIuL3N3LmpzXCI6IDIwODAsXG5cdFwiLi90YVwiOiAyMDgxLFxuXHRcIi4vdGEuanNcIjogMjA4MSxcblx0XCIuL3RlXCI6IDIwODIsXG5cdFwiLi90ZS5qc1wiOiAyMDgyLFxuXHRcIi4vdGV0XCI6IDIwODMsXG5cdFwiLi90ZXQuanNcIjogMjA4Myxcblx0XCIuL3RnXCI6IDIwODQsXG5cdFwiLi90Zy5qc1wiOiAyMDg0LFxuXHRcIi4vdGhcIjogMjA4NSxcblx0XCIuL3RoLmpzXCI6IDIwODUsXG5cdFwiLi90a1wiOiAyMDg2LFxuXHRcIi4vdGsuanNcIjogMjA4Nixcblx0XCIuL3RsLXBoXCI6IDIwODcsXG5cdFwiLi90bC1waC5qc1wiOiAyMDg3LFxuXHRcIi4vdGxoXCI6IDIwODgsXG5cdFwiLi90bGguanNcIjogMjA4OCxcblx0XCIuL3RyXCI6IDIwODksXG5cdFwiLi90ci5qc1wiOiAyMDg5LFxuXHRcIi4vdHpsXCI6IDIwOTAsXG5cdFwiLi90emwuanNcIjogMjA5MCxcblx0XCIuL3R6bVwiOiAyMDkxLFxuXHRcIi4vdHptLWxhdG5cIjogMjA5Mixcblx0XCIuL3R6bS1sYXRuLmpzXCI6IDIwOTIsXG5cdFwiLi90em0uanNcIjogMjA5MSxcblx0XCIuL3VnLWNuXCI6IDIwOTMsXG5cdFwiLi91Zy1jbi5qc1wiOiAyMDkzLFxuXHRcIi4vdWtcIjogMjA5NCxcblx0XCIuL3VrLmpzXCI6IDIwOTQsXG5cdFwiLi91clwiOiAyMDk1LFxuXHRcIi4vdXIuanNcIjogMjA5NSxcblx0XCIuL3V6XCI6IDIwOTYsXG5cdFwiLi91ei1sYXRuXCI6IDIwOTcsXG5cdFwiLi91ei1sYXRuLmpzXCI6IDIwOTcsXG5cdFwiLi91ei5qc1wiOiAyMDk2LFxuXHRcIi4vdmlcIjogMjA5OCxcblx0XCIuL3ZpLmpzXCI6IDIwOTgsXG5cdFwiLi94LXBzZXVkb1wiOiAyMDk5LFxuXHRcIi4veC1wc2V1ZG8uanNcIjogMjA5OSxcblx0XCIuL3lvXCI6IDIxMDAsXG5cdFwiLi95by5qc1wiOiAyMTAwLFxuXHRcIi4vemgtY25cIjogMjEwMSxcblx0XCIuL3poLWNuLmpzXCI6IDIxMDEsXG5cdFwiLi96aC1oa1wiOiAyMTAyLFxuXHRcIi4vemgtaGsuanNcIjogMjEwMixcblx0XCIuL3poLW1vXCI6IDIxMDMsXG5cdFwiLi96aC1tby5qc1wiOiAyMTAzLFxuXHRcIi4vemgtdHdcIjogMjEwNCxcblx0XCIuL3poLXR3LmpzXCI6IDIxMDRcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAyMTk3OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2197\n')},2528:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/chart/components/reactify.tsx\nvar reactify = __webpack_require__(1014);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/style/index.ts\nvar style = __webpack_require__(434);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(56);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(52);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(107);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/d3/d3.js\nvar d3 = __webpack_require__(153);\nvar d3_default = /*#__PURE__*/__webpack_require__.n(d3);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/nvd3-fork/build/nv.d3.js\nvar nv_d3 = __webpack_require__(2441);\nvar nv_d3_default = /*#__PURE__*/__webpack_require__.n(nv_d3);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/mathjs/lib/esm/entry/impureFunctionsAny.generated.js\nvar impureFunctionsAny_generated = __webpack_require__(1044);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/moment/moment.js\nvar moment = __webpack_require__(1900);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/color/index.ts + 3 modules\nvar color = __webpack_require__(825);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/number-format/NumberFormatterRegistrySingleton.ts\nvar NumberFormatterRegistrySingleton = __webpack_require__(148);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/translation/TranslatorSingleton.ts + 1 modules\nvar TranslatorSingleton = __webpack_require__(15);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/number-format/NumberFormats.ts\nvar NumberFormats = __webpack_require__(149);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/time-format/TimeFormatterRegistrySingleton.ts + 5 modules\nvar TimeFormatterRegistrySingleton = __webpack_require__(132);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/time-format/formatters/smartDateVerbose.ts\nvar smartDateVerbose = __webpack_require__(1010);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/utils/isDefined.ts\nvar isDefined = __webpack_require__(450);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/node_modules/nvd3-fork/build/nv.d3.css\nvar build_nv_d3 = __webpack_require__(2442);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-preset-chart-nvd3/src/vendor/superset/AnnotationTypes.js\nvar AnnotationTypes = __webpack_require__(121);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-preset-chart-nvd3/src/utils/isTruthy.js\nvar isTruthy = __webpack_require__(1004);\n\n// EXTERNAL MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-preset-chart-nvd3/src/utils.js\nvar utils = __webpack_require__(849);\n\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-preset-chart-nvd3/src/PropTypes.js\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ /* eslint-disable react/sort-prop-types */const numberOrAutoType=prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.oneOf(["auto"])]);const stringOrObjectWithLabelType=prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.shape({label:prop_types_default.a.string})]);const rgbObjectType=prop_types_default.a.shape({r:prop_types_default.a.number.isRequired,g:prop_types_default.a.number.isRequired,b:prop_types_default.a.number.isRequired});const numericXYType=prop_types_default.a.shape({x:prop_types_default.a.number,y:prop_types_default.a.number});const categoryAndValueXYType=prop_types_default.a.shape({x:prop_types_default.a.string,y:prop_types_default.a.number});const boxPlotValueType=prop_types_default.a.shape({outliers:prop_types_default.a.arrayOf(prop_types_default.a.number),Q1:prop_types_default.a.number,Q2:prop_types_default.a.number,Q3:prop_types_default.a.number,whisker_high:prop_types_default.a.number,whisker_low:prop_types_default.a.number});const bulletDataType=prop_types_default.a.shape({markerLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),markerLineLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),markerLines:prop_types_default.a.arrayOf(prop_types_default.a.number),markers:prop_types_default.a.arrayOf(prop_types_default.a.number),measures:prop_types_default.a.arrayOf(prop_types_default.a.number),rangeLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),ranges:prop_types_default.a.arrayOf(prop_types_default.a.number)});const annotationLayerType=prop_types_default.a.shape({annotationType:prop_types_default.a.oneOf(Object.keys(AnnotationTypes["a" /* ANNOTATION_TYPES */])),color:prop_types_default.a.string,hideLine:prop_types_default.a.bool,name:prop_types_default.a.string,opacity:prop_types_default.a.string,show:prop_types_default.a.bool,showMarkers:prop_types_default.a.bool,sourceType:prop_types_default.a.string,style:prop_types_default.a.string,value:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),width:prop_types_default.a.number});\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-preset-chart-nvd3/src/NVD3Vis.js\nfunction ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}/* eslint-disable react/sort-prop-types */ /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n *//* eslint-disable-next-line */const NO_DATA_RENDER_DATA=[{text:"No data",dy:"-.75em",class:"header"},{text:"Adjust filters or check the Datasource.",dy:".75em",class:"body"}];// Override the noData render function to make a prettier UX\n// Code adapted from https://github.com/novus/nvd3/blob/master/src/utils.js#L653\nnv_d3_default.a.utils.noData=function(chart,container){const opt=chart.options(),margin=opt.margin(),height=nv_d3_default.a.utils.availableHeight(null,container,margin),width=nv_d3_default.a.utils.availableWidth(null,container,margin),x=margin.left+width/2,y=margin.top+height/2;// Remove any previously created chart components\ncontainer.selectAll("g").remove();const noDataText=container.selectAll(".nv-noData").data(NO_DATA_RENDER_DATA);noDataText.enter().append("text").attr("class",d=>`nvd3 nv-noData ${d.class}`).attr("dy",d=>d.dy).style("text-anchor","middle");noDataText.attr("x",x).attr("y",y).text(d=>d.text)};const{getColor,getScale}=color["b" /* CategoricalColorNamespace */],MAX_MARGIN_PAD=30,MIN_HEIGHT_FOR_BRUSH=480,MAX_NO_CHARACTERS_IN_LABEL=40,BREAKPOINTS={small:340},TIMESERIES_VIZ_TYPES=["line","dual_line","line_multi","area","compare","bar","time_pivot"],propTypes={data:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.oneOfType([// pie\ncategoryAndValueXYType,// dist-bar\nprop_types_default.a.shape({key:prop_types_default.a.string,values:prop_types_default.a.arrayOf(categoryAndValueXYType)}),// area, line, compare, bar\nprop_types_default.a.shape({key:prop_types_default.a.arrayOf(prop_types_default.a.string),values:prop_types_default.a.arrayOf(numericXYType)}),// dual-line\nprop_types_default.a.shape({classed:prop_types_default.a.string,key:prop_types_default.a.string,type:prop_types_default.a.string,values:prop_types_default.a.arrayOf(numericXYType),yAxis:prop_types_default.a.number}),// box-plot\nprop_types_default.a.shape({label:prop_types_default.a.string,values:prop_types_default.a.arrayOf(boxPlotValueType)}),// bubble\nprop_types_default.a.shape({key:prop_types_default.a.string,values:prop_types_default.a.arrayOf(prop_types_default.a.object)})])),// bullet\nbulletDataType]),width:prop_types_default.a.number,height:prop_types_default.a.number,annotationData:prop_types_default.a.object,annotationLayers:prop_types_default.a.arrayOf(annotationLayerType),bottomMargin:numberOrAutoType,colorScheme:prop_types_default.a.string,comparisonType:prop_types_default.a.string,contribution:prop_types_default.a.bool,leftMargin:numberOrAutoType,onError:prop_types_default.a.func,showLegend:prop_types_default.a.bool,showMarkers:prop_types_default.a.bool,useRichTooltip:prop_types_default.a.bool,vizType:prop_types_default.a.oneOf(["area","bar","box_plot","bubble","bullet","compare","column","dist_bar","line","line_multi","time_pivot","pie","dual_line"]),xAxisFormat:prop_types_default.a.string,numberFormat:prop_types_default.a.string,xAxisLabel:prop_types_default.a.string,xAxisShowMinMax:prop_types_default.a.bool,xIsLogScale:prop_types_default.a.bool,xTicksLayout:prop_types_default.a.oneOf(["auto","staggered","45\\xB0"]),yAxisFormat:prop_types_default.a.string,yAxisBounds:prop_types_default.a.arrayOf(prop_types_default.a.number),yAxisLabel:prop_types_default.a.string,yAxisShowMinMax:prop_types_default.a.bool,yIsLogScale:prop_types_default.a.bool,// \'dist-bar\' only\norderBars:prop_types_default.a.bool,// \'bar\' or \'dist-bar\'\nisBarStacked:prop_types_default.a.bool,showBarValue:prop_types_default.a.bool,// \'bar\', \'dist-bar\' or \'column\'\nreduceXTicks:prop_types_default.a.bool,// \'bar\', \'dist-bar\' or \'area\'\nshowControls:prop_types_default.a.bool,// \'line\' only\nshowBrush:prop_types_default.a.oneOf([!0,"yes",!1,"no","auto"]),onBrushEnd:prop_types_default.a.func,// \'line-multi\' or \'dual-line\'\nyAxis2Format:prop_types_default.a.string,// \'line\', \'time-pivot\', \'dual-line\' or \'line-multi\'\nlineInterpolation:prop_types_default.a.string,// \'pie\' only\nisDonut:prop_types_default.a.bool,isPieLabelOutside:prop_types_default.a.bool,pieLabelType:prop_types_default.a.oneOf(["key","value","percent","key_value","key_percent","key_value_percent"]),showLabels:prop_types_default.a.bool,// \'area\' only\nareaStackedStyle:prop_types_default.a.string,// \'bubble\' only\nentity:prop_types_default.a.string,maxBubbleSize:prop_types_default.a.number,xField:stringOrObjectWithLabelType,yField:stringOrObjectWithLabelType,sizeField:stringOrObjectWithLabelType,// time-pivot only\nbaseColor:rgbObjectType},NOOP=()=>{},formatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])();// Limit on how large axes margins can grow as the chart window is resized\nfunction nvd3Vis(element,props){const{data,width:maxWidth,height:maxHeight,annotationData,annotationLayers=[],areaStackedStyle,baseColor,bottomMargin,colorScheme,comparisonType,contribution,entity,isBarStacked,isDonut,isPieLabelOutside,leftMargin,lineInterpolation="linear",markerLabels,markerLines,markerLineLabels,markers,maxBubbleSize,onBrushEnd=NOOP,onError=NOOP,orderBars,pieLabelType,rangeLabels,ranges,reduceXTicks=!1,showBarValue,showBrush,showControls,showLabels,showLegend,showMarkers,sizeField,useRichTooltip,vizType,xAxisFormat,numberFormat,xAxisLabel,xAxisShowMinMax=!1,xField,xIsLogScale,xTicksLayout,yAxisFormat,yAxis2Format,yAxisBounds,yAxis2Bounds,yAxisLabel,yAxisShowMinMax=!1,yAxis2ShowMinMax=!1,yField,yIsLogScale}=props,isExplore=null!==document.querySelector("#explorer-container"),container=element;container.innerHTML="";const activeAnnotationLayers=annotationLayers.filter(layer=>layer.show),chartId=container.parentElement&&""!==container.parentElement.id?container.parentElement.id:null;let chart,width=maxWidth,colorKey="key";container.style.width=`${maxWidth}px`;container.style.height=`${maxHeight}px`;function isVizTypes(types){return types.includes(vizType)}const drawGraph=function(){const d3Element=d3_default.a.select(element);d3Element.classed("superset-legacy-chart-nvd3",!0);d3Element.classed(`superset-legacy-chart-nvd3-${Object(lodash["kebabCase"])(vizType)}`,!0);let svg=d3Element.select("svg");if(svg.empty()){svg=d3Element.append("svg")}const height="bullet"===vizType?Math.min(maxHeight,50):maxHeight,isTimeSeries=isVizTypes(TIMESERIES_VIZ_TYPES),staggerLabels="staggered"===xTicksLayout,xLabelRotation="auto"===xTicksLayout&&isVizTypes(["column","dist_bar"])||"45\\xB0"===xTicksLayout?45:0;if(45===xLabelRotation&&Object(isTruthy["a" /* default */])(showBrush)){onError(Object(TranslatorSingleton["e" /* t */])("You cannot use 45\\xB0 tick layout along with the time range filter"));return null}const canShowBrush=Object(isTruthy["a" /* default */])(showBrush)||"auto"===showBrush&&maxHeight>=MIN_HEIGHT_FOR_BRUSH&&"45\\xB0"!==xTicksLayout,numberFormatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(numberFormat);switch(vizType){case"line":if(canShowBrush){chart=nv_d3_default.a.models.lineWithFocusChart();if(staggerLabels){// Give a bit more room to focus area if X axis ticks are staggered\nchart.focus.margin({bottom:40});chart.focusHeight(80)}chart.focus.xScale(d3_default.a.time.scale.utc())}else{chart=nv_d3_default.a.models.lineChart()}chart.xScale(d3_default.a.time.scale.utc());chart.interpolate(lineInterpolation);chart.clipEdge(!1);break;case"time_pivot":chart=nv_d3_default.a.models.lineChart();chart.xScale(d3_default.a.time.scale.utc());chart.interpolate(lineInterpolation);break;case"dual_line":case"line_multi":chart=nv_d3_default.a.models.multiChart();chart.interpolate(lineInterpolation);chart.xScale(d3_default.a.time.scale.utc());break;case"bar":chart=nv_d3_default.a.models.multiBarChart().showControls(showControls).groupSpacing(.1);if(!reduceXTicks){width=Object(utils["b" /* computeBarChartWidth */])(data,isBarStacked,maxWidth)}chart.width(width);chart.xAxis.showMaxMin(!1);chart.stacked(isBarStacked);break;case"dist_bar":chart=nv_d3_default.a.models.multiBarChart().showControls(showControls).reduceXTicks(reduceXTicks).groupSpacing(.1);// Distance between each group of bars.\nchart.xAxis.showMaxMin(!1);chart.stacked(isBarStacked);if(orderBars){data.forEach(d=>{d.values.sort((a,b)=>Object(utils["u" /* tryNumify */])(a.x)<Object(utils["u" /* tryNumify */])(b.x)?-1:1)})}if(!reduceXTicks){width=Object(utils["b" /* computeBarChartWidth */])(data,isBarStacked,maxWidth)}chart.width(width);break;case"pie":chart=nv_d3_default.a.models.pieChart();colorKey="x";chart.valueFormat(numberFormatter);if(isDonut){chart.donut(!0)}chart.showLabels(showLabels);chart.labelsOutside(isPieLabelOutside);// Configure the minimum slice size for labels to show up\nchart.labelThreshold(.05);chart.cornerRadius(!0);if(["key","value","percent"].includes(pieLabelType)){chart.labelType(pieLabelType)}else if("key_value"===pieLabelType){chart.labelType(d=>`${d.data.x}: ${numberFormatter(d.data.y)}`)}else{// pieLabelType in [\'key_percent\', \'key_value_percent\']\nconst total=d3_default.a.sum(data,d=>d.y),percentFormatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(NumberFormats["a" /* default */].PERCENT_2_POINT);if("key_percent"===pieLabelType){chart.tooltip.valueFormatter(d=>percentFormatter(d));chart.labelType(d=>`${d.data.x}: ${percentFormatter(d.data.y/total)}`)}else{// pieLabelType === \'key_value_percent\'\nchart.tooltip.valueFormatter(d=>`${numberFormatter(d)} (${percentFormatter(d/total)})`);chart.labelType(d=>`${d.data.x}: ${numberFormatter(d.data.y)} (${percentFormatter(d.data.y/total)})`)}}// Pie chart does not need top margin\nchart.margin({top:0});break;case"column":chart=nv_d3_default.a.models.multiBarChart().reduceXTicks(!1);break;case"compare":chart=nv_d3_default.a.models.cumulativeLineChart();chart.xScale(d3_default.a.time.scale.utc());chart.useInteractiveGuideline(!0);chart.xAxis.showMaxMin(!1);break;case"bubble":chart=nv_d3_default.a.models.scatterChart();chart.showDistX(!1);chart.showDistY(!1);chart.tooltip.contentGenerator(d=>Object(utils["h" /* generateBubbleTooltipContent */])({point:d.point,entity,xField,yField,sizeField,xFormatter:Object(utils["o" /* getTimeOrNumberFormatter */])(xAxisFormat),yFormatter:Object(utils["o" /* getTimeOrNumberFormatter */])(yAxisFormat),sizeFormatter:formatter}));chart.pointRange([5,maxBubbleSize**2]);chart.pointDomain([0,d3_default.a.max(data,d=>d3_default.a.max(d.values,v=>v.size))]);break;case"area":chart=nv_d3_default.a.models.stackedAreaChart();chart.showControls(showControls);chart.style(areaStackedStyle);chart.xScale(d3_default.a.time.scale.utc());break;case"box_plot":colorKey="label";chart=nv_d3_default.a.models.boxPlotChart();chart.x(d=>d.label);chart.maxBoxWidth(75);// prevent boxes from being incredibly wide\nbreak;case"bullet":chart=nv_d3_default.a.models.bulletChart();data.rangeLabels=rangeLabels;data.ranges=ranges;data.markerLabels=markerLabels;data.markerLines=markerLines;data.markerLineLabels=markerLineLabels;data.markers=markers;break;default:throw new Error(`Unrecognized visualization for nvd3${vizType}`);}// Assuming the container has padding already other than for top margin\nchart.margin({left:0,bottom:0});if(showBarValue){Object(utils["e" /* drawBarValues */])(svg,data,isBarStacked,yAxisFormat);chart.dispatch.on("stateChange.drawBarValues",()=>{Object(utils["e" /* drawBarValues */])(svg,data,isBarStacked,yAxisFormat)})}if(canShowBrush&&onBrushEnd!==NOOP){if(chart.focus){chart.focus.dispatch.on("brush",event=>{const timeRange=Object(utils["s" /* stringifyTimeRange */])(event.extent);if(timeRange){event.brush.on("brushend",()=>{onBrushEnd(timeRange)})}})}}if(chart.xAxis&&chart.xAxis.staggerLabels){chart.xAxis.staggerLabels(staggerLabels)}if(chart.xAxis&&chart.xAxis.rotateLabels){chart.xAxis.rotateLabels(xLabelRotation)}if(chart.x2Axis&&chart.x2Axis.staggerLabels){chart.x2Axis.staggerLabels(staggerLabels)}if(chart.x2Axis&&chart.x2Axis.rotateLabels){chart.x2Axis.rotateLabels(xLabelRotation)}if("showLegend"in chart&&"undefined"!=typeof showLegend){if(width<BREAKPOINTS.small&&"pie"!==vizType){chart.showLegend(!1)}else{chart.showLegend(showLegend)}}if(yIsLogScale){chart.yScale(d3_default.a.scale.log())}if(xIsLogScale){chart.xScale(d3_default.a.scale.log())}let xAxisFormatter;if(isTimeSeries){xAxisFormatter=Object(TimeFormatterRegistrySingleton["d" /* getTimeFormatter */])(xAxisFormat);// In tooltips, always use the verbose time format\nchart.interactiveLayer.tooltip.headerFormatter(smartDateVerbose["a" /* default */])}else{xAxisFormatter=Object(utils["o" /* getTimeOrNumberFormatter */])(xAxisFormat)}if(chart.x2Axis&&chart.x2Axis.tickFormat){chart.x2Axis.tickFormat(xAxisFormatter)}if(chart.xAxis&&chart.xAxis.tickFormat){const isXAxisString=isVizTypes(["dist_bar","box_plot"]);if(isXAxisString){chart.xAxis.tickFormat(d=>d.length>MAX_NO_CHARACTERS_IN_LABEL?`${d.slice(0,Math.max(0,MAX_NO_CHARACTERS_IN_LABEL))}…`:d)}else{chart.xAxis.tickFormat(xAxisFormatter)}}let yAxisFormatter=Object(utils["o" /* getTimeOrNumberFormatter */])(yAxisFormat);if(chart.yAxis&&chart.yAxis.tickFormat){if((contribution||"percentage"===comparisonType)&&(!yAxisFormat||yAxisFormat===NumberFormats["a" /* default */].SMART_NUMBER||yAxisFormat===NumberFormats["a" /* default */].SMART_NUMBER_SIGNED)){// When computing a "Percentage" or "Contribution" selected,\n// force a percentage format if no custom formatting set\nyAxisFormatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(NumberFormats["a" /* default */].PERCENT_1_POINT)}chart.yAxis.tickFormat(yAxisFormatter)}if(chart.y2Axis&&chart.y2Axis.tickFormat){chart.y2Axis.tickFormat(yAxisFormatter)}if(chart.yAxis){chart.yAxis.ticks(5)}if(chart.y2Axis){chart.y2Axis.ticks(5)}// Set showMaxMin for all axis\nObject(utils["r" /* setAxisShowMaxMin */])(chart.xAxis,xAxisShowMinMax);Object(utils["r" /* setAxisShowMaxMin */])(chart.x2Axis,xAxisShowMinMax);Object(utils["r" /* setAxisShowMaxMin */])(chart.yAxis,yAxisShowMinMax);Object(utils["r" /* setAxisShowMaxMin */])(chart.y2Axis,yAxis2ShowMinMax||yAxisShowMinMax);if("time_pivot"===vizType){if(baseColor){const{r,g,b}=baseColor;chart.color(d=>{const alpha=0<d.rank?.5*d.perc:1;return`rgba(${r}, ${g}, ${b}, ${alpha})`})}chart.useInteractiveGuideline(!0);chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["l" /* generateTimePivotTooltip */])(d,xAxisFormatter,yAxisFormatter))}else if("bullet"!==vizType){const colorFn=getScale(colorScheme);chart.color(d=>d.color||colorFn(Object(utils["a" /* cleanColorInput */])(d[colorKey])))}if(isVizTypes(["line","area"])&&useRichTooltip){chart.useInteractiveGuideline(!0);if("line"===vizType){chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["k" /* generateRichLineTooltipContent */])(d,smartDateVerbose["a" /* default */],yAxisFormatter))}else{// area chart\nchart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["g" /* generateAreaChartTooltipContent */])(d,smartDateVerbose["a" /* default */],yAxisFormatter,chart))}}if(isVizTypes(["compare"])){chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["i" /* generateCompareTooltipContent */])(d,yAxisFormatter))}if(isVizTypes(["dual_line","line_multi"])){const yAxisFormatter1=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(yAxisFormat),yAxisFormatter2=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(yAxis2Format);chart.yAxis1.tickFormat(yAxisFormatter1);chart.yAxis2.tickFormat(yAxisFormatter2);const yAxisFormatters=data.map(datum=>1===datum.yAxis?yAxisFormatter1:yAxisFormatter2);chart.useInteractiveGuideline(!0);chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["j" /* generateMultiLineTooltipContent */])(d,xAxisFormatter,yAxisFormatters))}// This is needed for correct chart dimensions if a chart is rendered in a hidden container\nchart.width(width);chart.height(height);svg.datum(data).transition().duration(500).attr("height",height).attr("width",width).call(chart);// For log scale, only show 1, 10, 100, 1000, ...\nif(yIsLogScale){chart.yAxis.tickFormat(d=>0!==d&&0==Math.log10(d)%1?yAxisFormatter(d):"")}if(0<xLabelRotation){// shift labels to the left so they look better\nconst xTicks=svg.select(".nv-x.nv-axis > g").selectAll("g");xTicks.selectAll("text").attr("dx",-6.5)}const applyYAxisBounds=()=>{if(chart.yDomain&&Array.isArray(yAxisBounds)&&2===yAxisBounds.length){const[customMin,customMax]=yAxisBounds,hasCustomMin=Object(isDefined["a" /* default */])(customMin)&&!Number.isNaN(customMin),hasCustomMax=Object(isDefined["a" /* default */])(customMax)&&!Number.isNaN(customMax);if((hasCustomMin||hasCustomMax)&&"area"===vizType&&"expand"===chart.style()){// Because there are custom bounds, we need to override them back to 0%-100% since this\n// is an expanded area chart\nchart.yDomain([0,1])}else if((hasCustomMin||hasCustomMax)&&"area"===vizType&&"stream"===chart.style()){// Because there are custom bounds, we need to override them back to the domain of the\n// data since this is a stream area chart\nchart.yDomain(Object(utils["c" /* computeStackedYDomain */])(data))}else if(hasCustomMin&&hasCustomMax){// Override the y domain if there\'s both a custom min and max\nchart.yDomain([customMin,customMax]);chart.clipEdge(!0)}else if(hasCustomMin||hasCustomMax){// Only one of the bounds has been set, so we need to manually calculate the other one\nlet[trueMin,trueMax]=[0,1];// These viz types can be stacked\n// They correspond to the nvd3 stackedAreaChart and multiBarChart\nif("area"===vizType||isVizTypes(["bar","dist_bar"])&&chart.stacked()){// This is a stacked area chart or a stacked bar chart\n[trueMin,trueMax]=Object(utils["c" /* computeStackedYDomain */])(data)}else{[trueMin,trueMax]=Object(utils["d" /* computeYDomain */])(data)}const min=hasCustomMin?customMin:trueMin,max=hasCustomMax?customMax:trueMax;chart.yDomain([min,max]);chart.clipEdge(!0)}}};applyYAxisBounds();// Also reapply on each state change to account for enabled/disabled series\nif(chart.dispatch&&chart.dispatch.stateChange){chart.dispatch.on("stateChange.applyYAxisBounds",applyYAxisBounds)}// align yAxis1 and yAxis2 ticks\nif(isVizTypes(["dual_line","line_multi"])){const count=chart.yAxis1.ticks(),ticks1=chart.yAxis1.scale().domain(chart.yAxis1.domain()).nice(count).ticks(count),ticks2=chart.yAxis2.scale().domain(chart.yAxis2.domain()).nice(count).ticks(count),difference=ticks1.length-ticks2.length;if(0<ticks1.length&&0<ticks2.length&&0!==difference){const smallest=0>difference?ticks1:ticks2,delta=smallest[1]-smallest[0];for(let i=0;i<Math.abs(difference);i+=1){if(0==i%2){smallest.unshift(smallest[0]-delta)}else{smallest.push(smallest[smallest.length-1]+delta)}}chart.yDomain1([ticks1[0],ticks1[ticks1.length-1]]);chart.yDomain2([ticks2[0],ticks2[ticks2.length-1]]);chart.yAxis1.tickValues(ticks1);chart.yAxis2.tickValues(ticks2)}chart.yDomain1([yAxisBounds[0]||ticks1[0],yAxisBounds[1]||ticks1[ticks1.length-1]]);chart.yDomain2([yAxis2Bounds[0]||ticks2[0],yAxis2Bounds[1]||ticks2[ticks2.length-1]])}if(showMarkers){svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1);// redo on legend toggle; nvd3 calls the callback *before* the line is\n// drawn, so we need to add a small delay here\nchart.dispatch.on("stateChange.showMarkers",()=>{setTimeout(()=>{svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1)},10)})}if(chart.yAxis!==void 0||chart.yAxis2!==void 0){// Hack to adjust y axis left margin to accommodate long numbers\nconst marginPad=Math.ceil(Math.min(maxWidth*(isExplore?.01:.03),MAX_MARGIN_PAD)),margins=chart.margin();// Hack to adjust margins to accommodate long axis tick labels.\n// - has to be done only after the chart has been rendered once\n// - measure the width or height of the labels\n// ---- (x axis labels are rotated 45 degrees so we use height),\n// - adjust margins based on these measures and render again\nif(chart.xAxis){margins.bottom=28}const maxYAxisLabelWidth=Object(utils["n" /* getMaxLabelSize */])(svg,chart.yAxis2?"nv-y1":"nv-y"),maxXAxisLabelHeight=Object(utils["n" /* getMaxLabelSize */])(svg,"nv-x");margins.left=maxYAxisLabelWidth+marginPad;if(yAxisLabel&&""!==yAxisLabel){margins.left+=25}if(showBarValue){// Add more margin to avoid label colliding with legend.\nmargins.top+=24}if(xAxisShowMinMax){// If x bounds are shown, we need a right margin\nmargins.right=Math.max(20,maxXAxisLabelHeight/2)+marginPad}if(45===xLabelRotation){margins.bottom=maxXAxisLabelHeight*Math.sin(Math.PI*xLabelRotation/180)+marginPad+30;margins.right=maxXAxisLabelHeight*Math.cos(Math.PI*xLabelRotation/180)+marginPad}else if(staggerLabels){margins.bottom=40}if(isVizTypes(["dual_line","line_multi"])){const maxYAxis2LabelWidth=Object(utils["n" /* getMaxLabelSize */])(svg,"nv-y2");margins.right=maxYAxis2LabelWidth+marginPad}if(bottomMargin&&"auto"!==bottomMargin){margins.bottom=parseInt(bottomMargin,10)}if(leftMargin&&"auto"!==leftMargin){margins.left=leftMargin}if(xAxisLabel&&""!==xAxisLabel&&chart.xAxis){margins.bottom+=25;let distance=0;if(margins.bottom&&!Number.isNaN(margins.bottom)){distance=margins.bottom-45}// nvd3 bug axisLabelDistance is disregarded on xAxis\n// https://github.com/krispo/angular-nvd3/issues/90\nchart.xAxis.axisLabel(xAxisLabel).axisLabelDistance(distance)}if(yAxisLabel&&""!==yAxisLabel&&chart.yAxis){let distance=0;if(margins.left&&!Number.isNaN(margins.left)){distance=margins.left-70}chart.yAxis.axisLabel(yAxisLabel).axisLabelDistance(distance)}if(isTimeSeries&&annotationData&&0<activeAnnotationLayers.length){// Time series annotations add additional data\nconst timeSeriesAnnotations=activeAnnotationLayers.filter(layer=>layer.annotationType===AnnotationTypes["c" /* default */].TIME_SERIES).reduce((bushel,a)=>bushel.concat((annotationData[a.name]||[]).map(series=>{if(!series){return{}}const key=Array.isArray(series.key)?`${a.name}, ${series.key.join(", ")}`:`${a.name}, ${series.key}`;return _objectSpread(_objectSpread({},series),{},{key,color:a.color,strokeWidth:a.width,classed:`${a.opacity} ${a.style} nv-timeseries-annotation-layer showMarkers${a.showMarkers} hideLine${a.hideLine}`})})),[]);data.push(...timeSeriesAnnotations)}// Uniquely identify tooltips based on chartId so this chart instance only\n// controls its own tooltips\nif(chartId){if(chart&&chart.interactiveLayer&&chart.interactiveLayer.tooltip){chart.interactiveLayer.tooltip.classes([Object(utils["m" /* generateTooltipClassName */])(chartId)])}if(chart&&chart.tooltip){chart.tooltip.classes([Object(utils["m" /* generateTooltipClassName */])(chartId)])}}// render chart\nchart.margin(margins);svg.datum(data).transition().duration(500).attr("width",width).attr("height",height).call(chart);// On scroll, hide (not remove) tooltips so they can reappear on hover.\n// Throttle to only 4x/second.\nwindow.addEventListener("scroll",Object(lodash["throttle"])(()=>Object(utils["p" /* hideTooltips */])(!1),250));// The below code should be run AFTER rendering because chart is updated in call()\nif(isTimeSeries&&0<activeAnnotationLayers.length){// Formula annotations\nconst formulas=activeAnnotationLayers.filter(a=>a.annotationType===AnnotationTypes["c" /* default */].FORMULA).map(a=>_objectSpread(_objectSpread({},a),{},{formula:Object(impureFunctionsAny_generated["z" /* parse */])(a.value)}));let xMax,xMin,xScale;if("bar"===vizType){xMin=d3_default.a.min(data[0].values,d=>d.x);xMax=d3_default.a.max(data[0].values,d=>d.x);xScale=d3_default.a.scale.quantile().domain([xMin,xMax]).range(chart.xAxis.range())}else{xMin=chart.xAxis.scale().domain()[0].valueOf();xMax=chart.xAxis.scale().domain()[1].valueOf();if(chart.xScale){xScale=chart.xScale()}else if(chart.xAxis.scale){xScale=chart.xAxis.scale()}else{xScale=d3_default.a.scale.linear()}}if(xScale&&xScale.clamp){xScale.clamp(!0)}if(0<formulas.length){const xValues=[];if("bar"===vizType){// For bar-charts we want one data point evaluated for every\n// data point that will be displayed.\nconst distinct=data.reduce((xVals,d)=>{d.values.forEach(x=>xVals.add(x.x));return xVals},new Set);xValues.push(...distinct.values());xValues.sort()}else{// For every other time visualization it should be ok, to have a\n// data points in even intervals.\nlet period=Math.min(...data.map(d=>Math.min(...d.values.slice(1).map((v,i)=>v.x-d.values[i].x))));const dataPoints=(xMax-xMin)/(period||1);// make sure that there are enough data points and not too many\nperiod=100>dataPoints?(xMax-xMin)/100:period;period=500<dataPoints?(xMax-xMin)/500:period;xValues.push(xMin);for(let x=xMin;x<xMax;x+=period){xValues.push(x)}xValues.push(xMax)}const formulaData=formulas.map(fo=>({key:fo.name,values:xValues.map(x=>({y:fo.formula.evaluate({x}),x})),color:fo.color,strokeWidth:fo.width,classed:`${fo.opacity} ${fo.style}`}));data.push(...formulaData)}const xAxis=chart.xAxis1?chart.xAxis1:chart.xAxis,yAxis=chart.yAxis1?chart.yAxis1:chart.yAxis,chartWidth=xAxis.scale().range()[1],annotationHeight=yAxis.scale().range()[0];if(annotationData){// Event annotations\nactiveAnnotationLayers.filter(x=>x.annotationType===AnnotationTypes["c" /* default */].EVENT&&annotationData&&annotationData[x.name]).forEach((config,index)=>{const e=Object(AnnotationTypes["b" /* applyNativeColumns */])(config),annotations=d3_default.a.select(element).select(".nv-wrap").append("g").attr("class",`nv-event-annotation-layer-${index}`),aColor=e.color||getColor(Object(utils["a" /* cleanColorInput */])(e.name),colorScheme),tip=Object(utils["t" /* tipFactory */])(_objectSpread(_objectSpread({},e),{},{annotationTipClass:`arrow-down nv-event-annotation-layer-${config.sourceType}`})),records=(annotationData[e.name].records||[]).map(r=>{const timeValue=new Date(moment_default.a.utc(r[e.timeColumn]));return _objectSpread(_objectSpread({},r),{},{[e.timeColumn]:timeValue})}).filter(record=>!Number.isNaN(record[e.timeColumn].getMilliseconds()));// Add event annotation layer\nif(0<records.length){annotations.selectAll("line").data(records).enter().append("line").attr({x1:d=>xScale(new Date(d[e.timeColumn])),y1:0,x2:d=>xScale(new Date(d[e.timeColumn])),y2:annotationHeight}).attr("class",`${e.opacity} ${e.style}`).style("stroke",aColor).style("stroke-width",e.width).on("mouseover",tip.show).on("mouseout",tip.hide).call(tip)}// update annotation positions on brush event\nif(chart.focus){chart.focus.dispatch.on("onBrush.event-annotation",()=>{annotations.selectAll("line").data(records).attr({x1:d=>xScale(new Date(d[e.timeColumn])),y1:0,x2:d=>xScale(new Date(d[e.timeColumn])),y2:annotationHeight,opacity:d=>{const x=xScale(new Date(d[e.timeColumn]));return 0<x&&x<chartWidth?1:0}})})}});// Interval annotations\nactiveAnnotationLayers.filter(x=>x.annotationType===AnnotationTypes["c" /* default */].INTERVAL&&annotationData&&annotationData[x.name]).forEach((config,index)=>{const e=Object(AnnotationTypes["b" /* applyNativeColumns */])(config),annotations=d3_default.a.select(element).select(".nv-wrap").append("g").attr("class",`nv-interval-annotation-layer-${index}`),aColor=e.color||getColor(Object(utils["a" /* cleanColorInput */])(e.name),colorScheme),tip=Object(utils["t" /* tipFactory */])(e),records=(annotationData[e.name].records||[]).map(r=>{const timeValue=new Date(moment_default.a.utc(r[e.timeColumn])),intervalEndValue=new Date(moment_default.a.utc(r[e.intervalEndColumn]));return _objectSpread(_objectSpread({},r),{},{[e.timeColumn]:timeValue,[e.intervalEndColumn]:intervalEndValue})}).filter(record=>!Number.isNaN(record[e.timeColumn].getMilliseconds())&&!Number.isNaN(record[e.intervalEndColumn].getMilliseconds()));// Add interval annotation layer\nif(0<records.length){annotations.selectAll("rect").data(records).enter().append("rect").attr({x:d=>Math.min(xScale(new Date(d[e.timeColumn])),xScale(new Date(d[e.intervalEndColumn]))),y:0,width:d=>Math.max(Math.abs(xScale(new Date(d[e.intervalEndColumn]))-xScale(new Date(d[e.timeColumn]))),1),height:annotationHeight}).attr("class",`${e.opacity} ${e.style}`).style("stroke-width",e.width).style("stroke",aColor).style("fill",aColor).style("fill-opacity",.2).on("mouseover",tip.show).on("mouseout",tip.hide).call(tip)}// update annotation positions on brush event\nif(chart.focus){chart.focus.dispatch.on("onBrush.interval-annotation",()=>{annotations.selectAll("rect").data(records).attr({x:d=>xScale(new Date(d[e.timeColumn])),width:d=>{const x1=xScale(new Date(d[e.timeColumn])),x2=xScale(new Date(d[e.intervalEndColumn]));return x2-x1}})})}})}// rerender chart appended with annotation layer\nsvg.datum(data).attr("height",height).attr("width",width).call(chart);// Display styles for Time Series Annotations\nchart.dispatch.on("renderEnd.timeseries-annotation",()=>{d3_default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.showMarkerstrue .nv-point").style("stroke-opacity",1).style("fill-opacity",1);d3_default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.hideLinetrue").style("stroke-width",0)})}}Object(utils["v" /* wrapTooltip */])(chart);return chart};// Remove tooltips before rendering chart, if the chart is being re-rendered sometimes\n// there are left over tooltips in the dom,\n// this will clear them before rendering the chart again.\nif(chartId){Object(utils["q" /* removeTooltip */])(chartId)}else{Object(utils["p" /* hideTooltips */])(!0)}nv_d3_default.a.addGraph(drawGraph)}nvd3Vis.displayName="NVD3";nvd3Vis.propTypes=propTypes;/* harmony default export */ var NVD3Vis = (nvd3Vis);\n// CONCATENATED MODULE: /Users/erik_ritter/repos/github.com/apache-superset/superset-ui/plugins/legacy-preset-chart-nvd3/src/ReactNVD3.jsx\nfunction _objectWithoutProperties(source,excluded){if(null==source)return{};var target=_objectWithoutPropertiesLoose(source,excluded),key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(0<=excluded.indexOf(key))continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var target={},sourceKeys=Object.keys(source),key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(0<=excluded.indexOf(key))continue;target[key]=source[key]}return target}/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */function componentWillUnmount(){const{id}=this.props;if(null!==id&&id!==void 0){Object(utils["q" /* removeTooltip */])(id)}else{Object(utils["p" /* hideTooltips */])(!0)}}const ReactNVD3=Object(reactify["a" /* default */])(NVD3Vis,{componentWillUnmount}),NVD3=(_ref)=>{let{className}=_ref,otherProps=_objectWithoutProperties(_ref,["className"]);return/*#__PURE__*/react_default.a.createElement("div",{className:className},/*#__PURE__*/react_default.a.createElement(ReactNVD3,otherProps))};NVD3.displayName="NVD3";NVD3.propTypes={className:prop_types_default.a.string.isRequired};/* harmony default export */ var src_ReactNVD3 = __webpack_exports__["default"] = (Object(style["c" /* styled */])(NVD3)`\n  .superset-legacy-chart-nvd3-dist-bar, .superset-legacy-chart-nvd3-bar {\n    overflow-x: auto !important;\n    svg {\n      &.nvd3-svg {\n        width: auto;\n        font-size: ${({theme})=>theme.typography.sizes.m};\n      }\n    }\n  }\n  .superset-legacy-chart-nvd3 {\n    nv-x text {\n      font-size: ${({theme})=>theme.typography.sizes.m};\n    }\n    g.superset path {\n      stroke-dasharray: 5, 5;\n    }\n    .nvtooltip tr.highlight td {\n      font-weight: ${({theme})=>theme.typography.weights.bold};\n      font-size: 15px !important;\n    }\n    text.nv-axislabel {\n      font-size: ${({theme})=>theme.typography.sizes.m} !important;\n    }\n    g.solid path,\n    line.solid {\n      stroke-dasharray: unset;\n    }\n    g.dashed path,\n    line.dashed {\n      stroke-dasharray: 5, 5;\n    }\n    g.longDashed path,\n    line.dotted {\n      stroke-dasharray: 1, 1;\n    }\n\n    g.opacityLow path,\n    line.opacityLow {\n      stroke-opacity: 0.2;\n    }\n\n    g.opacityMedium path,\n    line.opacityMedium {\n      stroke-opacity: 0.5;\n    }\n    g.opacityHigh path,\n    line.opacityHigh {\n      stroke-opacity: 0.8;\n    }\n    g.time-shift-0 path,\n    line.time-shift-0 {\n      stroke-dasharray: 5, 5;\n    }\n    g.time-shift-1 path,\n    line.time-shift-1 {\n      stroke-dasharray: 1, 5;\n    }\n    g.time-shift-2 path,\n    line.time-shift-3 {\n      stroke-dasharray: 5, 1;\n    }\n    g.time-shift-3 path,\n    line.time-shift-3 {\n      stroke-dasharray: 5, 1;\n    }\n    g.time-shift-4 path,\n    line.time-shift-4 {\n      stroke-dasharray: 5, 10;\n    }\n    g.time-shift-5 path,\n    line.time-shift-5 {\n      stroke-dasharray: 0.9;\n    }\n    g.time-shift-6 path,\n    line.time-shift-6 {\n      stroke-dasharray: 15, 10, 5;\n    }\n    g.time-shift-7 path,\n    line.time-shift-7 {\n      stroke-dasharray: 15, 10, 5, 10;\n    }\n    g.time-shift-8 path,\n    line.time-shift-8 {\n      stroke-dasharray: 15, 10, 5, 10, 15;\n    }\n    g.time-shift-9 path,\n    line.time-shift-9 {\n      stroke-dasharray: 5, 5, 1, 5;\n    }\n    .nv-noData.body {\n      font-size: ${({theme})=>theme.typography.sizes.m};\n      font-weight: ${({theme})=>theme.typography.weights.normal};\n    }\n  }\n  .superset-legacy-chart-nvd3-tr-highlight {\n    border-top: 1px solid;\n    border-bottom: 1px solid;\n    font-weight: ${({theme})=>theme.typography.weights.bold};\n  }\n  .superset-legacy-chart-nvd3-tr-total {\n    font-weight: ${({theme})=>theme.typography.weights.bold};\n  }\n  .nvtooltip {\n    .tooltip-header {\n      white-space: nowrap;\n      font-weight: ${({theme})=>theme.typography.weights.bold};\n    }\n    tbody tr:not(.tooltip-header) td:nth-child(2) {\n      word-break: break-word;\n    }\n  }\n  .d3-tip.nv-event-annotation-layer-table,\n  .d3-tip.nv-event-annotation-layer-NATIVE {\n    width: 200px;\n    border-radius: 2px;\n    background-color: #484848;\n    fill-opacity: 0.6;\n    margin: 8px;\n    padding: 8px;\n    color: #fff;\n    &:after {\n      content: \'\\25BC\';\n      font-size: ${({theme})=>theme.typography.sizes.m};\n      color: #484848;\n      position: absolute;\n      bottom: -14px;\n      left: 94px;\n    }\n  }\n`);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUyOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcHJlc2V0LWNoYXJ0LW52ZDMvc3JjL1Byb3BUeXBlcy5qcz82ZmNjIiwid2VicGFjazovLy8vVXNlcnMvZXJpa19yaXR0ZXIvcmVwb3MvZ2l0aHViLmNvbS9hcGFjaGUtc3VwZXJzZXQvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcHJlc2V0LWNoYXJ0LW52ZDMvc3JjL05WRDNWaXMuanM/ZjZjOCIsIndlYnBhY2s6Ly8vL1VzZXJzL2VyaWtfcml0dGVyL3JlcG9zL2dpdGh1Yi5jb20vYXBhY2hlLXN1cGVyc2V0L3N1cGVyc2V0LXVpL3BsdWdpbnMvbGVnYWN5LXByZXNldC1jaGFydC1udmQzL3NyYy9SZWFjdE5WRDMuanN4PzZkNGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvc29ydC1wcm9wLXR5cGVzICovXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgQU5OT1RBVElPTl9UWVBFUyB9IGZyb20gJy4vdmVuZG9yL3N1cGVyc2V0L0Fubm90YXRpb25UeXBlcyc7XG5cbmV4cG9ydCBjb25zdCBudW1iZXJPckF1dG9UeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9uZU9mKFsnYXV0byddKV0pO1xuXG5leHBvcnQgY29uc3Qgc3RyaW5nT3JPYmplY3RXaXRoTGFiZWxUeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gIFByb3BUeXBlcy5zdHJpbmcsXG4gIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIH0pLFxuXSk7XG5cbmV4cG9ydCBjb25zdCByZ2JPYmplY3RUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgcjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBnOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbn0pO1xuXG5leHBvcnQgY29uc3QgbnVtZXJpY1hZVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIHg6IFByb3BUeXBlcy5udW1iZXIsXG4gIHk6IFByb3BUeXBlcy5udW1iZXIsXG59KTtcblxuZXhwb3J0IGNvbnN0IGNhdGVnb3J5QW5kVmFsdWVYWVR5cGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICB4OiBQcm9wVHlwZXMuc3RyaW5nLFxuICB5OiBQcm9wVHlwZXMubnVtYmVyLFxufSk7XG5cbmV4cG9ydCBjb25zdCBib3hQbG90VmFsdWVUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgb3V0bGllcnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICBRMTogUHJvcFR5cGVzLm51bWJlcixcbiAgUTI6IFByb3BUeXBlcy5udW1iZXIsXG4gIFEzOiBQcm9wVHlwZXMubnVtYmVyLFxuICB3aGlza2VyX2hpZ2g6IFByb3BUeXBlcy5udW1iZXIsXG4gIHdoaXNrZXJfbG93OiBQcm9wVHlwZXMubnVtYmVyLFxufSk7XG5cbmV4cG9ydCBjb25zdCBidWxsZXREYXRhVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIG1hcmtlckxhYmVsczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG4gIG1hcmtlckxpbmVMYWJlbHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICBtYXJrZXJMaW5lczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gIG1hcmtlcnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICBtZWFzdXJlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gIHJhbmdlTGFiZWxzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgcmFuZ2VzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgYW5ub3RhdGlvbkxheWVyVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIGFubm90YXRpb25UeXBlOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LmtleXMoQU5OT1RBVElPTl9UWVBFUykpLFxuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgaGlkZUxpbmU6IFByb3BUeXBlcy5ib29sLFxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvcGFjaXR5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzaG93OiBQcm9wVHlwZXMuYm9vbCxcbiAgc2hvd01hcmtlcnM6IFByb3BUeXBlcy5ib29sLFxuICBzb3VyY2VUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgdmFsdWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG59KTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3NvcnQtcHJvcC10eXBlcyAqL1xuLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsga2ViYWJDYXNlLCB0aHJvdHRsZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IG52IGZyb20gJ252ZDMtZm9yayc7XG5pbXBvcnQgeyBwYXJzZSBhcyBtYXRoanNQYXJzZSB9IGZyb20gJ21hdGhqcyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtcbiAgdCxcbiAgaXNEZWZpbmVkLFxuICBnZXRUaW1lRm9ybWF0dGVyLFxuICBzbWFydERhdGVWZXJib3NlRm9ybWF0dGVyLFxuICBnZXROdW1iZXJGb3JtYXR0ZXIsXG4gIE51bWJlckZvcm1hdHMsXG4gIENhdGVnb3JpY2FsQ29sb3JOYW1lc3BhY2UsXG59IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcblxuaW1wb3J0ICdudmQzLWZvcmsvYnVpbGQvbnYuZDMuY3NzJztcblxuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICovXG5pbXBvcnQgQU5OT1RBVElPTl9UWVBFUywgeyBhcHBseU5hdGl2ZUNvbHVtbnMgfSBmcm9tICcuL3ZlbmRvci9zdXBlcnNldC9Bbm5vdGF0aW9uVHlwZXMnO1xuaW1wb3J0IGlzVHJ1dGh5IGZyb20gJy4vdXRpbHMvaXNUcnV0aHknO1xuaW1wb3J0IHtcbiAgY2xlYW5Db2xvcklucHV0LFxuICBjb21wdXRlQmFyQ2hhcnRXaWR0aCxcbiAgY29tcHV0ZVlEb21haW4sXG4gIGNvbXB1dGVTdGFja2VkWURvbWFpbixcbiAgZHJhd0JhclZhbHVlcyxcbiAgZ2VuZXJhdGVCdWJibGVUb29sdGlwQ29udGVudCxcbiAgZ2VuZXJhdGVDb21wYXJlVG9vbHRpcENvbnRlbnQsXG4gIGdlbmVyYXRlTXVsdGlMaW5lVG9vbHRpcENvbnRlbnQsXG4gIGdlbmVyYXRlUmljaExpbmVUb29sdGlwQ29udGVudCxcbiAgZ2VuZXJhdGVUaW1lUGl2b3RUb29sdGlwLFxuICBnZW5lcmF0ZVRvb2x0aXBDbGFzc05hbWUsXG4gIGdlbmVyYXRlQXJlYUNoYXJ0VG9vbHRpcENvbnRlbnQsXG4gIGdldE1heExhYmVsU2l6ZSxcbiAgZ2V0VGltZU9yTnVtYmVyRm9ybWF0dGVyLFxuICBoaWRlVG9vbHRpcHMsXG4gIHRpcEZhY3RvcnksXG4gIHRyeU51bWlmeSxcbiAgcmVtb3ZlVG9vbHRpcCxcbiAgc2V0QXhpc1Nob3dNYXhNaW4sXG4gIHN0cmluZ2lmeVRpbWVSYW5nZSxcbiAgd3JhcFRvb2x0aXAsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgYW5ub3RhdGlvbkxheWVyVHlwZSxcbiAgYm94UGxvdFZhbHVlVHlwZSxcbiAgYnVsbGV0RGF0YVR5cGUsXG4gIGNhdGVnb3J5QW5kVmFsdWVYWVR5cGUsXG4gIHJnYk9iamVjdFR5cGUsXG4gIG51bWVyaWNYWVR5cGUsXG4gIG51bWJlck9yQXV0b1R5cGUsXG4gIHN0cmluZ09yT2JqZWN0V2l0aExhYmVsVHlwZSxcbn0gZnJvbSAnLi9Qcm9wVHlwZXMnO1xuXG5jb25zdCBOT19EQVRBX1JFTkRFUl9EQVRBID0gW1xuICB7IHRleHQ6ICdObyBkYXRhJywgZHk6ICctLjc1ZW0nLCBjbGFzczogJ2hlYWRlcicgfSxcbiAgeyB0ZXh0OiAnQWRqdXN0IGZpbHRlcnMgb3IgY2hlY2sgdGhlIERhdGFzb3VyY2UuJywgZHk6ICcuNzVlbScsIGNsYXNzOiAnYm9keScgfSxcbl07XG5cbi8vIE92ZXJyaWRlIHRoZSBub0RhdGEgcmVuZGVyIGZ1bmN0aW9uIHRvIG1ha2UgYSBwcmV0dGllciBVWFxuLy8gQ29kZSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL25vdnVzL252ZDMvYmxvYi9tYXN0ZXIvc3JjL3V0aWxzLmpzI0w2NTNcbm52LnV0aWxzLm5vRGF0YSA9IGZ1bmN0aW9uIG5vRGF0YShjaGFydCwgY29udGFpbmVyKSB7XG4gIGNvbnN0IG9wdCA9IGNoYXJ0Lm9wdGlvbnMoKTtcbiAgY29uc3QgbWFyZ2luID0gb3B0Lm1hcmdpbigpO1xuICBjb25zdCBoZWlnaHQgPSBudi51dGlscy5hdmFpbGFibGVIZWlnaHQobnVsbCwgY29udGFpbmVyLCBtYXJnaW4pO1xuICBjb25zdCB3aWR0aCA9IG52LnV0aWxzLmF2YWlsYWJsZVdpZHRoKG51bGwsIGNvbnRhaW5lciwgbWFyZ2luKTtcbiAgY29uc3QgeCA9IG1hcmdpbi5sZWZ0ICsgd2lkdGggLyAyO1xuICBjb25zdCB5ID0gbWFyZ2luLnRvcCArIGhlaWdodCAvIDI7XG5cbiAgLy8gUmVtb3ZlIGFueSBwcmV2aW91c2x5IGNyZWF0ZWQgY2hhcnQgY29tcG9uZW50c1xuICBjb250YWluZXIuc2VsZWN0QWxsKCdnJykucmVtb3ZlKCk7XG5cbiAgY29uc3Qgbm9EYXRhVGV4dCA9IGNvbnRhaW5lci5zZWxlY3RBbGwoJy5udi1ub0RhdGEnKS5kYXRhKE5PX0RBVEFfUkVOREVSX0RBVEEpO1xuXG4gIG5vRGF0YVRleHRcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRyKCdjbGFzcycsIGQgPT4gYG52ZDMgbnYtbm9EYXRhICR7ZC5jbGFzc31gKVxuICAgIC5hdHRyKCdkeScsIGQgPT4gZC5keSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIG5vRGF0YVRleHRcbiAgICAuYXR0cigneCcsIHgpXG4gICAgLmF0dHIoJ3knLCB5KVxuICAgIC50ZXh0KGQgPT4gZC50ZXh0KTtcbn07XG5cbmNvbnN0IHsgZ2V0Q29sb3IsIGdldFNjYWxlIH0gPSBDYXRlZ29yaWNhbENvbG9yTmFtZXNwYWNlO1xuXG4vLyBMaW1pdCBvbiBob3cgbGFyZ2UgYXhlcyBtYXJnaW5zIGNhbiBncm93IGFzIHRoZSBjaGFydCB3aW5kb3cgaXMgcmVzaXplZFxuY29uc3QgTUFYX01BUkdJTl9QQUQgPSAzMDtcbmNvbnN0IE1JTl9IRUlHSFRfRk9SX0JSVVNIID0gNDgwO1xuY29uc3QgTUFYX05PX0NIQVJBQ1RFUlNfSU5fTEFCRUwgPSA0MDtcblxuY29uc3QgQlJFQUtQT0lOVFMgPSB7XG4gIHNtYWxsOiAzNDAsXG59O1xuXG5jb25zdCBUSU1FU0VSSUVTX1ZJWl9UWVBFUyA9IFtcbiAgJ2xpbmUnLFxuICAnZHVhbF9saW5lJyxcbiAgJ2xpbmVfbXVsdGknLFxuICAnYXJlYScsXG4gICdjb21wYXJlJyxcbiAgJ2JhcicsXG4gICd0aW1lX3Bpdm90Jyxcbl07XG5cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgZGF0YTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgUHJvcFR5cGVzLmFycmF5T2YoXG4gICAgICBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgLy8gcGllXG4gICAgICAgIGNhdGVnb3J5QW5kVmFsdWVYWVR5cGUsXG4gICAgICAgIC8vIGRpc3QtYmFyXG4gICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAga2V5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YoY2F0ZWdvcnlBbmRWYWx1ZVhZVHlwZSksXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBhcmVhLCBsaW5lLCBjb21wYXJlLCBiYXJcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBrZXk6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YobnVtZXJpY1hZVHlwZSksXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBkdWFsLWxpbmVcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBjbGFzc2VkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIGtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YobnVtZXJpY1hZVHlwZSksXG4gICAgICAgICAgeUF4aXM6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBib3gtcGxvdFxuICAgICAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YoYm94UGxvdFZhbHVlVHlwZSksXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBidWJibGVcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBrZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgdmFsdWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KSxcbiAgICAgICAgfSksXG4gICAgICBdKSxcbiAgICApLFxuICAgIC8vIGJ1bGxldFxuICAgIGJ1bGxldERhdGFUeXBlLFxuICBdKSxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgYW5ub3RhdGlvbkRhdGE6IFByb3BUeXBlcy5vYmplY3QsXG4gIGFubm90YXRpb25MYXllcnM6IFByb3BUeXBlcy5hcnJheU9mKGFubm90YXRpb25MYXllclR5cGUpLFxuICBib3R0b21NYXJnaW46IG51bWJlck9yQXV0b1R5cGUsXG4gIGNvbG9yU2NoZW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb21wYXJpc29uVHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgY29udHJpYnV0aW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgbGVmdE1hcmdpbjogbnVtYmVyT3JBdXRvVHlwZSxcbiAgb25FcnJvcjogUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3dMZWdlbmQ6IFByb3BUeXBlcy5ib29sLFxuICBzaG93TWFya2VyczogUHJvcFR5cGVzLmJvb2wsXG4gIHVzZVJpY2hUb29sdGlwOiBQcm9wVHlwZXMuYm9vbCxcbiAgdml6VHlwZTogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAnYXJlYScsXG4gICAgJ2JhcicsXG4gICAgJ2JveF9wbG90JyxcbiAgICAnYnViYmxlJyxcbiAgICAnYnVsbGV0JyxcbiAgICAnY29tcGFyZScsXG4gICAgJ2NvbHVtbicsXG4gICAgJ2Rpc3RfYmFyJyxcbiAgICAnbGluZScsXG4gICAgJ2xpbmVfbXVsdGknLFxuICAgICd0aW1lX3Bpdm90JyxcbiAgICAncGllJyxcbiAgICAnZHVhbF9saW5lJyxcbiAgXSksXG4gIHhBeGlzRm9ybWF0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBudW1iZXJGb3JtYXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHhBeGlzTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHhBeGlzU2hvd01pbk1heDogUHJvcFR5cGVzLmJvb2wsXG4gIHhJc0xvZ1NjYWxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgeFRpY2tzTGF5b3V0OiBQcm9wVHlwZXMub25lT2YoWydhdXRvJywgJ3N0YWdnZXJlZCcsICc0NcKwJ10pLFxuICB5QXhpc0Zvcm1hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgeUF4aXNCb3VuZHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICB5QXhpc0xhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB5QXhpc1Nob3dNaW5NYXg6IFByb3BUeXBlcy5ib29sLFxuICB5SXNMb2dTY2FsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8vICdkaXN0LWJhcicgb25seVxuICBvcmRlckJhcnM6IFByb3BUeXBlcy5ib29sLFxuICAvLyAnYmFyJyBvciAnZGlzdC1iYXInXG4gIGlzQmFyU3RhY2tlZDogUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dCYXJWYWx1ZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8vICdiYXInLCAnZGlzdC1iYXInIG9yICdjb2x1bW4nXG4gIHJlZHVjZVhUaWNrczogUHJvcFR5cGVzLmJvb2wsXG4gIC8vICdiYXInLCAnZGlzdC1iYXInIG9yICdhcmVhJ1xuICBzaG93Q29udHJvbHM6IFByb3BUeXBlcy5ib29sLFxuICAvLyAnbGluZScgb25seVxuICBzaG93QnJ1c2g6IFByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ3llcycsIGZhbHNlLCAnbm8nLCAnYXV0byddKSxcbiAgb25CcnVzaEVuZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8vICdsaW5lLW11bHRpJyBvciAnZHVhbC1saW5lJ1xuICB5QXhpczJGb3JtYXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8vICdsaW5lJywgJ3RpbWUtcGl2b3QnLCAnZHVhbC1saW5lJyBvciAnbGluZS1tdWx0aSdcbiAgbGluZUludGVycG9sYXRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8vICdwaWUnIG9ubHlcbiAgaXNEb251dDogUHJvcFR5cGVzLmJvb2wsXG4gIGlzUGllTGFiZWxPdXRzaWRlOiBQcm9wVHlwZXMuYm9vbCxcbiAgcGllTGFiZWxUeXBlOiBQcm9wVHlwZXMub25lT2YoW1xuICAgICdrZXknLFxuICAgICd2YWx1ZScsXG4gICAgJ3BlcmNlbnQnLFxuICAgICdrZXlfdmFsdWUnLFxuICAgICdrZXlfcGVyY2VudCcsXG4gICAgJ2tleV92YWx1ZV9wZXJjZW50JyxcbiAgXSksXG4gIHNob3dMYWJlbHM6IFByb3BUeXBlcy5ib29sLFxuICAvLyAnYXJlYScgb25seVxuICBhcmVhU3RhY2tlZFN0eWxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvLyAnYnViYmxlJyBvbmx5XG4gIGVudGl0eTogUHJvcFR5cGVzLnN0cmluZyxcbiAgbWF4QnViYmxlU2l6ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgeEZpZWxkOiBzdHJpbmdPck9iamVjdFdpdGhMYWJlbFR5cGUsXG4gIHlGaWVsZDogc3RyaW5nT3JPYmplY3RXaXRoTGFiZWxUeXBlLFxuICBzaXplRmllbGQ6IHN0cmluZ09yT2JqZWN0V2l0aExhYmVsVHlwZSxcbiAgLy8gdGltZS1waXZvdCBvbmx5XG4gIGJhc2VDb2xvcjogcmdiT2JqZWN0VHlwZSxcbn07XG5cbmNvbnN0IE5PT1AgPSAoKSA9PiB7fTtcbmNvbnN0IGZvcm1hdHRlciA9IGdldE51bWJlckZvcm1hdHRlcigpO1xuXG5mdW5jdGlvbiBudmQzVmlzKGVsZW1lbnQsIHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHdpZHRoOiBtYXhXaWR0aCxcbiAgICBoZWlnaHQ6IG1heEhlaWdodCxcbiAgICBhbm5vdGF0aW9uRGF0YSxcbiAgICBhbm5vdGF0aW9uTGF5ZXJzID0gW10sXG4gICAgYXJlYVN0YWNrZWRTdHlsZSxcbiAgICBiYXNlQ29sb3IsXG4gICAgYm90dG9tTWFyZ2luLFxuICAgIGNvbG9yU2NoZW1lLFxuICAgIGNvbXBhcmlzb25UeXBlLFxuICAgIGNvbnRyaWJ1dGlvbixcbiAgICBlbnRpdHksXG4gICAgaXNCYXJTdGFja2VkLFxuICAgIGlzRG9udXQsXG4gICAgaXNQaWVMYWJlbE91dHNpZGUsXG4gICAgbGVmdE1hcmdpbixcbiAgICBsaW5lSW50ZXJwb2xhdGlvbiA9ICdsaW5lYXInLFxuICAgIG1hcmtlckxhYmVscyxcbiAgICBtYXJrZXJMaW5lcyxcbiAgICBtYXJrZXJMaW5lTGFiZWxzLFxuICAgIG1hcmtlcnMsXG4gICAgbWF4QnViYmxlU2l6ZSxcbiAgICBvbkJydXNoRW5kID0gTk9PUCxcbiAgICBvbkVycm9yID0gTk9PUCxcbiAgICBvcmRlckJhcnMsXG4gICAgcGllTGFiZWxUeXBlLFxuICAgIHJhbmdlTGFiZWxzLFxuICAgIHJhbmdlcyxcbiAgICByZWR1Y2VYVGlja3MgPSBmYWxzZSxcbiAgICBzaG93QmFyVmFsdWUsXG4gICAgc2hvd0JydXNoLFxuICAgIHNob3dDb250cm9scyxcbiAgICBzaG93TGFiZWxzLFxuICAgIHNob3dMZWdlbmQsXG4gICAgc2hvd01hcmtlcnMsXG4gICAgc2l6ZUZpZWxkLFxuICAgIHVzZVJpY2hUb29sdGlwLFxuICAgIHZpelR5cGUsXG4gICAgeEF4aXNGb3JtYXQsXG4gICAgbnVtYmVyRm9ybWF0LFxuICAgIHhBeGlzTGFiZWwsXG4gICAgeEF4aXNTaG93TWluTWF4ID0gZmFsc2UsXG4gICAgeEZpZWxkLFxuICAgIHhJc0xvZ1NjYWxlLFxuICAgIHhUaWNrc0xheW91dCxcbiAgICB5QXhpc0Zvcm1hdCxcbiAgICB5QXhpczJGb3JtYXQsXG4gICAgeUF4aXNCb3VuZHMsXG4gICAgeUF4aXMyQm91bmRzLFxuICAgIHlBeGlzTGFiZWwsXG4gICAgeUF4aXNTaG93TWluTWF4ID0gZmFsc2UsXG4gICAgeUF4aXMyU2hvd01pbk1heCA9IGZhbHNlLFxuICAgIHlGaWVsZCxcbiAgICB5SXNMb2dTY2FsZSxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGlzRXhwbG9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNleHBsb3Jlci1jb250YWluZXInKSAhPT0gbnVsbDtcbiAgY29uc3QgY29udGFpbmVyID0gZWxlbWVudDtcbiAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICBjb25zdCBhY3RpdmVBbm5vdGF0aW9uTGF5ZXJzID0gYW5ub3RhdGlvbkxheWVycy5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIuc2hvdyk7XG4gIGNvbnN0IGNoYXJ0SWQgPVxuICAgIGNvbnRhaW5lci5wYXJlbnRFbGVtZW50ICYmIGNvbnRhaW5lci5wYXJlbnRFbGVtZW50LmlkICE9PSAnJ1xuICAgICAgPyBjb250YWluZXIucGFyZW50RWxlbWVudC5pZFxuICAgICAgOiBudWxsO1xuXG4gIGxldCBjaGFydDtcbiAgbGV0IHdpZHRoID0gbWF4V2lkdGg7XG4gIGxldCBjb2xvcktleSA9ICdrZXknO1xuXG4gIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke21heFdpZHRofXB4YDtcbiAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke21heEhlaWdodH1weGA7XG5cbiAgZnVuY3Rpb24gaXNWaXpUeXBlcyh0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5pbmNsdWRlcyh2aXpUeXBlKTtcbiAgfVxuXG4gIGNvbnN0IGRyYXdHcmFwaCA9IGZ1bmN0aW9uIGRyYXdHcmFwaCgpIHtcbiAgICBjb25zdCBkM0VsZW1lbnQgPSBkMy5zZWxlY3QoZWxlbWVudCk7XG4gICAgZDNFbGVtZW50LmNsYXNzZWQoJ3N1cGVyc2V0LWxlZ2FjeS1jaGFydC1udmQzJywgdHJ1ZSk7XG4gICAgZDNFbGVtZW50LmNsYXNzZWQoYHN1cGVyc2V0LWxlZ2FjeS1jaGFydC1udmQzLSR7a2ViYWJDYXNlKHZpelR5cGUpfWAsIHRydWUpO1xuICAgIGxldCBzdmcgPSBkM0VsZW1lbnQuc2VsZWN0KCdzdmcnKTtcbiAgICBpZiAoc3ZnLmVtcHR5KCkpIHtcbiAgICAgIHN2ZyA9IGQzRWxlbWVudC5hcHBlbmQoJ3N2ZycpO1xuICAgIH1cbiAgICBjb25zdCBoZWlnaHQgPSB2aXpUeXBlID09PSAnYnVsbGV0JyA/IE1hdGgubWluKG1heEhlaWdodCwgNTApIDogbWF4SGVpZ2h0O1xuICAgIGNvbnN0IGlzVGltZVNlcmllcyA9IGlzVml6VHlwZXMoVElNRVNFUklFU19WSVpfVFlQRVMpO1xuXG4gICAgLy8gSGFuZGxpbmcgeEF4aXMgdGlja3Mgc2V0dGluZ3NcbiAgICBjb25zdCBzdGFnZ2VyTGFiZWxzID0geFRpY2tzTGF5b3V0ID09PSAnc3RhZ2dlcmVkJztcbiAgICBjb25zdCB4TGFiZWxSb3RhdGlvbiA9XG4gICAgICAoeFRpY2tzTGF5b3V0ID09PSAnYXV0bycgJiYgaXNWaXpUeXBlcyhbJ2NvbHVtbicsICdkaXN0X2JhciddKSkgfHwgeFRpY2tzTGF5b3V0ID09PSAnNDXCsCdcbiAgICAgICAgPyA0NVxuICAgICAgICA6IDA7XG4gICAgaWYgKHhMYWJlbFJvdGF0aW9uID09PSA0NSAmJiBpc1RydXRoeShzaG93QnJ1c2gpKSB7XG4gICAgICBvbkVycm9yKHQoJ1lvdSBjYW5ub3QgdXNlIDQ1wrAgdGljayBsYXlvdXQgYWxvbmcgd2l0aCB0aGUgdGltZSByYW5nZSBmaWx0ZXInKSk7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNhblNob3dCcnVzaCA9XG4gICAgICBpc1RydXRoeShzaG93QnJ1c2gpIHx8XG4gICAgICAoc2hvd0JydXNoID09PSAnYXV0bycgJiYgbWF4SGVpZ2h0ID49IE1JTl9IRUlHSFRfRk9SX0JSVVNIICYmIHhUaWNrc0xheW91dCAhPT0gJzQ1wrAnKTtcbiAgICBjb25zdCBudW1iZXJGb3JtYXR0ZXIgPSBnZXROdW1iZXJGb3JtYXR0ZXIobnVtYmVyRm9ybWF0KTtcblxuICAgIHN3aXRjaCAodml6VHlwZSkge1xuICAgICAgY2FzZSAnbGluZSc6XG4gICAgICAgIGlmIChjYW5TaG93QnJ1c2gpIHtcbiAgICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5saW5lV2l0aEZvY3VzQ2hhcnQoKTtcbiAgICAgICAgICBpZiAoc3RhZ2dlckxhYmVscykge1xuICAgICAgICAgICAgLy8gR2l2ZSBhIGJpdCBtb3JlIHJvb20gdG8gZm9jdXMgYXJlYSBpZiBYIGF4aXMgdGlja3MgYXJlIHN0YWdnZXJlZFxuICAgICAgICAgICAgY2hhcnQuZm9jdXMubWFyZ2luKHsgYm90dG9tOiA0MCB9KTtcbiAgICAgICAgICAgIGNoYXJ0LmZvY3VzSGVpZ2h0KDgwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhcnQuZm9jdXMueFNjYWxlKGQzLnRpbWUuc2NhbGUudXRjKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLmxpbmVDaGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGNoYXJ0LnhTY2FsZShkMy50aW1lLnNjYWxlLnV0YygpKTtcbiAgICAgICAgY2hhcnQuaW50ZXJwb2xhdGUobGluZUludGVycG9sYXRpb24pO1xuICAgICAgICBjaGFydC5jbGlwRWRnZShmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0aW1lX3Bpdm90JzpcbiAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMubGluZUNoYXJ0KCk7XG4gICAgICAgIGNoYXJ0LnhTY2FsZShkMy50aW1lLnNjYWxlLnV0YygpKTtcbiAgICAgICAgY2hhcnQuaW50ZXJwb2xhdGUobGluZUludGVycG9sYXRpb24pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZHVhbF9saW5lJzpcbiAgICAgIGNhc2UgJ2xpbmVfbXVsdGknOlxuICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5tdWx0aUNoYXJ0KCk7XG4gICAgICAgIGNoYXJ0LmludGVycG9sYXRlKGxpbmVJbnRlcnBvbGF0aW9uKTtcbiAgICAgICAgY2hhcnQueFNjYWxlKGQzLnRpbWUuc2NhbGUudXRjKCkpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYmFyJzpcbiAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMubXVsdGlCYXJDaGFydCgpLnNob3dDb250cm9scyhzaG93Q29udHJvbHMpLmdyb3VwU3BhY2luZygwLjEpO1xuXG4gICAgICAgIGlmICghcmVkdWNlWFRpY2tzKSB7XG4gICAgICAgICAgd2lkdGggPSBjb21wdXRlQmFyQ2hhcnRXaWR0aChkYXRhLCBpc0JhclN0YWNrZWQsIG1heFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFydC53aWR0aCh3aWR0aCk7XG4gICAgICAgIGNoYXJ0LnhBeGlzLnNob3dNYXhNaW4oZmFsc2UpO1xuICAgICAgICBjaGFydC5zdGFja2VkKGlzQmFyU3RhY2tlZCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkaXN0X2Jhcic6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzXG4gICAgICAgICAgLm11bHRpQmFyQ2hhcnQoKVxuICAgICAgICAgIC5zaG93Q29udHJvbHMoc2hvd0NvbnRyb2xzKVxuICAgICAgICAgIC5yZWR1Y2VYVGlja3MocmVkdWNlWFRpY2tzKVxuICAgICAgICAgIC5ncm91cFNwYWNpbmcoMC4xKTsgLy8gRGlzdGFuY2UgYmV0d2VlbiBlYWNoIGdyb3VwIG9mIGJhcnMuXG5cbiAgICAgICAgY2hhcnQueEF4aXMuc2hvd01heE1pbihmYWxzZSk7XG5cbiAgICAgICAgY2hhcnQuc3RhY2tlZChpc0JhclN0YWNrZWQpO1xuICAgICAgICBpZiAob3JkZXJCYXJzKSB7XG4gICAgICAgICAgZGF0YS5mb3JFYWNoKGQgPT4ge1xuICAgICAgICAgICAgZC52YWx1ZXMuc29ydCgoYSwgYikgPT4gKHRyeU51bWlmeShhLngpIDwgdHJ5TnVtaWZ5KGIueCkgPyAtMSA6IDEpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJlZHVjZVhUaWNrcykge1xuICAgICAgICAgIHdpZHRoID0gY29tcHV0ZUJhckNoYXJ0V2lkdGgoZGF0YSwgaXNCYXJTdGFja2VkLCBtYXhXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnQud2lkdGgod2lkdGgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncGllJzpcbiAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMucGllQ2hhcnQoKTtcbiAgICAgICAgY29sb3JLZXkgPSAneCc7XG4gICAgICAgIGNoYXJ0LnZhbHVlRm9ybWF0KG51bWJlckZvcm1hdHRlcik7XG4gICAgICAgIGlmIChpc0RvbnV0KSB7XG4gICAgICAgICAgY2hhcnQuZG9udXQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnQuc2hvd0xhYmVscyhzaG93TGFiZWxzKTtcbiAgICAgICAgY2hhcnQubGFiZWxzT3V0c2lkZShpc1BpZUxhYmVsT3V0c2lkZSk7XG4gICAgICAgIC8vIENvbmZpZ3VyZSB0aGUgbWluaW11bSBzbGljZSBzaXplIGZvciBsYWJlbHMgdG8gc2hvdyB1cFxuICAgICAgICBjaGFydC5sYWJlbFRocmVzaG9sZCgwLjA1KTtcbiAgICAgICAgY2hhcnQuY29ybmVyUmFkaXVzKHRydWUpO1xuXG4gICAgICAgIGlmIChbJ2tleScsICd2YWx1ZScsICdwZXJjZW50J10uaW5jbHVkZXMocGllTGFiZWxUeXBlKSkge1xuICAgICAgICAgIGNoYXJ0LmxhYmVsVHlwZShwaWVMYWJlbFR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHBpZUxhYmVsVHlwZSA9PT0gJ2tleV92YWx1ZScpIHtcbiAgICAgICAgICBjaGFydC5sYWJlbFR5cGUoZCA9PiBgJHtkLmRhdGEueH06ICR7bnVtYmVyRm9ybWF0dGVyKGQuZGF0YS55KX1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwaWVMYWJlbFR5cGUgaW4gWydrZXlfcGVyY2VudCcsICdrZXlfdmFsdWVfcGVyY2VudCddXG4gICAgICAgICAgY29uc3QgdG90YWwgPSBkMy5zdW0oZGF0YSwgZCA9PiBkLnkpO1xuICAgICAgICAgIGNvbnN0IHBlcmNlbnRGb3JtYXR0ZXIgPSBnZXROdW1iZXJGb3JtYXR0ZXIoTnVtYmVyRm9ybWF0cy5QRVJDRU5UXzJfUE9JTlQpO1xuICAgICAgICAgIGlmIChwaWVMYWJlbFR5cGUgPT09ICdrZXlfcGVyY2VudCcpIHtcbiAgICAgICAgICAgIGNoYXJ0LnRvb2x0aXAudmFsdWVGb3JtYXR0ZXIoZCA9PiBwZXJjZW50Rm9ybWF0dGVyKGQpKTtcbiAgICAgICAgICAgIGNoYXJ0LmxhYmVsVHlwZShkID0+IGAke2QuZGF0YS54fTogJHtwZXJjZW50Rm9ybWF0dGVyKGQuZGF0YS55IC8gdG90YWwpfWApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwaWVMYWJlbFR5cGUgPT09ICdrZXlfdmFsdWVfcGVyY2VudCdcbiAgICAgICAgICAgIGNoYXJ0LnRvb2x0aXAudmFsdWVGb3JtYXR0ZXIoXG4gICAgICAgICAgICAgIGQgPT4gYCR7bnVtYmVyRm9ybWF0dGVyKGQpfSAoJHtwZXJjZW50Rm9ybWF0dGVyKGQgLyB0b3RhbCl9KWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY2hhcnQubGFiZWxUeXBlKFxuICAgICAgICAgICAgICBkID0+XG4gICAgICAgICAgICAgICAgYCR7ZC5kYXRhLnh9OiAke251bWJlckZvcm1hdHRlcihkLmRhdGEueSl9ICgke3BlcmNlbnRGb3JtYXR0ZXIoZC5kYXRhLnkgLyB0b3RhbCl9KWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBQaWUgY2hhcnQgZG9lcyBub3QgbmVlZCB0b3AgbWFyZ2luXG4gICAgICAgIGNoYXJ0Lm1hcmdpbih7IHRvcDogMCB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NvbHVtbic6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLm11bHRpQmFyQ2hhcnQoKS5yZWR1Y2VYVGlja3MoZmFsc2UpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY29tcGFyZSc6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLmN1bXVsYXRpdmVMaW5lQ2hhcnQoKTtcbiAgICAgICAgY2hhcnQueFNjYWxlKGQzLnRpbWUuc2NhbGUudXRjKCkpO1xuICAgICAgICBjaGFydC51c2VJbnRlcmFjdGl2ZUd1aWRlbGluZSh0cnVlKTtcbiAgICAgICAgY2hhcnQueEF4aXMuc2hvd01heE1pbihmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdidWJibGUnOlxuICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5zY2F0dGVyQ2hhcnQoKTtcbiAgICAgICAgY2hhcnQuc2hvd0Rpc3RYKGZhbHNlKTtcbiAgICAgICAgY2hhcnQuc2hvd0Rpc3RZKGZhbHNlKTtcbiAgICAgICAgY2hhcnQudG9vbHRpcC5jb250ZW50R2VuZXJhdG9yKGQgPT5cbiAgICAgICAgICBnZW5lcmF0ZUJ1YmJsZVRvb2x0aXBDb250ZW50KHtcbiAgICAgICAgICAgIHBvaW50OiBkLnBvaW50LFxuICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgeEZpZWxkLFxuICAgICAgICAgICAgeUZpZWxkLFxuICAgICAgICAgICAgc2l6ZUZpZWxkLFxuICAgICAgICAgICAgeEZvcm1hdHRlcjogZ2V0VGltZU9yTnVtYmVyRm9ybWF0dGVyKHhBeGlzRm9ybWF0KSxcbiAgICAgICAgICAgIHlGb3JtYXR0ZXI6IGdldFRpbWVPck51bWJlckZvcm1hdHRlcih5QXhpc0Zvcm1hdCksXG4gICAgICAgICAgICBzaXplRm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICAgIGNoYXJ0LnBvaW50UmFuZ2UoWzUsIG1heEJ1YmJsZVNpemUgKiogMl0pO1xuICAgICAgICBjaGFydC5wb2ludERvbWFpbihbMCwgZDMubWF4KGRhdGEsIGQgPT4gZDMubWF4KGQudmFsdWVzLCB2ID0+IHYuc2l6ZSkpXSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdhcmVhJzpcbiAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMuc3RhY2tlZEFyZWFDaGFydCgpO1xuICAgICAgICBjaGFydC5zaG93Q29udHJvbHMoc2hvd0NvbnRyb2xzKTtcbiAgICAgICAgY2hhcnQuc3R5bGUoYXJlYVN0YWNrZWRTdHlsZSk7XG4gICAgICAgIGNoYXJ0LnhTY2FsZShkMy50aW1lLnNjYWxlLnV0YygpKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JveF9wbG90JzpcbiAgICAgICAgY29sb3JLZXkgPSAnbGFiZWwnO1xuICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5ib3hQbG90Q2hhcnQoKTtcbiAgICAgICAgY2hhcnQueChkID0+IGQubGFiZWwpO1xuICAgICAgICBjaGFydC5tYXhCb3hXaWR0aCg3NSk7IC8vIHByZXZlbnQgYm94ZXMgZnJvbSBiZWluZyBpbmNyZWRpYmx5IHdpZGVcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2J1bGxldCc6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLmJ1bGxldENoYXJ0KCk7XG4gICAgICAgIGRhdGEucmFuZ2VMYWJlbHMgPSByYW5nZUxhYmVscztcbiAgICAgICAgZGF0YS5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIGRhdGEubWFya2VyTGFiZWxzID0gbWFya2VyTGFiZWxzO1xuICAgICAgICBkYXRhLm1hcmtlckxpbmVzID0gbWFya2VyTGluZXM7XG4gICAgICAgIGRhdGEubWFya2VyTGluZUxhYmVscyA9IG1hcmtlckxpbmVMYWJlbHM7XG4gICAgICAgIGRhdGEubWFya2VycyA9IG1hcmtlcnM7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCB2aXN1YWxpemF0aW9uIGZvciBudmQzJHt2aXpUeXBlfWApO1xuICAgIH1cbiAgICAvLyBBc3N1bWluZyB0aGUgY29udGFpbmVyIGhhcyBwYWRkaW5nIGFscmVhZHkgb3RoZXIgdGhhbiBmb3IgdG9wIG1hcmdpblxuICAgIGNoYXJ0Lm1hcmdpbih7IGxlZnQ6IDAsIGJvdHRvbTogMCB9KTtcblxuICAgIGlmIChzaG93QmFyVmFsdWUpIHtcbiAgICAgIGRyYXdCYXJWYWx1ZXMoc3ZnLCBkYXRhLCBpc0JhclN0YWNrZWQsIHlBeGlzRm9ybWF0KTtcbiAgICAgIGNoYXJ0LmRpc3BhdGNoLm9uKCdzdGF0ZUNoYW5nZS5kcmF3QmFyVmFsdWVzJywgKCkgPT4ge1xuICAgICAgICBkcmF3QmFyVmFsdWVzKHN2ZywgZGF0YSwgaXNCYXJTdGFja2VkLCB5QXhpc0Zvcm1hdCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2FuU2hvd0JydXNoICYmIG9uQnJ1c2hFbmQgIT09IE5PT1ApIHtcbiAgICAgIGlmIChjaGFydC5mb2N1cykge1xuICAgICAgICBjaGFydC5mb2N1cy5kaXNwYXRjaC5vbignYnJ1c2gnLCBldmVudCA9PiB7XG4gICAgICAgICAgY29uc3QgdGltZVJhbmdlID0gc3RyaW5naWZ5VGltZVJhbmdlKGV2ZW50LmV4dGVudCk7XG4gICAgICAgICAgaWYgKHRpbWVSYW5nZSkge1xuICAgICAgICAgICAgZXZlbnQuYnJ1c2gub24oJ2JydXNoZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgICBvbkJydXNoRW5kKHRpbWVSYW5nZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGFydC54QXhpcyAmJiBjaGFydC54QXhpcy5zdGFnZ2VyTGFiZWxzKSB7XG4gICAgICBjaGFydC54QXhpcy5zdGFnZ2VyTGFiZWxzKHN0YWdnZXJMYWJlbHMpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQueEF4aXMgJiYgY2hhcnQueEF4aXMucm90YXRlTGFiZWxzKSB7XG4gICAgICBjaGFydC54QXhpcy5yb3RhdGVMYWJlbHMoeExhYmVsUm90YXRpb24pO1xuICAgIH1cbiAgICBpZiAoY2hhcnQueDJBeGlzICYmIGNoYXJ0LngyQXhpcy5zdGFnZ2VyTGFiZWxzKSB7XG4gICAgICBjaGFydC54MkF4aXMuc3RhZ2dlckxhYmVscyhzdGFnZ2VyTGFiZWxzKTtcbiAgICB9XG4gICAgaWYgKGNoYXJ0LngyQXhpcyAmJiBjaGFydC54MkF4aXMucm90YXRlTGFiZWxzKSB7XG4gICAgICBjaGFydC54MkF4aXMucm90YXRlTGFiZWxzKHhMYWJlbFJvdGF0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoJ3Nob3dMZWdlbmQnIGluIGNoYXJ0ICYmIHR5cGVvZiBzaG93TGVnZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHdpZHRoIDwgQlJFQUtQT0lOVFMuc21hbGwgJiYgdml6VHlwZSAhPT0gJ3BpZScpIHtcbiAgICAgICAgY2hhcnQuc2hvd0xlZ2VuZChmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFydC5zaG93TGVnZW5kKHNob3dMZWdlbmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh5SXNMb2dTY2FsZSkge1xuICAgICAgY2hhcnQueVNjYWxlKGQzLnNjYWxlLmxvZygpKTtcbiAgICB9XG4gICAgaWYgKHhJc0xvZ1NjYWxlKSB7XG4gICAgICBjaGFydC54U2NhbGUoZDMuc2NhbGUubG9nKCkpO1xuICAgIH1cblxuICAgIGxldCB4QXhpc0Zvcm1hdHRlcjtcbiAgICBpZiAoaXNUaW1lU2VyaWVzKSB7XG4gICAgICB4QXhpc0Zvcm1hdHRlciA9IGdldFRpbWVGb3JtYXR0ZXIoeEF4aXNGb3JtYXQpO1xuICAgICAgLy8gSW4gdG9vbHRpcHMsIGFsd2F5cyB1c2UgdGhlIHZlcmJvc2UgdGltZSBmb3JtYXRcbiAgICAgIGNoYXJ0LmludGVyYWN0aXZlTGF5ZXIudG9vbHRpcC5oZWFkZXJGb3JtYXR0ZXIoc21hcnREYXRlVmVyYm9zZUZvcm1hdHRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhBeGlzRm9ybWF0dGVyID0gZ2V0VGltZU9yTnVtYmVyRm9ybWF0dGVyKHhBeGlzRm9ybWF0KTtcbiAgICB9XG4gICAgaWYgKGNoYXJ0LngyQXhpcyAmJiBjaGFydC54MkF4aXMudGlja0Zvcm1hdCkge1xuICAgICAgY2hhcnQueDJBeGlzLnRpY2tGb3JtYXQoeEF4aXNGb3JtYXR0ZXIpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQueEF4aXMgJiYgY2hhcnQueEF4aXMudGlja0Zvcm1hdCkge1xuICAgICAgY29uc3QgaXNYQXhpc1N0cmluZyA9IGlzVml6VHlwZXMoWydkaXN0X2JhcicsICdib3hfcGxvdCddKTtcbiAgICAgIGlmIChpc1hBeGlzU3RyaW5nKSB7XG4gICAgICAgIGNoYXJ0LnhBeGlzLnRpY2tGb3JtYXQoZCA9PlxuICAgICAgICAgIGQubGVuZ3RoID4gTUFYX05PX0NIQVJBQ1RFUlNfSU5fTEFCRUxcbiAgICAgICAgICAgID8gYCR7ZC5zbGljZSgwLCBNYXRoLm1heCgwLCBNQVhfTk9fQ0hBUkFDVEVSU19JTl9MQUJFTCkpfeKApmBcbiAgICAgICAgICAgIDogZCxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYXJ0LnhBeGlzLnRpY2tGb3JtYXQoeEF4aXNGb3JtYXR0ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB5QXhpc0Zvcm1hdHRlciA9IGdldFRpbWVPck51bWJlckZvcm1hdHRlcih5QXhpc0Zvcm1hdCk7XG4gICAgaWYgKGNoYXJ0LnlBeGlzICYmIGNoYXJ0LnlBeGlzLnRpY2tGb3JtYXQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKGNvbnRyaWJ1dGlvbiB8fCBjb21wYXJpc29uVHlwZSA9PT0gJ3BlcmNlbnRhZ2UnKSAmJlxuICAgICAgICAoIXlBeGlzRm9ybWF0IHx8XG4gICAgICAgICAgeUF4aXNGb3JtYXQgPT09IE51bWJlckZvcm1hdHMuU01BUlRfTlVNQkVSIHx8XG4gICAgICAgICAgeUF4aXNGb3JtYXQgPT09IE51bWJlckZvcm1hdHMuU01BUlRfTlVNQkVSX1NJR05FRClcbiAgICAgICkge1xuICAgICAgICAvLyBXaGVuIGNvbXB1dGluZyBhIFwiUGVyY2VudGFnZVwiIG9yIFwiQ29udHJpYnV0aW9uXCIgc2VsZWN0ZWQsXG4gICAgICAgIC8vIGZvcmNlIGEgcGVyY2VudGFnZSBmb3JtYXQgaWYgbm8gY3VzdG9tIGZvcm1hdHRpbmcgc2V0XG4gICAgICAgIHlBeGlzRm9ybWF0dGVyID0gZ2V0TnVtYmVyRm9ybWF0dGVyKE51bWJlckZvcm1hdHMuUEVSQ0VOVF8xX1BPSU5UKTtcbiAgICAgIH1cbiAgICAgIGNoYXJ0LnlBeGlzLnRpY2tGb3JtYXQoeUF4aXNGb3JtYXR0ZXIpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQueTJBeGlzICYmIGNoYXJ0LnkyQXhpcy50aWNrRm9ybWF0KSB7XG4gICAgICBjaGFydC55MkF4aXMudGlja0Zvcm1hdCh5QXhpc0Zvcm1hdHRlcik7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJ0LnlBeGlzKSB7XG4gICAgICBjaGFydC55QXhpcy50aWNrcyg1KTtcbiAgICB9XG4gICAgaWYgKGNoYXJ0LnkyQXhpcykge1xuICAgICAgY2hhcnQueTJBeGlzLnRpY2tzKDUpO1xuICAgIH1cblxuICAgIC8vIFNldCBzaG93TWF4TWluIGZvciBhbGwgYXhpc1xuICAgIHNldEF4aXNTaG93TWF4TWluKGNoYXJ0LnhBeGlzLCB4QXhpc1Nob3dNaW5NYXgpO1xuICAgIHNldEF4aXNTaG93TWF4TWluKGNoYXJ0LngyQXhpcywgeEF4aXNTaG93TWluTWF4KTtcbiAgICBzZXRBeGlzU2hvd01heE1pbihjaGFydC55QXhpcywgeUF4aXNTaG93TWluTWF4KTtcbiAgICBzZXRBeGlzU2hvd01heE1pbihjaGFydC55MkF4aXMsIHlBeGlzMlNob3dNaW5NYXggfHwgeUF4aXNTaG93TWluTWF4KTtcblxuICAgIGlmICh2aXpUeXBlID09PSAndGltZV9waXZvdCcpIHtcbiAgICAgIGlmIChiYXNlQ29sb3IpIHtcbiAgICAgICAgY29uc3QgeyByLCBnLCBiIH0gPSBiYXNlQ29sb3I7XG4gICAgICAgIGNoYXJ0LmNvbG9yKGQgPT4ge1xuICAgICAgICAgIGNvbnN0IGFscGhhID0gZC5yYW5rID4gMCA/IGQucGVyYyAqIDAuNSA6IDE7XG5cbiAgICAgICAgICByZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthbHBoYX0pYDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNoYXJ0LnVzZUludGVyYWN0aXZlR3VpZGVsaW5lKHRydWUpO1xuICAgICAgY2hhcnQuaW50ZXJhY3RpdmVMYXllci50b29sdGlwLmNvbnRlbnRHZW5lcmF0b3IoZCA9PlxuICAgICAgICBnZW5lcmF0ZVRpbWVQaXZvdFRvb2x0aXAoZCwgeEF4aXNGb3JtYXR0ZXIsIHlBeGlzRm9ybWF0dGVyKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh2aXpUeXBlICE9PSAnYnVsbGV0Jykge1xuICAgICAgY29uc3QgY29sb3JGbiA9IGdldFNjYWxlKGNvbG9yU2NoZW1lKTtcbiAgICAgIGNoYXJ0LmNvbG9yKGQgPT4gZC5jb2xvciB8fCBjb2xvckZuKGNsZWFuQ29sb3JJbnB1dChkW2NvbG9yS2V5XSkpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNWaXpUeXBlcyhbJ2xpbmUnLCAnYXJlYSddKSAmJiB1c2VSaWNoVG9vbHRpcCkge1xuICAgICAgY2hhcnQudXNlSW50ZXJhY3RpdmVHdWlkZWxpbmUodHJ1ZSk7XG4gICAgICBpZiAodml6VHlwZSA9PT0gJ2xpbmUnKSB7XG4gICAgICAgIGNoYXJ0LmludGVyYWN0aXZlTGF5ZXIudG9vbHRpcC5jb250ZW50R2VuZXJhdG9yKGQgPT5cbiAgICAgICAgICBnZW5lcmF0ZVJpY2hMaW5lVG9vbHRpcENvbnRlbnQoZCwgc21hcnREYXRlVmVyYm9zZUZvcm1hdHRlciwgeUF4aXNGb3JtYXR0ZXIpLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXJlYSBjaGFydFxuICAgICAgICBjaGFydC5pbnRlcmFjdGl2ZUxheWVyLnRvb2x0aXAuY29udGVudEdlbmVyYXRvcihkID0+XG4gICAgICAgICAgZ2VuZXJhdGVBcmVhQ2hhcnRUb29sdGlwQ29udGVudChkLCBzbWFydERhdGVWZXJib3NlRm9ybWF0dGVyLCB5QXhpc0Zvcm1hdHRlciwgY2hhcnQpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1ZpelR5cGVzKFsnY29tcGFyZSddKSkge1xuICAgICAgY2hhcnQuaW50ZXJhY3RpdmVMYXllci50b29sdGlwLmNvbnRlbnRHZW5lcmF0b3IoZCA9PlxuICAgICAgICBnZW5lcmF0ZUNvbXBhcmVUb29sdGlwQ29udGVudChkLCB5QXhpc0Zvcm1hdHRlciksXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChpc1ZpelR5cGVzKFsnZHVhbF9saW5lJywgJ2xpbmVfbXVsdGknXSkpIHtcbiAgICAgIGNvbnN0IHlBeGlzRm9ybWF0dGVyMSA9IGdldE51bWJlckZvcm1hdHRlcih5QXhpc0Zvcm1hdCk7XG4gICAgICBjb25zdCB5QXhpc0Zvcm1hdHRlcjIgPSBnZXROdW1iZXJGb3JtYXR0ZXIoeUF4aXMyRm9ybWF0KTtcbiAgICAgIGNoYXJ0LnlBeGlzMS50aWNrRm9ybWF0KHlBeGlzRm9ybWF0dGVyMSk7XG4gICAgICBjaGFydC55QXhpczIudGlja0Zvcm1hdCh5QXhpc0Zvcm1hdHRlcjIpO1xuICAgICAgY29uc3QgeUF4aXNGb3JtYXR0ZXJzID0gZGF0YS5tYXAoZGF0dW0gPT5cbiAgICAgICAgZGF0dW0ueUF4aXMgPT09IDEgPyB5QXhpc0Zvcm1hdHRlcjEgOiB5QXhpc0Zvcm1hdHRlcjIsXG4gICAgICApO1xuICAgICAgY2hhcnQudXNlSW50ZXJhY3RpdmVHdWlkZWxpbmUodHJ1ZSk7XG4gICAgICBjaGFydC5pbnRlcmFjdGl2ZUxheWVyLnRvb2x0aXAuY29udGVudEdlbmVyYXRvcihkID0+XG4gICAgICAgIGdlbmVyYXRlTXVsdGlMaW5lVG9vbHRpcENvbnRlbnQoZCwgeEF4aXNGb3JtYXR0ZXIsIHlBeGlzRm9ybWF0dGVycyksXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY29ycmVjdCBjaGFydCBkaW1lbnNpb25zIGlmIGEgY2hhcnQgaXMgcmVuZGVyZWQgaW4gYSBoaWRkZW4gY29udGFpbmVyXG4gICAgY2hhcnQud2lkdGgod2lkdGgpO1xuICAgIGNoYXJ0LmhlaWdodChoZWlnaHQpO1xuXG4gICAgc3ZnXG4gICAgICAuZGF0dW0oZGF0YSlcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbig1MDApXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuY2FsbChjaGFydCk7XG5cbiAgICAvLyBGb3IgbG9nIHNjYWxlLCBvbmx5IHNob3cgMSwgMTAsIDEwMCwgMTAwMCwgLi4uXG4gICAgaWYgKHlJc0xvZ1NjYWxlKSB7XG4gICAgICBjaGFydC55QXhpcy50aWNrRm9ybWF0KGQgPT4gKGQgIT09IDAgJiYgTWF0aC5sb2cxMChkKSAlIDEgPT09IDAgPyB5QXhpc0Zvcm1hdHRlcihkKSA6ICcnKSk7XG4gICAgfVxuXG4gICAgaWYgKHhMYWJlbFJvdGF0aW9uID4gMCkge1xuICAgICAgLy8gc2hpZnQgbGFiZWxzIHRvIHRoZSBsZWZ0IHNvIHRoZXkgbG9vayBiZXR0ZXJcbiAgICAgIGNvbnN0IHhUaWNrcyA9IHN2Zy5zZWxlY3QoJy5udi14Lm52LWF4aXMgPiBnJykuc2VsZWN0QWxsKCdnJyk7XG4gICAgICB4VGlja3Muc2VsZWN0QWxsKCd0ZXh0JykuYXR0cignZHgnLCAtNi41KTtcbiAgICB9XG5cbiAgICBjb25zdCBhcHBseVlBeGlzQm91bmRzID0gKCkgPT4ge1xuICAgICAgaWYgKGNoYXJ0LnlEb21haW4gJiYgQXJyYXkuaXNBcnJheSh5QXhpc0JvdW5kcykgJiYgeUF4aXNCb3VuZHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGNvbnN0IFtjdXN0b21NaW4sIGN1c3RvbU1heF0gPSB5QXhpc0JvdW5kcztcbiAgICAgICAgY29uc3QgaGFzQ3VzdG9tTWluID0gaXNEZWZpbmVkKGN1c3RvbU1pbikgJiYgIU51bWJlci5pc05hTihjdXN0b21NaW4pO1xuICAgICAgICBjb25zdCBoYXNDdXN0b21NYXggPSBpc0RlZmluZWQoY3VzdG9tTWF4KSAmJiAhTnVtYmVyLmlzTmFOKGN1c3RvbU1heCk7XG5cbiAgICAgICAgaWYgKChoYXNDdXN0b21NaW4gfHwgaGFzQ3VzdG9tTWF4KSAmJiB2aXpUeXBlID09PSAnYXJlYScgJiYgY2hhcnQuc3R5bGUoKSA9PT0gJ2V4cGFuZCcpIHtcbiAgICAgICAgICAvLyBCZWNhdXNlIHRoZXJlIGFyZSBjdXN0b20gYm91bmRzLCB3ZSBuZWVkIHRvIG92ZXJyaWRlIHRoZW0gYmFjayB0byAwJS0xMDAlIHNpbmNlIHRoaXNcbiAgICAgICAgICAvLyBpcyBhbiBleHBhbmRlZCBhcmVhIGNoYXJ0XG4gICAgICAgICAgY2hhcnQueURvbWFpbihbMCwgMV0pO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIChoYXNDdXN0b21NaW4gfHwgaGFzQ3VzdG9tTWF4KSAmJlxuICAgICAgICAgIHZpelR5cGUgPT09ICdhcmVhJyAmJlxuICAgICAgICAgIGNoYXJ0LnN0eWxlKCkgPT09ICdzdHJlYW0nXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEJlY2F1c2UgdGhlcmUgYXJlIGN1c3RvbSBib3VuZHMsIHdlIG5lZWQgdG8gb3ZlcnJpZGUgdGhlbSBiYWNrIHRvIHRoZSBkb21haW4gb2YgdGhlXG4gICAgICAgICAgLy8gZGF0YSBzaW5jZSB0aGlzIGlzIGEgc3RyZWFtIGFyZWEgY2hhcnRcbiAgICAgICAgICBjaGFydC55RG9tYWluKGNvbXB1dGVTdGFja2VkWURvbWFpbihkYXRhKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ3VzdG9tTWluICYmIGhhc0N1c3RvbU1heCkge1xuICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSB5IGRvbWFpbiBpZiB0aGVyZSdzIGJvdGggYSBjdXN0b20gbWluIGFuZCBtYXhcbiAgICAgICAgICBjaGFydC55RG9tYWluKFtjdXN0b21NaW4sIGN1c3RvbU1heF0pO1xuICAgICAgICAgIGNoYXJ0LmNsaXBFZGdlKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0N1c3RvbU1pbiB8fCBoYXNDdXN0b21NYXgpIHtcbiAgICAgICAgICAvLyBPbmx5IG9uZSBvZiB0aGUgYm91bmRzIGhhcyBiZWVuIHNldCwgc28gd2UgbmVlZCB0byBtYW51YWxseSBjYWxjdWxhdGUgdGhlIG90aGVyIG9uZVxuICAgICAgICAgIGxldCBbdHJ1ZU1pbiwgdHJ1ZU1heF0gPSBbMCwgMV07XG5cbiAgICAgICAgICAvLyBUaGVzZSB2aXogdHlwZXMgY2FuIGJlIHN0YWNrZWRcbiAgICAgICAgICAvLyBUaGV5IGNvcnJlc3BvbmQgdG8gdGhlIG52ZDMgc3RhY2tlZEFyZWFDaGFydCBhbmQgbXVsdGlCYXJDaGFydFxuICAgICAgICAgIGlmICh2aXpUeXBlID09PSAnYXJlYScgfHwgKGlzVml6VHlwZXMoWydiYXInLCAnZGlzdF9iYXInXSkgJiYgY2hhcnQuc3RhY2tlZCgpKSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHN0YWNrZWQgYXJlYSBjaGFydCBvciBhIHN0YWNrZWQgYmFyIGNoYXJ0XG4gICAgICAgICAgICBbdHJ1ZU1pbiwgdHJ1ZU1heF0gPSBjb21wdXRlU3RhY2tlZFlEb21haW4oZGF0YSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFt0cnVlTWluLCB0cnVlTWF4XSA9IGNvbXB1dGVZRG9tYWluKGRhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IG1pbiA9IGhhc0N1c3RvbU1pbiA/IGN1c3RvbU1pbiA6IHRydWVNaW47XG4gICAgICAgICAgY29uc3QgbWF4ID0gaGFzQ3VzdG9tTWF4ID8gY3VzdG9tTWF4IDogdHJ1ZU1heDtcbiAgICAgICAgICBjaGFydC55RG9tYWluKFttaW4sIG1heF0pO1xuICAgICAgICAgIGNoYXJ0LmNsaXBFZGdlKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBhcHBseVlBeGlzQm91bmRzKCk7XG5cbiAgICAvLyBBbHNvIHJlYXBwbHkgb24gZWFjaCBzdGF0ZSBjaGFuZ2UgdG8gYWNjb3VudCBmb3IgZW5hYmxlZC9kaXNhYmxlZCBzZXJpZXNcbiAgICBpZiAoY2hhcnQuZGlzcGF0Y2ggJiYgY2hhcnQuZGlzcGF0Y2guc3RhdGVDaGFuZ2UpIHtcbiAgICAgIGNoYXJ0LmRpc3BhdGNoLm9uKCdzdGF0ZUNoYW5nZS5hcHBseVlBeGlzQm91bmRzJywgYXBwbHlZQXhpc0JvdW5kcyk7XG4gICAgfVxuXG4gICAgLy8gYWxpZ24geUF4aXMxIGFuZCB5QXhpczIgdGlja3NcbiAgICBpZiAoaXNWaXpUeXBlcyhbJ2R1YWxfbGluZScsICdsaW5lX211bHRpJ10pKSB7XG4gICAgICBjb25zdCBjb3VudCA9IGNoYXJ0LnlBeGlzMS50aWNrcygpO1xuICAgICAgY29uc3QgdGlja3MxID0gY2hhcnQueUF4aXMxLnNjYWxlKCkuZG9tYWluKGNoYXJ0LnlBeGlzMS5kb21haW4oKSkubmljZShjb3VudCkudGlja3MoY291bnQpO1xuICAgICAgY29uc3QgdGlja3MyID0gY2hhcnQueUF4aXMyLnNjYWxlKCkuZG9tYWluKGNoYXJ0LnlBeGlzMi5kb21haW4oKSkubmljZShjb3VudCkudGlja3MoY291bnQpO1xuXG4gICAgICAvLyBtYXRjaCBudW1iZXIgb2YgdGlja3MgaW4gYm90aCBheGVzXG4gICAgICBjb25zdCBkaWZmZXJlbmNlID0gdGlja3MxLmxlbmd0aCAtIHRpY2tzMi5sZW5ndGg7XG4gICAgICBpZiAodGlja3MxLmxlbmd0aCA+IDAgJiYgdGlja3MyLmxlbmd0aCA+IDAgJiYgZGlmZmVyZW5jZSAhPT0gMCkge1xuICAgICAgICBjb25zdCBzbWFsbGVzdCA9IGRpZmZlcmVuY2UgPCAwID8gdGlja3MxIDogdGlja3MyO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHNtYWxsZXN0WzFdIC0gc21hbGxlc3RbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5hYnMoZGlmZmVyZW5jZSk7IGkgKz0gMSkge1xuICAgICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgc21hbGxlc3QudW5zaGlmdChzbWFsbGVzdFswXSAtIGRlbHRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc21hbGxlc3QucHVzaChzbWFsbGVzdFtzbWFsbGVzdC5sZW5ndGggLSAxXSArIGRlbHRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnQueURvbWFpbjEoW3RpY2tzMVswXSwgdGlja3MxW3RpY2tzMS5sZW5ndGggLSAxXV0pO1xuICAgICAgICBjaGFydC55RG9tYWluMihbdGlja3MyWzBdLCB0aWNrczJbdGlja3MyLmxlbmd0aCAtIDFdXSk7XG4gICAgICAgIGNoYXJ0LnlBeGlzMS50aWNrVmFsdWVzKHRpY2tzMSk7XG4gICAgICAgIGNoYXJ0LnlBeGlzMi50aWNrVmFsdWVzKHRpY2tzMik7XG4gICAgICB9XG5cbiAgICAgIGNoYXJ0LnlEb21haW4xKFt5QXhpc0JvdW5kc1swXSB8fCB0aWNrczFbMF0sIHlBeGlzQm91bmRzWzFdIHx8IHRpY2tzMVt0aWNrczEubGVuZ3RoIC0gMV1dKTtcbiAgICAgIGNoYXJ0LnlEb21haW4yKFt5QXhpczJCb3VuZHNbMF0gfHwgdGlja3MyWzBdLCB5QXhpczJCb3VuZHNbMV0gfHwgdGlja3MyW3RpY2tzMi5sZW5ndGggLSAxXV0pO1xuICAgIH1cblxuICAgIGlmIChzaG93TWFya2Vycykge1xuICAgICAgc3ZnLnNlbGVjdEFsbCgnLm52LXBvaW50Jykuc3R5bGUoJ3N0cm9rZS1vcGFjaXR5JywgMSkuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDEpO1xuXG4gICAgICAvLyByZWRvIG9uIGxlZ2VuZCB0b2dnbGU7IG52ZDMgY2FsbHMgdGhlIGNhbGxiYWNrICpiZWZvcmUqIHRoZSBsaW5lIGlzXG4gICAgICAvLyBkcmF3biwgc28gd2UgbmVlZCB0byBhZGQgYSBzbWFsbCBkZWxheSBoZXJlXG4gICAgICBjaGFydC5kaXNwYXRjaC5vbignc3RhdGVDaGFuZ2Uuc2hvd01hcmtlcnMnLCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5udi1wb2ludCcpLnN0eWxlKCdzdHJva2Utb3BhY2l0eScsIDEpLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAxKTtcbiAgICAgICAgfSwgMTApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJ0LnlBeGlzICE9PSB1bmRlZmluZWQgfHwgY2hhcnQueUF4aXMyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEhhY2sgdG8gYWRqdXN0IHkgYXhpcyBsZWZ0IG1hcmdpbiB0byBhY2NvbW1vZGF0ZSBsb25nIG51bWJlcnNcbiAgICAgIGNvbnN0IG1hcmdpblBhZCA9IE1hdGguY2VpbChNYXRoLm1pbihtYXhXaWR0aCAqIChpc0V4cGxvcmUgPyAwLjAxIDogMC4wMyksIE1BWF9NQVJHSU5fUEFEKSk7XG4gICAgICAvLyBIYWNrIHRvIGFkanVzdCBtYXJnaW5zIHRvIGFjY29tbW9kYXRlIGxvbmcgYXhpcyB0aWNrIGxhYmVscy5cbiAgICAgIC8vIC0gaGFzIHRvIGJlIGRvbmUgb25seSBhZnRlciB0aGUgY2hhcnQgaGFzIGJlZW4gcmVuZGVyZWQgb25jZVxuICAgICAgLy8gLSBtZWFzdXJlIHRoZSB3aWR0aCBvciBoZWlnaHQgb2YgdGhlIGxhYmVsc1xuICAgICAgLy8gLS0tLSAoeCBheGlzIGxhYmVscyBhcmUgcm90YXRlZCA0NSBkZWdyZWVzIHNvIHdlIHVzZSBoZWlnaHQpLFxuICAgICAgLy8gLSBhZGp1c3QgbWFyZ2lucyBiYXNlZCBvbiB0aGVzZSBtZWFzdXJlcyBhbmQgcmVuZGVyIGFnYWluXG4gICAgICBjb25zdCBtYXJnaW5zID0gY2hhcnQubWFyZ2luKCk7XG4gICAgICBpZiAoY2hhcnQueEF4aXMpIHtcbiAgICAgICAgbWFyZ2lucy5ib3R0b20gPSAyODtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1heFlBeGlzTGFiZWxXaWR0aCA9IGdldE1heExhYmVsU2l6ZShzdmcsIGNoYXJ0LnlBeGlzMiA/ICdudi15MScgOiAnbnYteScpO1xuICAgICAgY29uc3QgbWF4WEF4aXNMYWJlbEhlaWdodCA9IGdldE1heExhYmVsU2l6ZShzdmcsICdudi14Jyk7XG4gICAgICBtYXJnaW5zLmxlZnQgPSBtYXhZQXhpc0xhYmVsV2lkdGggKyBtYXJnaW5QYWQ7XG5cbiAgICAgIGlmICh5QXhpc0xhYmVsICYmIHlBeGlzTGFiZWwgIT09ICcnKSB7XG4gICAgICAgIG1hcmdpbnMubGVmdCArPSAyNTtcbiAgICAgIH1cbiAgICAgIGlmIChzaG93QmFyVmFsdWUpIHtcbiAgICAgICAgLy8gQWRkIG1vcmUgbWFyZ2luIHRvIGF2b2lkIGxhYmVsIGNvbGxpZGluZyB3aXRoIGxlZ2VuZC5cbiAgICAgICAgbWFyZ2lucy50b3AgKz0gMjQ7XG4gICAgICB9XG4gICAgICBpZiAoeEF4aXNTaG93TWluTWF4KSB7XG4gICAgICAgIC8vIElmIHggYm91bmRzIGFyZSBzaG93biwgd2UgbmVlZCBhIHJpZ2h0IG1hcmdpblxuICAgICAgICBtYXJnaW5zLnJpZ2h0ID0gTWF0aC5tYXgoMjAsIG1heFhBeGlzTGFiZWxIZWlnaHQgLyAyKSArIG1hcmdpblBhZDtcbiAgICAgIH1cbiAgICAgIGlmICh4TGFiZWxSb3RhdGlvbiA9PT0gNDUpIHtcbiAgICAgICAgbWFyZ2lucy5ib3R0b20gPVxuICAgICAgICAgIG1heFhBeGlzTGFiZWxIZWlnaHQgKiBNYXRoLnNpbigoTWF0aC5QSSAqIHhMYWJlbFJvdGF0aW9uKSAvIDE4MCkgKyBtYXJnaW5QYWQgKyAzMDtcbiAgICAgICAgbWFyZ2lucy5yaWdodCA9XG4gICAgICAgICAgbWF4WEF4aXNMYWJlbEhlaWdodCAqIE1hdGguY29zKChNYXRoLlBJICogeExhYmVsUm90YXRpb24pIC8gMTgwKSArIG1hcmdpblBhZDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhZ2dlckxhYmVscykge1xuICAgICAgICBtYXJnaW5zLmJvdHRvbSA9IDQwO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNWaXpUeXBlcyhbJ2R1YWxfbGluZScsICdsaW5lX211bHRpJ10pKSB7XG4gICAgICAgIGNvbnN0IG1heFlBeGlzMkxhYmVsV2lkdGggPSBnZXRNYXhMYWJlbFNpemUoc3ZnLCAnbnYteTInKTtcbiAgICAgICAgbWFyZ2lucy5yaWdodCA9IG1heFlBeGlzMkxhYmVsV2lkdGggKyBtYXJnaW5QYWQ7XG4gICAgICB9XG4gICAgICBpZiAoYm90dG9tTWFyZ2luICYmIGJvdHRvbU1hcmdpbiAhPT0gJ2F1dG8nKSB7XG4gICAgICAgIG1hcmdpbnMuYm90dG9tID0gcGFyc2VJbnQoYm90dG9tTWFyZ2luLCAxMCk7XG4gICAgICB9XG4gICAgICBpZiAobGVmdE1hcmdpbiAmJiBsZWZ0TWFyZ2luICE9PSAnYXV0bycpIHtcbiAgICAgICAgbWFyZ2lucy5sZWZ0ID0gbGVmdE1hcmdpbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHhBeGlzTGFiZWwgJiYgeEF4aXNMYWJlbCAhPT0gJycgJiYgY2hhcnQueEF4aXMpIHtcbiAgICAgICAgbWFyZ2lucy5ib3R0b20gKz0gMjU7XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IDA7XG4gICAgICAgIGlmIChtYXJnaW5zLmJvdHRvbSAmJiAhTnVtYmVyLmlzTmFOKG1hcmdpbnMuYm90dG9tKSkge1xuICAgICAgICAgIGRpc3RhbmNlID0gbWFyZ2lucy5ib3R0b20gLSA0NTtcbiAgICAgICAgfVxuICAgICAgICAvLyBudmQzIGJ1ZyBheGlzTGFiZWxEaXN0YW5jZSBpcyBkaXNyZWdhcmRlZCBvbiB4QXhpc1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20va3Jpc3BvL2FuZ3VsYXItbnZkMy9pc3N1ZXMvOTBcbiAgICAgICAgY2hhcnQueEF4aXMuYXhpc0xhYmVsKHhBeGlzTGFiZWwpLmF4aXNMYWJlbERpc3RhbmNlKGRpc3RhbmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHlBeGlzTGFiZWwgJiYgeUF4aXNMYWJlbCAhPT0gJycgJiYgY2hhcnQueUF4aXMpIHtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMDtcbiAgICAgICAgaWYgKG1hcmdpbnMubGVmdCAmJiAhTnVtYmVyLmlzTmFOKG1hcmdpbnMubGVmdCkpIHtcbiAgICAgICAgICBkaXN0YW5jZSA9IG1hcmdpbnMubGVmdCAtIDcwO1xuICAgICAgICB9XG4gICAgICAgIGNoYXJ0LnlBeGlzLmF4aXNMYWJlbCh5QXhpc0xhYmVsKS5heGlzTGFiZWxEaXN0YW5jZShkaXN0YW5jZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNUaW1lU2VyaWVzICYmIGFubm90YXRpb25EYXRhICYmIGFjdGl2ZUFubm90YXRpb25MYXllcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBUaW1lIHNlcmllcyBhbm5vdGF0aW9ucyBhZGQgYWRkaXRpb25hbCBkYXRhXG4gICAgICAgIGNvbnN0IHRpbWVTZXJpZXNBbm5vdGF0aW9ucyA9IGFjdGl2ZUFubm90YXRpb25MYXllcnNcbiAgICAgICAgICAuZmlsdGVyKGxheWVyID0+IGxheWVyLmFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLlRJTUVfU0VSSUVTKVxuICAgICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgICAoYnVzaGVsLCBhKSA9PlxuICAgICAgICAgICAgICBidXNoZWwuY29uY2F0KFxuICAgICAgICAgICAgICAgIChhbm5vdGF0aW9uRGF0YVthLm5hbWVdIHx8IFtdKS5tYXAoc2VyaWVzID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmICghc2VyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IEFycmF5LmlzQXJyYXkoc2VyaWVzLmtleSlcbiAgICAgICAgICAgICAgICAgICAgPyBgJHthLm5hbWV9LCAke3Nlcmllcy5rZXkuam9pbignLCAnKX1gXG4gICAgICAgICAgICAgICAgICAgIDogYCR7YS5uYW1lfSwgJHtzZXJpZXMua2V5fWA7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogYS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IGEud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZWQ6IGAke2Eub3BhY2l0eX0gJHthLnN0eWxlfSBudi10aW1lc2VyaWVzLWFubm90YXRpb24tbGF5ZXIgc2hvd01hcmtlcnMke2Euc2hvd01hcmtlcnN9IGhpZGVMaW5lJHthLmhpZGVMaW5lfWAsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgW10sXG4gICAgICAgICAgKTtcbiAgICAgICAgZGF0YS5wdXNoKC4uLnRpbWVTZXJpZXNBbm5vdGF0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVuaXF1ZWx5IGlkZW50aWZ5IHRvb2x0aXBzIGJhc2VkIG9uIGNoYXJ0SWQgc28gdGhpcyBjaGFydCBpbnN0YW5jZSBvbmx5XG4gICAgICAvLyBjb250cm9scyBpdHMgb3duIHRvb2x0aXBzXG4gICAgICBpZiAoY2hhcnRJZCkge1xuICAgICAgICBpZiAoY2hhcnQgJiYgY2hhcnQuaW50ZXJhY3RpdmVMYXllciAmJiBjaGFydC5pbnRlcmFjdGl2ZUxheWVyLnRvb2x0aXApIHtcbiAgICAgICAgICBjaGFydC5pbnRlcmFjdGl2ZUxheWVyLnRvb2x0aXAuY2xhc3NlcyhbZ2VuZXJhdGVUb29sdGlwQ2xhc3NOYW1lKGNoYXJ0SWQpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhcnQgJiYgY2hhcnQudG9vbHRpcCkge1xuICAgICAgICAgIGNoYXJ0LnRvb2x0aXAuY2xhc3NlcyhbZ2VuZXJhdGVUb29sdGlwQ2xhc3NOYW1lKGNoYXJ0SWQpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcmVuZGVyIGNoYXJ0XG4gICAgICBjaGFydC5tYXJnaW4obWFyZ2lucyk7XG4gICAgICBzdmdcbiAgICAgICAgLmRhdHVtKGRhdGEpXG4gICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgLmR1cmF0aW9uKDUwMClcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXG4gICAgICAgIC5jYWxsKGNoYXJ0KTtcblxuICAgICAgLy8gT24gc2Nyb2xsLCBoaWRlIChub3QgcmVtb3ZlKSB0b29sdGlwcyBzbyB0aGV5IGNhbiByZWFwcGVhciBvbiBob3Zlci5cbiAgICAgIC8vIFRocm90dGxlIHRvIG9ubHkgNHgvc2Vjb25kLlxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdzY3JvbGwnLFxuICAgICAgICB0aHJvdHRsZSgoKSA9PiBoaWRlVG9vbHRpcHMoZmFsc2UpLCAyNTApLFxuICAgICAgKTtcblxuICAgICAgLy8gVGhlIGJlbG93IGNvZGUgc2hvdWxkIGJlIHJ1biBBRlRFUiByZW5kZXJpbmcgYmVjYXVzZSBjaGFydCBpcyB1cGRhdGVkIGluIGNhbGwoKVxuICAgICAgaWYgKGlzVGltZVNlcmllcyAmJiBhY3RpdmVBbm5vdGF0aW9uTGF5ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRm9ybXVsYSBhbm5vdGF0aW9uc1xuICAgICAgICBjb25zdCBmb3JtdWxhcyA9IGFjdGl2ZUFubm90YXRpb25MYXllcnNcbiAgICAgICAgICAuZmlsdGVyKGEgPT4gYS5hbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5GT1JNVUxBKVxuICAgICAgICAgIC5tYXAoYSA9PiAoeyAuLi5hLCBmb3JtdWxhOiBtYXRoanNQYXJzZShhLnZhbHVlKSB9KSk7XG5cbiAgICAgICAgbGV0IHhNYXg7XG4gICAgICAgIGxldCB4TWluO1xuICAgICAgICBsZXQgeFNjYWxlO1xuICAgICAgICBpZiAodml6VHlwZSA9PT0gJ2JhcicpIHtcbiAgICAgICAgICB4TWluID0gZDMubWluKGRhdGFbMF0udmFsdWVzLCBkID0+IGQueCk7XG4gICAgICAgICAgeE1heCA9IGQzLm1heChkYXRhWzBdLnZhbHVlcywgZCA9PiBkLngpO1xuICAgICAgICAgIHhTY2FsZSA9IGQzLnNjYWxlLnF1YW50aWxlKCkuZG9tYWluKFt4TWluLCB4TWF4XSkucmFuZ2UoY2hhcnQueEF4aXMucmFuZ2UoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeE1pbiA9IGNoYXJ0LnhBeGlzLnNjYWxlKCkuZG9tYWluKClbMF0udmFsdWVPZigpO1xuICAgICAgICAgIHhNYXggPSBjaGFydC54QXhpcy5zY2FsZSgpLmRvbWFpbigpWzFdLnZhbHVlT2YoKTtcbiAgICAgICAgICBpZiAoY2hhcnQueFNjYWxlKSB7XG4gICAgICAgICAgICB4U2NhbGUgPSBjaGFydC54U2NhbGUoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LnhBeGlzLnNjYWxlKSB7XG4gICAgICAgICAgICB4U2NhbGUgPSBjaGFydC54QXhpcy5zY2FsZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4U2NhbGUgPSBkMy5zY2FsZS5saW5lYXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHhTY2FsZSAmJiB4U2NhbGUuY2xhbXApIHtcbiAgICAgICAgICB4U2NhbGUuY2xhbXAodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm9ybXVsYXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHhWYWx1ZXMgPSBbXTtcbiAgICAgICAgICBpZiAodml6VHlwZSA9PT0gJ2JhcicpIHtcbiAgICAgICAgICAgIC8vIEZvciBiYXItY2hhcnRzIHdlIHdhbnQgb25lIGRhdGEgcG9pbnQgZXZhbHVhdGVkIGZvciBldmVyeVxuICAgICAgICAgICAgLy8gZGF0YSBwb2ludCB0aGF0IHdpbGwgYmUgZGlzcGxheWVkLlxuICAgICAgICAgICAgY29uc3QgZGlzdGluY3QgPSBkYXRhLnJlZHVjZSgoeFZhbHMsIGQpID0+IHtcbiAgICAgICAgICAgICAgZC52YWx1ZXMuZm9yRWFjaCh4ID0+IHhWYWxzLmFkZCh4LngpKTtcblxuICAgICAgICAgICAgICByZXR1cm4geFZhbHM7XG4gICAgICAgICAgICB9LCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgeFZhbHVlcy5wdXNoKC4uLmRpc3RpbmN0LnZhbHVlcygpKTtcbiAgICAgICAgICAgIHhWYWx1ZXMuc29ydCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGb3IgZXZlcnkgb3RoZXIgdGltZSB2aXN1YWxpemF0aW9uIGl0IHNob3VsZCBiZSBvaywgdG8gaGF2ZSBhXG4gICAgICAgICAgICAvLyBkYXRhIHBvaW50cyBpbiBldmVuIGludGVydmFscy5cbiAgICAgICAgICAgIGxldCBwZXJpb2QgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgLi4uZGF0YS5tYXAoZCA9PiBNYXRoLm1pbiguLi5kLnZhbHVlcy5zbGljZSgxKS5tYXAoKHYsIGkpID0+IHYueCAtIGQudmFsdWVzW2ldLngpKSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgZGF0YVBvaW50cyA9ICh4TWF4IC0geE1pbikgLyAocGVyaW9kIHx8IDEpO1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgdGhlcmUgYXJlIGVub3VnaCBkYXRhIHBvaW50cyBhbmQgbm90IHRvbyBtYW55XG4gICAgICAgICAgICBwZXJpb2QgPSBkYXRhUG9pbnRzIDwgMTAwID8gKHhNYXggLSB4TWluKSAvIDEwMCA6IHBlcmlvZDtcbiAgICAgICAgICAgIHBlcmlvZCA9IGRhdGFQb2ludHMgPiA1MDAgPyAoeE1heCAtIHhNaW4pIC8gNTAwIDogcGVyaW9kO1xuICAgICAgICAgICAgeFZhbHVlcy5wdXNoKHhNaW4pO1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IHhNaW47IHggPCB4TWF4OyB4ICs9IHBlcmlvZCkge1xuICAgICAgICAgICAgICB4VmFsdWVzLnB1c2goeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4VmFsdWVzLnB1c2goeE1heCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZvcm11bGFEYXRhID0gZm9ybXVsYXMubWFwKGZvID0+ICh7XG4gICAgICAgICAgICBrZXk6IGZvLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZXM6IHhWYWx1ZXMubWFwKHggPT4gKHsgeTogZm8uZm9ybXVsYS5ldmFsdWF0ZSh7IHggfSksIHggfSkpLFxuICAgICAgICAgICAgY29sb3I6IGZvLmNvbG9yLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IGZvLndpZHRoLFxuICAgICAgICAgICAgY2xhc3NlZDogYCR7Zm8ub3BhY2l0eX0gJHtmby5zdHlsZX1gLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBkYXRhLnB1c2goLi4uZm9ybXVsYURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHhBeGlzID0gY2hhcnQueEF4aXMxID8gY2hhcnQueEF4aXMxIDogY2hhcnQueEF4aXM7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gY2hhcnQueUF4aXMxID8gY2hhcnQueUF4aXMxIDogY2hhcnQueUF4aXM7XG4gICAgICAgIGNvbnN0IGNoYXJ0V2lkdGggPSB4QXhpcy5zY2FsZSgpLnJhbmdlKClbMV07XG4gICAgICAgIGNvbnN0IGFubm90YXRpb25IZWlnaHQgPSB5QXhpcy5zY2FsZSgpLnJhbmdlKClbMF07XG5cbiAgICAgICAgaWYgKGFubm90YXRpb25EYXRhKSB7XG4gICAgICAgICAgLy8gRXZlbnQgYW5ub3RhdGlvbnNcbiAgICAgICAgICBhY3RpdmVBbm5vdGF0aW9uTGF5ZXJzXG4gICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICB4ID0+XG4gICAgICAgICAgICAgICAgeC5hbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5FVkVOVCAmJlxuICAgICAgICAgICAgICAgIGFubm90YXRpb25EYXRhICYmXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbkRhdGFbeC5uYW1lXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5mb3JFYWNoKChjb25maWcsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGUgPSBhcHBseU5hdGl2ZUNvbHVtbnMoY29uZmlnKTtcbiAgICAgICAgICAgICAgLy8gQWRkIGV2ZW50IGFubm90YXRpb24gbGF5ZXJcbiAgICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBkM1xuICAgICAgICAgICAgICAgIC5zZWxlY3QoZWxlbWVudClcbiAgICAgICAgICAgICAgICAuc2VsZWN0KCcubnYtd3JhcCcpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgYG52LWV2ZW50LWFubm90YXRpb24tbGF5ZXItJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgY29uc3QgYUNvbG9yID0gZS5jb2xvciB8fCBnZXRDb2xvcihjbGVhbkNvbG9ySW5wdXQoZS5uYW1lKSwgY29sb3JTY2hlbWUpO1xuXG4gICAgICAgICAgICAgIGNvbnN0IHRpcCA9IHRpcEZhY3Rvcnkoe1xuICAgICAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvblRpcENsYXNzOiBgYXJyb3ctZG93biBudi1ldmVudC1hbm5vdGF0aW9uLWxheWVyLSR7Y29uZmlnLnNvdXJjZVR5cGV9YCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNvbnN0IHJlY29yZHMgPSAoYW5ub3RhdGlvbkRhdGFbZS5uYW1lXS5yZWNvcmRzIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5tYXAociA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0aW1lVmFsdWUgPSBuZXcgRGF0ZShtb21lbnQudXRjKHJbZS50aW1lQ29sdW1uXSkpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5yLFxuICAgICAgICAgICAgICAgICAgICBbZS50aW1lQ29sdW1uXTogdGltZVZhbHVlLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIocmVjb3JkID0+ICFOdW1iZXIuaXNOYU4ocmVjb3JkW2UudGltZUNvbHVtbl0uZ2V0TWlsbGlzZWNvbmRzKCkpKTtcblxuICAgICAgICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnNcbiAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJ2xpbmUnKVxuICAgICAgICAgICAgICAgICAgLmRhdGEocmVjb3JkcylcbiAgICAgICAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcbiAgICAgICAgICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgeDE6IGQgPT4geFNjYWxlKG5ldyBEYXRlKGRbZS50aW1lQ29sdW1uXSkpLFxuICAgICAgICAgICAgICAgICAgICB5MTogMCxcbiAgICAgICAgICAgICAgICAgICAgeDI6IGQgPT4geFNjYWxlKG5ldyBEYXRlKGRbZS50aW1lQ29sdW1uXSkpLFxuICAgICAgICAgICAgICAgICAgICB5MjogYW5ub3RhdGlvbkhlaWdodCxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBgJHtlLm9wYWNpdHl9ICR7ZS5zdHlsZX1gKVxuICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCBhQ29sb3IpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGUud2lkdGgpXG4gICAgICAgICAgICAgICAgICAub24oJ21vdXNlb3ZlcicsIHRpcC5zaG93KVxuICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZW91dCcsIHRpcC5oaWRlKVxuICAgICAgICAgICAgICAgICAgLmNhbGwodGlwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSBhbm5vdGF0aW9uIHBvc2l0aW9ucyBvbiBicnVzaCBldmVudFxuICAgICAgICAgICAgICBpZiAoY2hhcnQuZm9jdXMpIHtcbiAgICAgICAgICAgICAgICBjaGFydC5mb2N1cy5kaXNwYXRjaC5vbignb25CcnVzaC5ldmVudC1hbm5vdGF0aW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnbGluZScpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHJlY29yZHMpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICB4MTogZCA9PiB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgICAgeTE6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgeDI6IGQgPT4geFNjYWxlKG5ldyBEYXRlKGRbZS50aW1lQ29sdW1uXSkpLFxuICAgICAgICAgICAgICAgICAgICAgIHkyOiBhbm5vdGF0aW9uSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IHhTY2FsZShuZXcgRGF0ZShkW2UudGltZUNvbHVtbl0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHggPiAwICYmIHggPCBjaGFydFdpZHRoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gSW50ZXJ2YWwgYW5ub3RhdGlvbnNcbiAgICAgICAgICBhY3RpdmVBbm5vdGF0aW9uTGF5ZXJzXG4gICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICB4ID0+XG4gICAgICAgICAgICAgICAgeC5hbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5JTlRFUlZBTCAmJlxuICAgICAgICAgICAgICAgIGFubm90YXRpb25EYXRhICYmXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbkRhdGFbeC5uYW1lXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5mb3JFYWNoKChjb25maWcsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGUgPSBhcHBseU5hdGl2ZUNvbHVtbnMoY29uZmlnKTtcbiAgICAgICAgICAgICAgLy8gQWRkIGludGVydmFsIGFubm90YXRpb24gbGF5ZXJcbiAgICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbnMgPSBkM1xuICAgICAgICAgICAgICAgIC5zZWxlY3QoZWxlbWVudClcbiAgICAgICAgICAgICAgICAuc2VsZWN0KCcubnYtd3JhcCcpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgYG52LWludGVydmFsLWFubm90YXRpb24tbGF5ZXItJHtpbmRleH1gKTtcblxuICAgICAgICAgICAgICBjb25zdCBhQ29sb3IgPSBlLmNvbG9yIHx8IGdldENvbG9yKGNsZWFuQ29sb3JJbnB1dChlLm5hbWUpLCBjb2xvclNjaGVtZSk7XG4gICAgICAgICAgICAgIGNvbnN0IHRpcCA9IHRpcEZhY3RvcnkoZSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgcmVjb3JkcyA9IChhbm5vdGF0aW9uRGF0YVtlLm5hbWVdLnJlY29yZHMgfHwgW10pXG4gICAgICAgICAgICAgICAgLm1hcChyID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVWYWx1ZSA9IG5ldyBEYXRlKG1vbWVudC51dGMocltlLnRpbWVDb2x1bW5dKSk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnZhbEVuZFZhbHVlID0gbmV3IERhdGUobW9tZW50LnV0YyhyW2UuaW50ZXJ2YWxFbmRDb2x1bW5dKSk7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnIsXG4gICAgICAgICAgICAgICAgICAgIFtlLnRpbWVDb2x1bW5dOiB0aW1lVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFtlLmludGVydmFsRW5kQ29sdW1uXTogaW50ZXJ2YWxFbmRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgcmVjb3JkID0+XG4gICAgICAgICAgICAgICAgICAgICFOdW1iZXIuaXNOYU4ocmVjb3JkW2UudGltZUNvbHVtbl0uZ2V0TWlsbGlzZWNvbmRzKCkpICYmXG4gICAgICAgICAgICAgICAgICAgICFOdW1iZXIuaXNOYU4ocmVjb3JkW2UuaW50ZXJ2YWxFbmRDb2x1bW5dLmdldE1pbGxpc2Vjb25kcygpKSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmIChyZWNvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uc1xuICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAgICAgICAgICAgICAuZGF0YShyZWNvcmRzKVxuICAgICAgICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICB4OiBkID0+XG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB4U2NhbGUobmV3IERhdGUoZFtlLmludGVydmFsRW5kQ29sdW1uXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBkID0+XG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeFNjYWxlKG5ldyBEYXRlKGRbZS5pbnRlcnZhbEVuZENvbHVtbl0pKSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeFNjYWxlKG5ldyBEYXRlKGRbZS50aW1lQ29sdW1uXSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBhbm5vdGF0aW9uSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGAke2Uub3BhY2l0eX0gJHtlLnN0eWxlfWApXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGUud2lkdGgpXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGFDb2xvcilcbiAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGFDb2xvcilcbiAgICAgICAgICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMC4yKVxuICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZW92ZXInLCB0aXAuc2hvdylcbiAgICAgICAgICAgICAgICAgIC5vbignbW91c2VvdXQnLCB0aXAuaGlkZSlcbiAgICAgICAgICAgICAgICAgIC5jYWxsKHRpcCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyB1cGRhdGUgYW5ub3RhdGlvbiBwb3NpdGlvbnMgb24gYnJ1c2ggZXZlbnRcbiAgICAgICAgICAgICAgaWYgKGNoYXJ0LmZvY3VzKSB7XG4gICAgICAgICAgICAgICAgY2hhcnQuZm9jdXMuZGlzcGF0Y2gub24oJ29uQnJ1c2guaW50ZXJ2YWwtYW5ub3RhdGlvbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGFubm90YXRpb25zXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgICAgICAgICAgICAgICAuZGF0YShyZWNvcmRzKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgICAgICAgeDogZCA9PiB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeDEgPSB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4MiA9IHhTY2FsZShuZXcgRGF0ZShkW2UuaW50ZXJ2YWxFbmRDb2x1bW5dKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4MiAtIHgxO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlcmVuZGVyIGNoYXJ0IGFwcGVuZGVkIHdpdGggYW5ub3RhdGlvbiBsYXllclxuICAgICAgICBzdmcuZGF0dW0oZGF0YSkuYXR0cignaGVpZ2h0JywgaGVpZ2h0KS5hdHRyKCd3aWR0aCcsIHdpZHRoKS5jYWxsKGNoYXJ0KTtcblxuICAgICAgICAvLyBEaXNwbGF5IHN0eWxlcyBmb3IgVGltZSBTZXJpZXMgQW5ub3RhdGlvbnNcbiAgICAgICAgY2hhcnQuZGlzcGF0Y2gub24oJ3JlbmRlckVuZC50aW1lc2VyaWVzLWFubm90YXRpb24nLCAoKSA9PiB7XG4gICAgICAgICAgZDMuc2VsZWN0QWxsKCcuc2xpY2VfY29udGFpbmVyIC5udi10aW1lc2VyaWVzLWFubm90YXRpb24tbGF5ZXIuc2hvd01hcmtlcnN0cnVlIC5udi1wb2ludCcpXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZS1vcGFjaXR5JywgMSlcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMSk7XG4gICAgICAgICAgZDMuc2VsZWN0QWxsKCcuc2xpY2VfY29udGFpbmVyIC5udi10aW1lc2VyaWVzLWFubm90YXRpb24tbGF5ZXIuaGlkZUxpbmV0cnVlJykuc3R5bGUoXG4gICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJyxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd3JhcFRvb2x0aXAoY2hhcnQpO1xuXG4gICAgcmV0dXJuIGNoYXJ0O1xuICB9O1xuXG4gIC8vIFJlbW92ZSB0b29sdGlwcyBiZWZvcmUgcmVuZGVyaW5nIGNoYXJ0LCBpZiB0aGUgY2hhcnQgaXMgYmVpbmcgcmUtcmVuZGVyZWQgc29tZXRpbWVzXG4gIC8vIHRoZXJlIGFyZSBsZWZ0IG92ZXIgdG9vbHRpcHMgaW4gdGhlIGRvbSxcbiAgLy8gdGhpcyB3aWxsIGNsZWFyIHRoZW0gYmVmb3JlIHJlbmRlcmluZyB0aGUgY2hhcnQgYWdhaW4uXG4gIGlmIChjaGFydElkKSB7XG4gICAgcmVtb3ZlVG9vbHRpcChjaGFydElkKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlVG9vbHRpcHModHJ1ZSk7XG4gIH1cblxuICBudi5hZGRHcmFwaChkcmF3R3JhcGgpO1xufVxuXG5udmQzVmlzLmRpc3BsYXlOYW1lID0gJ05WRDMnO1xubnZkM1Zpcy5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5leHBvcnQgZGVmYXVsdCBudmQzVmlzO1xuIiwiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlYWN0aWZ5LCBzdHlsZWQgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL05WRDNWaXMnO1xuaW1wb3J0IHsgaGlkZVRvb2x0aXBzLCByZW1vdmVUb29sdGlwIH0gZnJvbSAnLi91dGlscyc7XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICBjb25zdCB7IGlkIH0gPSB0aGlzLnByb3BzO1xuICBpZiAoaWQgIT09IG51bGwgJiYgaWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJlbW92ZVRvb2x0aXAoaWQpO1xuICB9IGVsc2Uge1xuICAgIGhpZGVUb29sdGlwcyh0cnVlKTtcbiAgfVxufVxuXG5jb25zdCBSZWFjdE5WRDMgPSByZWFjdGlmeShDb21wb25lbnQsIHsgY29tcG9uZW50V2lsbFVubW91bnQgfSk7XG5cbmNvbnN0IE5WRDMgPSAoeyBjbGFzc05hbWUsIC4uLm90aGVyUHJvcHMgfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICA8UmVhY3ROVkQzIHsuLi5vdGhlclByb3BzfSAvPlxuICA8L2Rpdj5cbik7XG5cbk5WRDMucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxlZChOVkQzKWBcbiAgLnN1cGVyc2V0LWxlZ2FjeS1jaGFydC1udmQzLWRpc3QtYmFyLCAuc3VwZXJzZXQtbGVnYWN5LWNoYXJ0LW52ZDMtYmFyIHtcbiAgICBvdmVyZmxvdy14OiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgc3ZnIHtcbiAgICAgICYubnZkMy1zdmcge1xuICAgICAgICB3aWR0aDogYXV0bztcbiAgICAgICAgZm9udC1zaXplOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLnR5cG9ncmFwaHkuc2l6ZXMubX07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMyB7XG4gICAgbnYteCB0ZXh0IHtcbiAgICAgIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLm19O1xuICAgIH1cbiAgICBnLnN1cGVyc2V0IHBhdGgge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgNTtcbiAgICB9XG4gICAgLm52dG9vbHRpcCB0ci5oaWdobGlnaHQgdGQge1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICAgICAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIHRleHQubnYtYXhpc2xhYmVsIHtcbiAgICAgIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLm19ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIGcuc29saWQgcGF0aCxcbiAgICBsaW5lLnNvbGlkIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IHVuc2V0O1xuICAgIH1cbiAgICBnLmRhc2hlZCBwYXRoLFxuICAgIGxpbmUuZGFzaGVkIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDUsIDU7XG4gICAgfVxuICAgIGcubG9uZ0Rhc2hlZCBwYXRoLFxuICAgIGxpbmUuZG90dGVkIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDEsIDE7XG4gICAgfVxuXG4gICAgZy5vcGFjaXR5TG93IHBhdGgsXG4gICAgbGluZS5vcGFjaXR5TG93IHtcbiAgICAgIHN0cm9rZS1vcGFjaXR5OiAwLjI7XG4gICAgfVxuXG4gICAgZy5vcGFjaXR5TWVkaXVtIHBhdGgsXG4gICAgbGluZS5vcGFjaXR5TWVkaXVtIHtcbiAgICAgIHN0cm9rZS1vcGFjaXR5OiAwLjU7XG4gICAgfVxuICAgIGcub3BhY2l0eUhpZ2ggcGF0aCxcbiAgICBsaW5lLm9wYWNpdHlIaWdoIHtcbiAgICAgIHN0cm9rZS1vcGFjaXR5OiAwLjg7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC0wIHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTAge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgNTtcbiAgICB9XG4gICAgZy50aW1lLXNoaWZ0LTEgcGF0aCxcbiAgICBsaW5lLnRpbWUtc2hpZnQtMSB7XG4gICAgICBzdHJva2UtZGFzaGFycmF5OiAxLCA1O1xuICAgIH1cbiAgICBnLnRpbWUtc2hpZnQtMiBwYXRoLFxuICAgIGxpbmUudGltZS1zaGlmdC0zIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDUsIDE7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC0zIHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTMge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgMTtcbiAgICB9XG4gICAgZy50aW1lLXNoaWZ0LTQgcGF0aCxcbiAgICBsaW5lLnRpbWUtc2hpZnQtNCB7XG4gICAgICBzdHJva2UtZGFzaGFycmF5OiA1LCAxMDtcbiAgICB9XG4gICAgZy50aW1lLXNoaWZ0LTUgcGF0aCxcbiAgICBsaW5lLnRpbWUtc2hpZnQtNSB7XG4gICAgICBzdHJva2UtZGFzaGFycmF5OiAwLjk7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC02IHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTYge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMTUsIDEwLCA1O1xuICAgIH1cbiAgICBnLnRpbWUtc2hpZnQtNyBwYXRoLFxuICAgIGxpbmUudGltZS1zaGlmdC03IHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDE1LCAxMCwgNSwgMTA7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC04IHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTgge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMTUsIDEwLCA1LCAxMCwgMTU7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC05IHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTkge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgNSwgMSwgNTtcbiAgICB9XG4gICAgLm52LW5vRGF0YS5ib2R5IHtcbiAgICAgIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLm19O1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLm5vcm1hbH07XG4gICAgfVxuICB9XG4gIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMy10ci1oaWdobGlnaHQge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICB9XG4gIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMy10ci10b3RhbCB7XG4gICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICB9XG4gIC5udnRvb2x0aXAge1xuICAgIC50b29sdGlwLWhlYWRlciB7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICAgIH1cbiAgICB0Ym9keSB0cjpub3QoLnRvb2x0aXAtaGVhZGVyKSB0ZDpudGgtY2hpbGQoMikge1xuICAgICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgICB9XG4gIH1cbiAgLmQzLXRpcC5udi1ldmVudC1hbm5vdGF0aW9uLWxheWVyLXRhYmxlLFxuICAuZDMtdGlwLm52LWV2ZW50LWFubm90YXRpb24tbGF5ZXItTkFUSVZFIHtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM0ODQ4NDg7XG4gICAgZmlsbC1vcGFjaXR5OiAwLjY7XG4gICAgbWFyZ2luOiA4cHg7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgICY6YWZ0ZXIge1xuICAgICAgY29udGVudDogJ1xcMjVCQyc7XG4gICAgICBmb250LXNpemU6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS5zaXplcy5tfTtcbiAgICAgIGNvbG9yOiAjNDg0ODQ4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAtMTRweDtcbiAgICAgIGxlZnQ6IDk0cHg7XG4gICAgfVxuICB9XG5gO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7O0FDbEJBOzs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQTtBQTZEQTtBQUNBO0FBU0E7QUEyQ0E7QUFFQTtBQUtBO0FBS0E7QUFRQTtBQUtBO0FBT0E7QUEwQ0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQVlBO0FBRUE7QUFNQTtBQU1BO0FBZ0hBO0FBMkNBO0FBd0JBO0FBT0E7QUFTQTtBQVVBO0FBOENBO0FBZ0JBO0FBc0RBO0FBNkJBO0FBQ0E7QUFnQkE7QUFnQ0E7QUEwQkE7QUFZQTtBQU1BO0FBWUE7QUFDQTtBQU9BO0FBQ0E7QUFHQTtBQUlBO0FBR0E7QUFDQTtBQUVBO0FBZUE7QUFLQTtBQStCQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFJQTtBQTZCQTtBQUNBO0FBWUE7QUE0QkE7QUFDQTtBQVdBO0FBVUE7QUFDQTtBQU1BO0FBRUE7QUE4QkE7QUFDQTtBQVNBO0FBQ0E7QUFLQTtBQXdCQTtBQWdDQTtBQXFCQTtBQXFCQTtBQW9DQTtBQWtDQTtBQW9CQTtBQUdBO0FBa0JBO0FBQ0E7QUFDQTs7QUNocENBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWtCQTs7Ozs7O0FBaUNBOzs7Ozs7QUFNQTs7Ozs7O0FBTUE7Ozs7QUFJQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUVBO0FBQ0E7Ozs7OztBQU1BOzs7QUFHQTs7Ozs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7Ozs7Ozs7QUEzSEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2528\n')}}]);